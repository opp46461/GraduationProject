try{let Ne=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},ie=new Ne.Error().stack;ie&&(Ne._sentryDebugIds=Ne._sentryDebugIds||{},Ne._sentryDebugIds[ie]="62011403-3316-4b00-b755-76ca750c5a8f",Ne._sentryDebugIdIdentifier="sentry-dbid-62011403-3316-4b00-b755-76ca750c5a8f")}catch(Ne){}{let Ne=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};Ne.SENTRY_RELEASE={id:"22.10.4"}}(self.webpackChunk_mb2024_mb_proto=self.webpackChunk_mb2024_mb_proto||[]).push([[908],{1076:(Ne,ie,n)=>{"use strict";n.d(ie,{Ay:()=>u,X2:()=>p});const s={user:{id:0,user_id:"",user_cid:"",email:"",is_viewer:!1,name:"",mobile:null,avatar:""},org:{name:"",cid:"",logo:null,spaces:[],plan:"",trial_end_on:null,next_billing_on:"",settings:{},permissions:[],limitation:{is_export_watermark:!1,is_org_quit_transfer:!0,is_org_recent:!0,max_mkt_count:0,max_org_log_days:0,max_pic_bytes:0,max_project_count:0,max_project_share_count:0,max_project_template_count:0,max_project_version_count:0,max_recycler_days:0,max_screen_count:0,storage:0},members:[]},space:{cid:"",created_at:"",deleted:!1,name:"",org_cid:"",permissions:[],space_type:"",updated_at:"",user_id:0,is_disable_banned_viewer:!0},folderListMap:new Map,projectListMap:new Map,lang:"zh-CN"};let p=function(B){return B.UpdateState="reducer:update:user",B.UpdateUser="reducer:update:user",B.UpdateOrg="reducer:update:org",B.UpdateSpace="reducer:update:space",B.UpdateFolderListMap="reducer:update:folderListMap",B.UpdateProjectListMap="reducer:update:projectListMap",B}({});const u=function(B,te){B===void 0&&(B=s);const{type:$,payload:Z}=te;switch($){case p.UpdateState:return{...B,...Z};case p.UpdateUser:return{...B,user:{...B.user,...Z}};case p.UpdateOrg:return{...B,org:{...B.org,...Z}};case p.UpdateSpace:return{...B,space:{...B.space,...Z}};case p.UpdateFolderListMap:return{...B,folderListMap:Z};case p.UpdateProjectListMap:return{...B,projectListMap:Z};default:return B}}},3289:(Ne,ie,n)=>{"use strict";n.d(ie,{n:()=>Rr});var s=n(38502),p=n(72274),I=n(63172),u=n(25942),B=n(1076),te=n(87229);const $={cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"read_only",is_first_canvas_open:!1},Z=null,Q="123",E={projectBasicToken:"BcHc8Xdrrwlnj5pdDxPloA",projectShares:[{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"}]},V={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"},ee={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"};var J=n(54844),de=n(54190),Y=n(53008),O=n(5209),N=n(76844);let b=function(e){return e.acces="access",e.viewAccess="viewAccess",e.copy="copy",e.qrCode="qrCode",e.embed="Embed",e.setting="Setting",e.pwdProtection="PwdProtection",e.password="password",e.sticky="sticky",e.comment="comment",e.mobile="mobile",e}({});var w=function(e){return e.Edit="\u53EF\u7F16\u8F91",e.onlyView="\u4EC5\u67E5\u770B",e}(w||{}),g=function(e){return e.NoLogin="\u672A\u767B\u5F55\u7528\u6237",e.LoginButNotOrgMember="\u975E\u56E2\u961F\u767B\u5F55\u7528\u6237",e.ProjectMember="\u534F\u4F5C\u6210\u5458",e.TeamMember="\u56E2\u961F\u6210\u5458",e}(g||{}),x=function(e){return e.EditMode="\u7F16\u8F91\u6A21\u5F0F",e.ReadOnlyMode="\u53EA\u8BFB\u6A21\u5F0F",e.DeviceMode="\u771F\u673A\u6A21\u5F0F",e.InspectMode="\u6807\u6CE8\u6A21\u5F0F",e}(x||{});const h=e=>{let{userId:i,orgPermissions:l,spacePermissions:d,projectPermissions:S}=e;if(!i)return g.NoLogin;const C=(0,N.ox)(i,l),y=(0,N.ox)(i,d),T=(0,N.ox)(i,S);if(!C)return g.LoginButNotOrgMember;if(y||T)return g.ProjectMember;if(C)return g.TeamMember},v=e=>{let{userCanEdit:i,userId:l,orgPermissions:d,spacePermissions:S,projectPermissions:C,isEditMode:y,view_mode:T,isIframe:L}=e;const W=i?w.Edit:w.onlyView,X=h({userId:l,orgPermissions:d,spacePermissions:S,projectPermissions:C}),q=L?"\u5DE5\u4F5C\u53F0":y?x.EditMode:T==="read_only"?x.ReadOnlyMode:T==="device"?x.DeviceMode:T==="inspect"?x.InspectMode:"";return{user_rights:W,user_type:X,operation_from:q}},j=e=>{let{optionType:i,userCanEdit:l,userId:d,orgPermissions:S,spacePermissions:C,projectPermissions:y,isEditMode:T,view_mode:L,share_type:W,isIframe:X,project_name:q,project_cid:D}=e;const{user_rights:ae,user_type:oe,operation_from:R}=v({userCanEdit:l,userId:d,orgPermissions:S,spacePermissions:C,projectPermissions:y,isEditMode:T,view_mode:L,isIframe:X});(0,O.kH)("share_function_click_V8",{operation_type:i,user_rights:ae,user_type:oe,operation_from:R,project_name:q,project_cid:D,share_type:W})},U=e=>{(0,O.kH)("advanced_sharing_click",e)},c=(()=>{const e={project:void 0,flatKey:void 0,theme:"light",user:void 0,org:void 0,settingPageType:"create",subSettingPageType:"basic",currentSharing:$,hostType:"proto",topPageIndex:"edit",advancedSharingList:[],canEditByUser:!1,mainPage:"share",tabIndex:0,projShareToEdit:"",members:[],isEditMode:location.pathname.includes("/design/"),screenMetaList:void 0,initData:{},loading:!0,hostSharingData:void 0,sharingToast:"",currentSelectSharing:void 0,isOnlyMemberManager:!1,hostCurrentScreen:void 0},i=function(C,y){C===void 0&&(C=e);let{type:T="sharing:state:update",payload:L=e}=y;switch(T){case"sharing:state:update":return{...C,...L};case"sharing:state:clear":return{...e};default:return C}},l={"sharing:init":(C,y)=>{let{dispatch:T}=C,{payload:L}=y;T({type:"sharing:state:update",payload:L})},"sharing:currentSharing:update":(C,y)=>{let{getState:T,dispatch:L}=C,{payload:{updatedKV:W}}=y;const X=T(),D={...d.getCurrentSharing(X),...W};L({type:"sharing:state:update",payload:{currentSharing:D}})},"sharing:remote:sharing:update":async(C,y)=>{let{getState:T,dispatch:L}=C,{payload:{sharingData:W,updatedKV:X}}=y;const q=T(),D=d.getOrg(q),ae=d.getProject(q);let oe;if(W.type==="default"){var R,re;oe=async()=>(0,de.Yu)(ae.cid,{...X}),await(0,Y.eH)({updateType:"update",updateFn:oe,org:D});const le={...ae,...X};L({type:"sharing:state:update",payload:{project:le}}),(R=MB)!=null&&R.action&&((re=MB)==null||re.action("current:update:state",{currentProject:le}))}else{const le=d.getAdvancedSharingList(q),ge={...W,...X};oe=async()=>(0,J.yq)({sharing:ge});const{expired_at:he}=await(0,Y.eH)({updateType:"update",updateFn:oe,org:D,updatedKV:X});L({type:S["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:he}}});const ye=le.map(H=>H.cid===ge.cid?{...ge,expired_at:he}:H);L({type:S["sharing:advancedSharingList:update"],payload:{sharingList:ye}})}},"sharing:remote:sharing:delete":async(C,y)=>{let{getState:T,dispatch:L}=C,{payload:{sharingCid:W}}=y;const X=T(),q=d.getProject(X),D=d.getAdvancedSharingList(X);await(0,J.g)({projectCid:q.cid,sharingCid:W});const ae=D.filter(oe=>oe.cid!==W);L({type:S["sharing:advancedSharingList:update"],payload:{sharingList:ae}})},"sharing:settingPage:advanced:confirm":async(C,y)=>{let{getState:T,dispatch:L}=C,{payload:{updatedKV:W,isCustom:X}}=y;const q=T(),D=d.getSettingPageType(q),ae=d.getCurrentSharing(q),oe=d.getOrg(q),R=d.getProject(q);if(D==="create"){const re=async()=>(0,J.Or)({projectCid:R.cid,sharing:ae});await(0,Y.eH)({updateType:"create",updateFn:re,org:oe}),L({type:S["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})}else{const re=async()=>(0,J.yq)({sharing:ae}),{expired_at:le}=await(0,Y.eH)({updateType:"update",updateFn:re,org:oe,updatedKV:W,isCustom:X});L({type:S["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:le}}})}L({type:"sharing:advance:click:track"})},"sharing:settingPage:default:confirm":async C=>{var y,T;let{getState:L,dispatch:W}=C;const X=L(),q=d.getCurrentSharing(X),D=d.getProject(X),ae=d.getOrg(X),oe=async()=>(0,de.Yu)(D.cid,Object.assign({},q,{building:q.view_sticky}));await(0,Y.eH)({updateType:"update",updateFn:oe,org:ae});const R=Object.assign({},D,q,{building:q.view_sticky});W({type:"sharing:state:update",payload:{project:R}}),(y=MB)!=null&&y.action&&((T=MB)==null||T.action("current:update:state",{currentProject:R}))},"sharing:go-settingPage":(C,y)=>{let{dispatch:T}=C,{payload:{currentSharing:L,settingPageType:W,subSettingPageType:X=e.subSettingPageType}}=y;T({type:"sharing:state:update",payload:{currentSharing:L,settingPageType:W,topPageIndex:"setting",subSettingPageType:X}})},"sharing:topPageIndex:jump":(C,y)=>{let{dispatch:T}=C,{payload:{topPageIndex:L=e.topPageIndex}}=y;T({type:"sharing:state:update",payload:{topPageIndex:L}})},"sharing:advancedSharingList:update":(C,y)=>{let{dispatch:T}=C,{payload:{sharingList:L}}=y;T({type:"sharing:state:update",payload:{advancedSharingList:L}})},"sharing:projectAccess:init":async C=>{let{dispatch:y,getState:T}=C;const L=T(),W=d.getMembers(L),X=d.getProject(L),q=X==null?void 0:X.cid,D=X==null?void 0:X.is_org_project;if(!q||!D){setTimeout(()=>{y({type:c.entryKey["sharing:init"],payload:{loading:!1}})},100);return}const{result:ae,statusOk:oe}=await(0,J.aX)(q);if(y({type:c.entryKey["sharing:init"],payload:{loading:!1}}),!!oe&&ae){var R,re;const{project:le,org:ge}=ae;await y({type:"entry:projectAccess:initProjectData",payload:{initData:ae,members:W}}),y({type:c.entryKey["sharing:init"],payload:{project:le,org:ge,initData:ae}}),(R=MB)!=null&&R.action&&((re=MB)==null||re.action("current:update:state",{currentProject:le}))}},"sharing:function:track":(C,y)=>{let{getState:T}=C,{payload:{operation:L,viewMode:W,isDefault:X}}=y;const q=T(),D=d.getProject(q)||{},ae=d.getCanEditByUser(q),oe=d.getOrg(q)||{},R=d.getUser(q),re=d.getInitData(q)||{},le=(re==null?void 0:re.space)||{},ge=d.getIsEditMode(q),he=d.getHostType(q),{cid:ye,name:H}=D,ve={userCanEdit:ae,userId:R==null?void 0:R.id,orgPermissions:oe==null?void 0:oe.permissions,spacePermissions:le==null?void 0:le.permissions,projectPermissions:D==null?void 0:D.permissions,isEditMode:ge,view_mode:W,optionType:L,share_type:X?"\u9ED8\u8BA4\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB",isIframe:he==="iframe",project_name:H,project_cid:ye};j(ve)},"sharing:advance:click:track":(C,y)=>{let{getState:T}=C,{}=y;const L=T(),W=d.getSettingPageType(L),X=d.getCurrentSharing(L),q=d.getProject(L),D=d.getAdvancedSharingList(L)||[],ae=d.getScreenMetaList(L),oe=d.getHostType(L),R=(0,Y.RF)(ae.pageAttrMap),re=(0,Y.Mj)(!X.screen_visible_switch,X.screen_visible_list,R);let le="\u5168\u90E8";X.screen_visible_switch&&(le=""+re);const ge=D.length;U({link_name:X.link_name,links_number:W==="create"?ge+1:ge,share_type:X.device_model==="device"?"\u6F14\u793A\u6A21\u5F0F":"\u753B\u5E03\u6A21\u5F0F",page_number:le,operation_type:W==="create"?"\u65B0\u5EFA":"\u7F16\u8F91",source:oe==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A",project_name:q.name,project_cid:q.cid})}},d=te.B.genQuery(e,{getStateFn:C=>C.sharing}),S=te.B.genEntryKey(l);return{__initialState:e,__reducer:i,__entry:l,entryKey:S,query:d}})(),G=(0,p.HY)({sharing:c.__reducer,projectAccess:B.Ay}),F={...c.__entry,...I.s},se=()=>{const e=(0,u.RZ)(),i=(0,p.y$)(G,(0,p.Tw)(e.middleware));return e.setEntryMap(F),i};var f=n(18381),_=n(67787),A=n(82738),M=n(60690),k=n(53732),P=n.n(k),ne=n(83414);const fe=_.Ay.div.withConfig({displayName:"styles__StyledSharingToolBar",componentId:"sc-1k4rs1h-0"})(["display:flex;align-items:center;justify-content:space-between;height:","px;padding-right:12px;border-bottom:1px solid ",";&.tool-upgrade{padding-right:24px;}.sharing-title{margin-left:24px;color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;}.upgrade-team-business{padding:0 10px;height:26px;border-radius:13px;display:flex;align-items:center;justify-content:center;background:",";font-size:14px;font-weight:500;position:relative;cursor:pointer;z-index:1;&:hover{background:",";}.team-business{background:linear-gradient(265.2deg,"," -21.19%,"," 105.08%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;flex:none;order:0;flex-grow:0;}.content{font-size:12px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:18px;position:absolute;background:#454647;top:36px;right:0;width:300px;padding:12px 16px;border-radius:6px;.learn-text{margin-left:8px;color:#80BCFF;&:hover{color:#A6D2FF;}}&::before{content:'';position:absolute;top:0px;right:30px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:6px solid transparent;border-bottom:6px solid #454647;}.top-bar{position:absolute;width:100%;height:10px;top:-10px;right:0;}span{color:",";}a{cursor:pointer;color:",";&:hover{color:",";}}}}"],ne.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_background_AI_head_tag,e=>e.theme.color_background_AI_head_tag_hover,e=>e.theme.color_AI_switch_gradient_start,e=>e.theme.color_AI_switch_gradient_end,e=>e.theme.color_text_btn,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover),Ie=_.Ay.div.withConfig({displayName:"styles__StyledShareHeadMembers",componentId:"sc-1d78taz-0"})(["height:36px;border-radius:18px;display:flex;align-items:center;padding:0 4px;cursor:pointer;&:hover{background:",";}.avatar{height:24px;width:24px;border-radius:12px;box-sizing:border-box;border:1px solid ",";&:not(:first-child){margin-left:-6px;}&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:12px;text-align:center;display:flex;align-items:center;}}.item-line{margin-left:6px;width:1px;height:16px;background:",";}.remaining{box-sizing:border-box;border-radius:12px;border:1px solid ",";background:rgb(22,133,252);justify-content:center;display:flex;align-items:center;margin-left:-6px;width:24px;height:24px;svg{width:24px;height:24px;}}.arror{margin-left:6px;width:14px;height:14px;}"],e=>e.theme.color_btn_secondary_active,e=>e.theme.color_share_member__border_color,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_member__border_color);var xe=n(12603),je=n(17307);const $e="__mb_delete_permission",Me=[{value:"org_owner",label:"permissions_org_owner"},{value:"org_manager",label:"permissions_org_super_administrator"},{value:"org_admin",label:"permissions_org_administrator"},{value:"org_member",label:"permissions_org_collaboration_member"},{value:"org_viewer",label:"permissions_org_review_member"}],ue=[{value:"space_manager",label:"permissions_space_manager"},{value:"space_member",label:"permissions_space_collaboration_member"},{value:"space_viewer",label:"permissions_space_review_member"},{value:"space_limiter",label:"permissions_space_unregistered_member"}],pe=[{value:"team_manager",label:"permissions_manager"},{value:"team_member",label:"permissions_can_edit"},{value:"team_viewer",label:"permissions_only_view"},{value:"team_ban_viewer",label:"permissions_ban_view"}],_e=[{value:"project_manager",label:"permissions_manager"},{value:"project_member",label:"permissions_can_edit"},{value:"project_viewer",label:"permissions_only_view"},{value:"project_ban_viewer",label:"permissions_ban_view"}],ke={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},Ae={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",space_ban_viewer:"team_ban_viewer",team_none:"team_viewer",team_owner:"team_manager"},qe=Object.fromEntries([...Me,...ue,...pe,..._e].map(e=>[e.value,e.label]));var ze=n(19481),Ke=n(29152),mt=n(50159);const gt=e=>{const i=(0,f.d4)(Ke.XW),l=i.get(e);return(0,mt.u)(l,i)},St=(e,i)=>{const l=(0,f.d4)(Ke.XW),d=(0,f.d4)(Ke._B),S=(0,f.d4)(Ke.kG),C=(0,f.d4)(Ke.iF),y=(0,f.d4)(Ke.yZ);let T=null,L=null;const W=e;let X=[],q=[],D=[];T=d.get(i),q=T.permissions,D=(0,N.Cj)(T.team_cid,l,C),L=xe.W.Org,X=S,D=Object.values(Object.fromEntries(D.map(le=>[le.user_id,le])));const ae=Object.values(Object.fromEntries([...D,...q].map(le=>[le.user_id,le]))),oe=(0,s.useMemo)(()=>{const le=(0,N.Rc)(X);return X.reduce((ge,he)=>{const{user_id:ye}=he,H=(0,N.CF)({userId:ye,permissionsMap:le,permissionScope:L});return ge.set(Number(ye),H)},new Map)},[X]),R=(0,s.useMemo)(()=>{const le=(0,N.Rc)(ae);return X.reduce((ge,he)=>{const{user_id:ye}=he,H=(0,N.CF)({userId:ye,permissionsMap:le,permissionScope:W});return ge.set(Number(ye),H)},new Map)},[ae,X]),re=(0,s.useMemo)(()=>{const le=(0,N.Rc)(D);return D.reduce((ge,he)=>{const{user_id:ye}=he,H=(0,N.CF)({userId:ye,permissionsMap:le,permissionScope:W});return ge.set(Number(ye),H)},new Map)},[D]);return{userCurrentSpacePermission:y,membersTopScopePermissonMap:oe,membersCurrentScopePermissonMap:R,membersInheritedCurrentScopePermissonMap:re,topScopePermissionMembers:X,currentScopePermissionMembers:q,inheritedPermissionMembers:D,combinedCurrentPermissionMembers:ae}},Et=(e,i,l)=>{const d=(0,f.wA)();return(0,s.useCallback)(async(C,y)=>{const{name:T,email:L,mobile:W,permissionMap:X}=C,{memberCurrentScopePermisson:q,currentScopeRoleName:D}=X;if(!q)return;const ae=T||L||W;let oe=!1;y===$e&&(oe=!0),q.isUnknown?await d({type:"entry:projectAccess:inviteOrgMemberToProject",payload:{projectCid:i,userCid:C.user_cid,roleName:y,userName:ae}}):oe?await d({type:"entry:projectAccess:removeProjectMemberPermission",payload:{projectCid:i,userId:C.user_id,roleName:D,userName:ae}}):await d({type:"entry:projectAccess:updateMemberProjectPermission",payload:{projectCid:i,userId:C.user_id,roleName:y,userName:ae}})},[i,d])},Ut=(e,i)=>{const l=(0,f.d4)(Ke.WR),d=(0,f.d4)(Ke.q7),S=(0,f.d4)(Ke.oV),C=(0,f.d4)(Ke.hG),{userCurrentSpacePermission:y,membersTopScopePermissonMap:T,membersCurrentScopePermissonMap:L,membersInheritedCurrentScopePermissonMap:W,topScopePermissionMembers:X,inheritedPermissionMembers:q,currentScopePermissionMembers:D,combinedCurrentPermissionMembers:ae}=St(e,i),oe=L.get(Number(l))||N.CZ,R=!!C.get(Number(l)),re=(0,s.useMemo)(()=>{const be=new Map;return X.forEach(Pe=>{let{user_id:Oe,role:Ze}=Pe;const Ue=T.get(Number(Oe))||N.CZ,Ye=S.get(Number(Oe))||N.CZ,nt=L.get(Number(Oe))||N.CZ,it=W.get(Number(Oe))||N.CZ,at=!!C.get(Number(Oe)),bt=d.get(Number(Oe));if(!bt)return;const Nt=bt.permission,At=nt.isUnknown?Ze:nt.roleName;be.set(Number(Oe),{...bt,permissionMap:{currentScopeRoleName:At,userCurrentSpacePermission:y,userCurrentScopePermisson:oe,memberTopScopePermisson:Ue,memberCurrentScopePermisson:nt,memberInheritedPermisson:it,memberOrgPermisson:Nt,isSelf:Number(Oe)===Number(l),userIsSpaceLimiter:R,memberIsSpaceLimiter:at,memberIsSpaceManager:Ye.isManager}})}),be},[X,T,L,W,C]),le=(0,s.useMemo)(()=>D.sort((be,Pe)=>ze.Z8[Pe.role]-ze.Z8[be.role]).map(be=>re.get(Number(be.user_id))).filter(be=>be),[D,re]),ge=(0,s.useMemo)(()=>q.sort((be,Pe)=>ze.Z8[Pe.role]-ze.Z8[be.role]).map(be=>{const{user_id:Pe,role:Oe}=be,Ze=W.get(Number(Pe))||N.CZ,Ue=re.get(Number(be.user_id));return Ue?{...Ue,permissionMap:{...Ue.permissionMap,currentScopeRoleName:Oe,memberCurrentScopePermisson:Ze}}:null}).filter(be=>be),[q,re,W]),he=(0,s.useMemo)(()=>ae.sort((be,Pe)=>ze.Z8[Pe.role]-ze.Z8[be.role]).map(be=>re.get(Number(be.user_id))).filter(be=>be),[ae,re]),ye=(0,s.useMemo)(()=>{const be=he.map(Oe=>Number(Oe.user_id)),Pe=[];for(const[Oe,Ze]of re.entries())be.includes(Number(Oe))||Ze&&Pe.push(Ze);return Pe},[re,he]),H=(0,s.useMemo)(()=>{const be=ge.filter(Oe=>{var Ze;return(Ze=Oe.permissionMap)==null||(Ze=Ze.memberCurrentScopePermisson)==null?void 0:Ze.isManager});return Object.values(Object.fromEntries([...be,...le].map(Oe=>[Oe.user_id,Oe])))},[ge,le]),ve=(0,s.useMemo)(()=>{const be=H.map(Oe=>Number(Oe.user_id)),Pe=[];for(const[Oe,Ze]of re.entries())be.includes(Number(Oe))||Ze&&Pe.push(Ze);return Pe},[re,H]);return{isOnlyOneManager:(0,s.useMemo)(()=>he.filter(be=>{var Pe;return(Pe=be.permissionMap)==null||(Pe=Pe.memberCurrentScopePermisson)==null?void 0:Pe.isManager}).length===1,[he]),userCurrentScopePermisson:oe,userCurrentSpacePermission:y,currentMembers:le,inheritedMembers:ge,joinedMembers:he,unjoinedMembers:ye,assignedMembers:H,unassignedMembers:ve,currentOrgMembersMap:d}};var Ot=n(83199),r=n(72214);const me=()=>{var e;const i=(0,f.d4)(c.query.getUser),l=(0,f.d4)(c.query.getProject),d=(0,f.d4)(c.query.getInitData),S=gt(l==null?void 0:l.team_cid),C=l==null?void 0:l.cid,y=(0,f.wA)(),T=(0,s.useCallback)(R=>{R.stopPropagation(),y({type:c.entryKey["sharing:init"],payload:{mainPage:"access"}}),y({type:c.entryKey["sharing:function:track"],payload:{operation:"\u56E2\u961F\u534F\u4F5C"}})},[y]),{currentMembers:L,inheritedMembers:W,joinedMembers:X}=Ut(xe.W.Project,C);let q=L;S>=1?W.forEach(R=>{q.find(le=>le.id===R.id)||q.push(R)}):q=X;const ae=(e=q)==null?void 0:e.filter(R=>Number(R.user_id)!==Number(i==null?void 0:i.id));ae&&(q=ae.slice(0,2));const oe=(0,s.useCallback)(R=>{var re;const{avatar:le,name:ge,id:he}=R;return le&&!le.includes("/images/avatar.png")?(0,r.jsx)("img",{className:"avatar",src:R.avatar,alt:R.name},he):(0,r.jsx)("div",{className:"avatar avater-name",children:ge==null||(re=ge.slice(0,1))==null?void 0:re.toUpperCase()},he)},[]);return!d||JSON.stringify(d)==="{}"?null:(0,r.jsx)(Ot.A,{content:I18N.imockSharing.team_collaborator,direction:"down",distance:5,enterHoverTime:500,children:(0,r.jsxs)(Ie,{onClick:T,children:[oe(i),q.length>0&&q.map(R=>oe(R)),(0,r.jsx)("div",{className:"remaining",children:(0,r.jsx)(je.C,{name:"sharing/add_member",isColorPure:!0})}),(0,r.jsx)(je.C,{name:"sharing/member_arror",isColorPure:!0,className:"arror"})]})})},Se=(0,s.memo)(me),De=_.Ay.div.withConfig({displayName:"styles__StyledSharingSliderBar",componentId:"sc-1garbfp-0"})(["display:flex;height:100%;align-items:center;position:relative;padding-left:24px;.tab-item{color:",";font-size:14px;font-family:PingFang SC;cursor:pointer;height:100%;display:flex;align-items:center;&:not(:first-child){margin-left:14px;}&.tab-sel{color:",";font-weight:500;border-top:2px solid rgba(0,0,0,0);border-bottom:2px solid ",";box-sizing:border-box;}}"],e=>e.theme.color_share_switch_sel_color,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),Ge=e=>{let{tabs:i,handleChangeTabIndex:l,tabIndex:d,className:S}=e;return(0,r.jsx)(De,{className:S,children:i.map((C,y)=>(0,r.jsx)("div",{className:P()("tab-item",d===y&&"tab-sel"),id:"tab-item-"+y,onClick:()=>l(y),children:C},y))})},et=(0,s.memo)(Ge);var ft=n(37342),Pt=n(84957);const Qt=()=>{let e=null;const i=(0,f.wA)(),l=(0,f.d4)(c.query.getProject),d=(0,f.d4)(c.query.getCanEditByUser),S=(0,f.d4)(c.query.getHostType),C=(0,f.d4)(c.query.getIsEditMode),y=(0,f.d4)(c.query.getInitData),T=(0,f.d4)(c.query.getTabIndex),L=(0,f.d4)(c.query.getUser),[W,X]=(0,s.useState)(!1),q=(l==null?void 0:l.is_org_project)||!1,D=S==="iframe"||C,oe=new URLSearchParams(location.search).get("view_mode")||"read_only",R=D&&q&&y&&JSON.stringify(y)!=="{}",re=d&&!q,le=(0,s.useCallback)(()=>{const H=S==="iframe",ve=(H?"\u5DE5\u4F5C\u533A":"\u7F16\u8F91\u533A")+"-v8_\u4E2A\u4EBA_\u5206\u4EAB_\u56E2\u961F\u534F\u4F5C\u5347\u7EA7",we=(H?"dashboard":"workspace")+"-v8_solo_share_upgrade",be={payEntrance:ve,checkoutPlace:we,checkoutArea:H?"dashboard":"proto",mode:"org",isSelectOrg:!0};if(H){if(!L||!L.solo_org)return;const Pe="/workspace/"+L.solo_org.cid+"/admin/order?payment_param="+(0,Pt._)(be);(0,ft.JW)(Pe,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(be)},[]),ge=()=>{e=setTimeout(()=>{X(!0)},1e3)},he=()=>{e&&clearTimeout(e),X(!1)},ye=(0,s.useCallback)(H=>{i({type:c.entryKey["sharing:init"],payload:{tabIndex:H}})},[i]);return(0,r.jsx)(fe,{className:P()(re&&"tool-upgrade"),children:D?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et,{tabIndex:T,tabs:[I18N.imockSharing.default_share,I18N.imockSharing.advanced_sharing],handleChangeTabIndex:ye}),re&&(0,r.jsxs)("div",{className:"upgrade-team-business",onClick:le,onMouseEnter:ge,onMouseLeave:he,children:[(0,r.jsx)("span",{className:"team-business",children:I18N.imockSharing.team_collaboration}),W&&(0,r.jsxs)("div",{className:"content",onClick:H=>H.stopPropagation(),children:[(0,r.jsx)("div",{className:"top-bar"}),(0,r.jsx)("span",{children:I18N.imockSharing.upgrade_to_team_business_plan}),(0,r.jsx)("a",{className:"learn-text",href:I18N.link.link_upgrade_enterprise,target:"_blank",rel:"noopener noreferrer",children:I18N.imockSharing.learn_more})]})]}),R&&(0,r.jsx)(Se,{})]}):(0,r.jsx)("div",{className:"sharing-title",children:oe==="read_only"?I18N.pPreviewToolbar.share:I18N.pPreviewToolbar.share_preview})})},Zt=(0,s.memo)(Qt),ln=_.Ay.div.withConfig({displayName:"styles__StyledSharingAdvancedPage",componentId:"sc-1h5adoi-0"})(["width:100%;height:calc(100% - ","px);padding:16px 20px 5px;overflow-y:auto;.create-item{display:flex;align-items:center;padding:6px 12px;height:32px;color:",";text-align:center;font-size:14px;font-family:PingFang SC;width:fit-content;border-radius:6px;cursor:pointer;svg{width:12px;margin-right:4px;svg path{fill:",";}}&:not(.no-edit):hover{background:",";}&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}"],ne.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_btn_secondary_active),Qs=_.Ay.div.withConfig({displayName:"styles__StyledSharingEmpty",componentId:"sc-1h5adoi-1"})(["width:100%;height:calc(100% - ","px);display:flex;justify-content:center;flex-direction:column;align-items:center;svg{width:254px;}.create-sharing{width:134px;margin-top:40px;}"],ne.gE);var bn=n(25234),Jn=n(21066),Js=n(51090);const Xs=_.Ay.div.withConfig({displayName:"styles__StyledSharingNormalItem",componentId:"sc-11k1y99-0"})(["margin-top:12px;padding:0px 13px;height:134px;display:flex;flex-direction:column;justify-content:center;background:",";border-radius:8px;.share-icon{width:24px;height:24px;border-radius:4px;margin-left:6px;cursor:pointer;&.tempDisabled{pointer-events:none;}svg{width:100%;height:100%;}}"],e=>e.theme.color_bg_canvas),En=_.Ay.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-11k1y99-1"})(["display:flex;min-height:36px;width:100%;margin-top:12px;margin-bottom:16px;&.default-link{margin-bottom:0px;}&.advance-item{margin-bottom:12px;}&.userNoEdit{.left.normal-hover{cursor:not-allowed;.view-access-select{svg,path{fill:",";}}}}&.notView{cursor:not-allowed;.url-copy-button{background:",";border:"," solid 1px;color:",";pointer-events:none;}}.left{flex-grow:1;background-color:",";display:flex;align-items:center;border:"," solid 1px;border-right:none;border-radius:6px 0 0 6px;&.can-not-edit{pointer-events:none;}&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-right:21px;color:",";}.view-access-select{margin-left:10px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.url-copy-button{flex-grow:0;width:97px;}"],e=>e.theme.color_share_access__button_disable,e=>e.theme.color_share_copy__button_disable_bg,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_copy__button_disable,e=>e.isViewActiveDropdown?e.theme.color_btn_secondary_hover:e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.isViewActiveDropdown?"rotate(-180deg)":"",e=>e.theme.color_text_L1),ys=(0,_.Ay)(Jn.Ay).withConfig({displayName:"styles__StyledMenuContent",componentId:"sc-11k1y99-2"})(["ul{width:270px;li > a{padding-left:10px;svg{position:absolute;right:8px;}}}",";&.advance_menu ul{width:244px;}&.misc ul{width:80px;min-width:auto;}"],Js.ZJ),Xn=_.Ay.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-11k1y99-3"})(["display:flex;position:relative;width:82px;font-size:12px;font-weight:500;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";&:hover{background-color:",";}&:active{background-color:",";}color:",";&.is-disabled{cursor:not-allowed;pointer-events:none;color:",";background-color:",";}.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;.copy-check{color:#ffffff;width:24px;}}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],e=>e.theme.color_btn_primary_normal,e=>e.theme.color_btn_primary_hover,e=>e.theme.color_btn_primary_clicked,e=>e.theme.color_text_btn,e=>e.theme.color_text_disabled02,e=>e.theme.color_btn_primary_disabled),hn=_.Ay.div.withConfig({displayName:"styles__StyledSharingItemHead",componentId:"sc-1tpfzbt-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.head-left{display:flex;font-size:14px;font-weight:500;align-items:center;color:",";.public-access{margin-right:8px;}.link-form{width:176px;input{width:176px;}}.link-name{width:176px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:text;&.link-name-not-edit{pointer-events:none;}&:not(.link-name-not-edit):hover{border-bottom:1px solid ",";}position:relative;height:24px;line-height:24px;}input{height:24px;line-height:24px;color:",";width:240px;border-bottom:1px solid ",";}.edit-name{width:20px;height:20px;margin-left:5px;}}.head-right{display:flex;justify-content:center;align-items:center;border-radius:4px;padding-left:4px;&:hover{background-color:",";}}.foot-right{display:flex;align-items:center;}.view-mode-icon{width:16px;height:16px;margin-right:6px;[stroke]{stroke:currentColor;fill:none;}}.share-icon{margin-left:5px;}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_btn_secondary_active);function qs(e){const{fBlur:i,name:l}=e,[d,S]=(0,s.useState)(!1),[C,y]=(0,s.useState)(l),T=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(d){var D;(D=T.current)==null||D.focus()}},[d]);const L=()=>{i(),S(!1)};return{inputRef:T,isRenaming:d,setIsRenaming:S,inputName:C,setInputName:y,handleFocus:()=>{var D;(D=T.current)==null||D.select()},handleBlur:L,handleKeyDown:D=>{D.key==="Enter"&&L()},handleInput:D=>{let ae=D.target.value;ae.length>200&&(ae=ae.substring(0,200)),y(ae)}}}const Bt={embed:"embed",QRcode:"QRcode",setting:"setting",mkt:"mkt_icon",showPage:"showPage"},eo=_.Ay.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-1juwfby-0"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";cursor:pointer;border-radius:4px;position:relative;transition:background-color 0.2s ease-in-out;.Tooltip{display:flex;}&.tempDisabled{opacity:0.3;}&.isBorder{border-radius:50%;border:1px solid ",";}&.disabled{cursor:not-allowed;color:",";}&:not(.disabled):hover{background:",";}&:not(.disabled):active{background:",";}"],e=>e.theme.color_text_L2,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);function _n(e){const{className:i,size:l=20,name:d,onClick:S,onMouseEnter:C,onMouseLeave:y,children:T,tempDisabled:L,direction:W,toolTipName:X,type:q,isColorPure:D,isBorder:ae}=e,oe=R=>{L||S(R,q)};return(0,r.jsx)(Ot.A,{content:X,direction:W||"up",distance:5,enterHoverTime:500,children:(0,r.jsxs)(eo,{className:P()(i,L&&"tempDisabled",ae&&"isBorder"),onClick:oe,onMouseEnter:C,onMouseLeave:y,children:[(0,r.jsx)(je.C,{size:l,name:d,isColorPure:D}),T]})})}const xs=e=>{let{sharingData:i,handleItemAction:l}=e;const{link_name:d}=i,S=(0,f.wA)(),C=i.device_model,[y,T]=(0,s.useState)(d),L=(0,f.d4)(c.query.getCanEditByUser),W=(0,f.d4)(c.query.getIsEditMode),X=(0,f.d4)(c.query.getHostType),q=(0,f.d4)(c.query.getScreenMetaList),D=(0,f.d4)(c.query.getAdvancedSharingList),ae=X==="iframe"||W,oe=ae&&L,R=ae&&L,re=()=>{const Ye=we.current.value;if(Ye==="")Pe(y),S({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}});else if((0,Y.it)({value:Ye,currentSharing:i,sharingList:D}))Pe(y),S({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}});else{T(Ye);const nt={link_name:Ye};S({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:i,updatedKV:nt}})}},le=(0,s.useMemo)(()=>i.type==="advanced"?(0,Y.Sy)(q,i):null,[i,q]),{isRenaming:ge,setIsRenaming:he,handleKeyDown:ye,handleBlur:H,handleFocus:ve,inputRef:we,handleInput:be,setInputName:Pe,inputName:Oe}=qs({name:y||"",fBlur:re}),Ze=(0,s.useCallback)(()=>{he(!0)},[he]),Ue=(0,s.useMemo)(()=>[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Bt.embed,tempDisabled:!1},ENV.IS_ON_PREMISES?null:{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Bt.QRcode,tempDisabled:!1},{name:"sharing/more",toolTipName:I18N.LeftSidePanel.menu,className:Bt.setting,tempDisabled:!R}].filter(Boolean),[R]);return(0,r.jsxs)(hn,{className:P()(!oe&&"canNotEdit"),children:[(0,r.jsxs)("div",{className:"head-left",children:[(0,r.jsx)(je.C,{className:"view-mode-icon",name:C==="device"?"sharing/mode_device":"sharing/mode_canvas"}),ge?(0,r.jsx)("form",{className:"link-form",children:(0,r.jsx)("input",{value:Oe,onFocus:ve,onChange:be,ref:we,onBlur:H,onKeyPress:ye})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:P()("link-name",!R&&"link-name-not-edit"),onClick:Ze,children:y})})]}),(0,r.jsx)(Ot.A,{content:I18N.imockSharing.tab_screen,direction:"up",distance:5,enterHoverTime:500,children:(0,r.jsxs)("div",{className:"head-right",children:[(0,r.jsx)("div",{children:le}),(0,r.jsx)(_n,{className:"share-icon",name:"sharing/page_visible",tempDisabled:!R,size:20,onClick:Ye=>l(Ye,Bt.showPage)})]})}),(0,r.jsx)("div",{className:"foot-right",children:Ue.map((Ye,nt)=>Ye&&(0,r.jsx)(_n,{className:P()("share-icon",Ye.className),name:Ye.name,type:Ye.className,toolTipName:Ye.toolTipName,onClick:l,tempDisabled:Ye.tempDisabled,isColorPure:Ye.isColorPure,size:20},nt))})]})},to=(0,s.memo)(xs),no=_.Ay.div.withConfig({displayName:"styles__StyledSharingItemFoot",componentId:"sc-1b50v3w-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.visit_count{color:",";.svg-icon{path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}.expiration-time{display:flex;align-items:center;color:",";.expire-text{margin:0 4px;cursor:pointer;.expired-desc{color:",";}.expired-no{color:",";}}.expire-icon{width:24px;height:24px;}&.is-expired{color:",";}svg{color:",";cursor:pointer;}.self-transform{svg{transition:all 0.4s;transform:rotate(360deg);}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),Bn=(0,_.DU)([".visit-tips{padding:6px;.tip-updated{display:flex;cursor:pointer;align-items:center;font-size:12px;p{margin:0;display:flex;align-items:center;}.icon-updated{display:inline-flex;align-items:center;margin-left:10px;line-height:14px;color:rgba(112,188,246,1);&:hover{color:rgba(149,209,248,1);}.svg-icon{margin-right:2px;path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}}}"]);var zn=n(79287),qn=n.n(zn);function kn(e,i,l){const d=(0,s.useMemo)(()=>{const y=qn()(),T=qn()(e.expired_at).subtract(2,"s");return T.isBefore(y)?0:T.diff(y,"days")+1},[e]),S=d<=0;let C;return i?C="\u5206\u4EAB\u8D85\u9650\uFF0C\u5347\u7EA7\u89E3\u9501":d>0&&d<=9999?C=d+" \u5929\u540E\u5931\u6548":d>9999?C=l===1?"\u6C38\u4E45\uFF08\u9650\u65F6\u514D\u8D39\uFF09":"\u6C38\u4E45\u6709\u6548":C="\u91CD\u65B0\u751F\u6548",{isExpired:S,remainTimeText:C}}var cn=n(27845),jn=n(53559);const so=e=>{let{sharingData:i,handleUpdateSharing:l}=e;const d=(0,f.wA)(),[S,C]=(0,s.useState)(null),[y,T]=(0,s.useState)(!1),{remainTimeText:L,isExpired:W}=kn(i,!1,999),X=i.device_model,q=i.expire_type==="forever",D=(0,f.d4)(c.query.getUser),ae=(0,f.d4)(c.query.getOrg),oe=(0,f.d4)(c.query.getProject),R=(0,f.d4)(Ke.cb),re=oe==null?void 0:oe.is_org_project;let le=!1,ge=!1;if(re){const{plan:we,trial:be}=(0,jn.rM)(ae);ge=be,le=we===cn.Sj.OrgFull&&!ge}const he=ge||le,ye=R.roleName&&["org_owner","org_admin","org_manager"].includes(R.roleName),H=he?ye?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",ve=(0,s.useCallback)(()=>{l({expire_type:i.expire_type}),T(!0),setTimeout(()=>T(!1),500),d({type:c.entryKey["sharing:function:track"],payload:{operation:"\u91CD\u7F6E\u6709\u6548\u671F",viewMode:X,isDefault:!1}})},[d,l,i.expire_type,X]);return(0,s.useEffect)(()=>{(async()=>{if(i.access_token)try{const be=await(0,J.dJ)(i.access_token);C(be.count)}catch(be){console.error("Error fetching visit count:",be)}})()},[i.access_token]),(0,r.jsxs)(no,{children:[(0,r.jsxs)("div",{className:"visit_count",children:[I18N.imockSharing.visit_count," ",S]}),(0,r.jsxs)("div",{className:P()("expiration-time",{"is-expired":W}),children:[(0,r.jsx)("div",{className:"expire-text",children:(0,r.jsx)("span",{className:W?"expired-desc":"expired-no",children:L})}),!q&&(0,r.jsx)(_n,{direction:"down",toolTipName:I18N.imockSharing.resetLink,onClick:ve,className:P()("expire-icon",{"self-transform":y}),size:12,name:"sharing/refresh_24"})]}),(0,r.jsx)(Bn,{})]})},oo=(0,s.memo)(so);var dt=n(15515);const es=e=>{const{project:i,sharing:l,user:d}=e,[S,C]=(0,s.useState)(!1),[y,T]=(0,s.useState)(void 0);return{isURLCopied:S,handleCopyURL:()=>{(0,Y.kv)({project:i,action:l.password!==""?"\u590D\u5236\u94FE\u63A5\u548C\u5BC6\u7801":"\u590D\u5236\u94FE\u63A5",linkName:l.link_name}),C(!0),clearTimeout(y);const W=setTimeout(()=>C(!1),3e3);T(W);const X=qn()().format("YYYY-MM-DD HH:mm:ss"),q=(0,Y.EL)(d)&&!(0,dt.kV)(ne.nM);(0,dt.cH)(ne.nM,X),q&&(0,O.Sx)({prototype_activation_time:X})}}};var wn=n(43641);function Tn(e){const{password:i}=e;return{isHavePassword:(0,s.useMemo)(()=>i!==null&&i!=="",[i])}}var ts=n(70812);const sn=e=>{var i;let{sharingData:l,setShowDelConfirmModal:d,fromDefault:S}=e;const C=(0,f.wA)(),y=(0,s.useRef)(null),T=l.view_access,L=l.device_model,W=(0,f.d4)(c.query.getProject),X=(0,f.d4)(c.query.getCanEditByUser),q=(0,f.d4)(c.query.getIsEditMode),D=(0,f.d4)(c.query.getHostType),ae=(0,f.d4)(c.query.getUser),oe=(0,f.d4)(c.query.getHostCurrentScreen),R=oe==null?void 0:oe.cid,re=(W==null?void 0:W.is_org_project)||!1,le=D==="iframe"||q,ge=le&&X,[he,ye]=(0,s.useState)({top:0,left:0}),[H,ve]=(0,s.useState)(!1),{isURLCopied:we,handleCopyURL:be}=es({project:W,sharing:l,user:ae}),{isHavePassword:Pe}=Tn(l),Oe=(0,s.useCallback)(()=>{const pt=(0,Y.O8)(W,l,R);(0,wn.$)(pt),be(),C({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:L,isDefault:!1}}),le&&ts.U.protoEditorShareTrack(ae==null?void 0:ae.id,D==="iframe"?"\u5DE5\u4F5C\u53F0\u53F3\u952E\u9AD8\u7EA7\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB")},[C,l,R,be,W,L]),Ze=(0,s.useCallback)(pt=>{const It={view_access:pt};C({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:It}}),C({type:c.entryKey["sharing:function:track"],payload:{operation:pt==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:L,isDefault:!1}})},[l,C,L]),Ue=(0,s.useCallback)(()=>{d({isOpened:!0,item:l})},[d,l]),Ye=(0,s.useCallback)(()=>{C({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:l,settingPageType:"edit"}}),C({type:c.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:L,isDefault:!1}})},[C,l,L]),nt=(0,s.useCallback)(pt=>{C({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:pt}})},[C,l]),[it,at]=(0,s.useState)(void 0),bt=(0,s.useMemo)(()=>{if(it==="viewAccess"){const pt=(0,r.jsx)(je.C,{name:"toolbar/selected",className:"selected-icon"});if(re){const It=T==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Ze("public"),icon:It?pt:(0,r.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Ze("restricted"),icon:It?(0,r.jsx)("div",{style:{width:0}}):pt}]}else return[]}else return[{label:I18N.imockSharing.setting,onclick:Ye},{label:I18N.imockSharing.delete,onclick:Ue}]},[it,Ze,Ue,Ye,T,re]),Nt=(0,s.useCallback)(pt=>{if(!re||!ge)return;at("viewAccess");const It=pt.currentTarget.getBoundingClientRect();ye({top:It.y+It.height+3,left:It.x-1}),ve(!H)},[re,ge,H,at,ye]),At=(0,s.useCallback)((pt,It)=>{if(pt!=null&&pt.currentTarget)switch(It){case Bt.QRcode:pt.stopPropagation(),C({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:l}}),C({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:L,isDefault:!1}});break;case Bt.embed:C({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:l}}),C({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:L,isDefault:!1}});break;case Bt.mkt:(0,ft.JW)("/com24/upload?project_cid="+(W==null?void 0:W.cid),"_blank","noreferrer");break;case Bt.setting:{at("misc");const Lt=pt.currentTarget.getBoundingClientRect(),rn=document.getElementById("v8-share-page").getBoundingClientRect().bottom-Lt.bottom<120?Lt.y-75:Lt.bottom+5;ye({top:rn,left:D==="iframe"?Lt.x+20:Lt.x-60}),ve(!H)}break;case Bt.showPage:C({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:l,settingPageType:"edit",subSettingPageType:"visible"}});break;default:break}},[H,at,ye,ve,C,W,l,L,D]),Ft=(0,s.useCallback)(()=>{var pt;ye({...he,left:((pt=y.current)==null?void 0:pt.getBoundingClientRect().x)-1})},[he]);(0,s.useEffect)(()=>(window.addEventListener("resize",Ft),()=>window.removeEventListener("resize",Ft)));const{isExpired:Gt}=kn(l,!1,999);return(0,r.jsxs)(Xs,{className:P()(S&&"from-default"),children:[(0,r.jsx)(to,{sharingData:l,handleItemAction:At}),(0,r.jsxs)(En,{className:P()("item-center",!ge&&"userNoEdit","advance-item"),isViewActiveDropdown:H&&it==="viewAccess",children:[(0,r.jsx)("div",{ref:y,className:P()("left","sharingV2-click-visible",{"normal-hover":!0},!re&&"can-not-edit"),onClick:Nt,children:(0,r.jsxs)("div",{className:"view-access-select",children:[(0,r.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,r.jsx)("div",{className:"access-name",children:(i=I18N.imockSharing[ne.nQ[T]])!=null?i:"missing data"}),re&&(0,r.jsx)(je.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,r.jsxs)(Xn,{type:"button",className:P()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(we),{"is-disabled":Gt}),onClick:Oe,children:[(0,r.jsx)("span",{className:"state state-0",children:Gt?I18N.dModule.link_expired_err_title:Pe?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,r.jsx)("span",{className:"state state-1",children:(0,r.jsx)(je.C,{name:"new_replace/check",className:"copy-check"})})]})]}),(0,r.jsx)(oo,{sharingData:l,handleUpdateSharing:nt}),H&&(0,r.jsx)(ys,{className:P()("design-avoid",it,"advance_menu"),position:he,onClose:()=>{ve(!1)},children:bt.map((pt,It)=>(0,r.jsx)(Jn.Dr,{text:pt.label,onClick:pt.onclick,icon:pt.icon,disabled:pt.disabled,canClick:pt.tempDisabled},It))})]})},ro=(0,s.memo)(sn),vs=_.Ay.div.withConfig({displayName:"styles__StyledDeletingConfirmModal",componentId:"sc-1ws30dd-0"})(["display:flex;position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,0.4);.confirm-content{display:flex;height:fit-content;border-radius:10px;background:",";width:calc(100% - 54px);color:",";font-family:PingFang SC;font-style:normal;flex-direction:column;padding-bottom:18px;border:1px solid ",";box-shadow:0px 9px 28px 0px rgba(0,0,0,0.09),0px 6px 16px 0px rgba(0,0,0,0.02),0px 3px 6px 0px rgba(0,0,0,0.02);.top{width:100%;height:","px;display:flex;align-items:center;justify-content:center;justify-content:space-between;padding:0 24px;font-size:16px;font-weight:500;line-height:normal;border-bottom:1px solid ",";.close{width:24px;height:24px;svg{width:24px;height:24px;}}}.center{font-size:14px;line-height:22px;width:100%;padding:20px 24px;}.bottom{width:100%;padding-right:24px;display:flex;align-items:center;justify-content:flex-end;.delete{margin-left:12px;}}}"],e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_share_del_confirm_border_color,ne.gE,e=>e.theme.color_bg_border_02);function Cn(e){let{handleConfirmAction:i}=e;return(0,r.jsx)(vs,{children:(0,r.jsxs)("div",{className:"confirm-content",children:[(0,r.jsxs)("div",{className:"top",children:[(0,r.jsx)("div",{children:I18N.imockSharing.delete_share}),(0,r.jsx)(_n,{name:"sharing/close",onClick:()=>i(!1),className:"close"})]}),(0,r.jsx)("div",{className:"center",children:I18N.imockSharing.deletion_shared_links_warning}),(0,r.jsxs)("div",{className:"bottom",children:[(0,r.jsx)(bn.tA,{onClick:()=>i(!1),children:I18N.imockSharing.cancel}),(0,r.jsx)(bn.Qi,{className:"delete",onClick:()=>i(!0),children:I18N.imockSharing.delete})]})]})})}const Un=s.memo(Cn),An=()=>{const e=(0,f.d4)(c.query.getUser),i=(0,f.d4)(c.query.getOrg),{cid:l,name:d,is_org_project:S}=(0,f.d4)(c.query.getProject),C=(0,f.d4)(c.query.getHostType),y=(0,f.d4)(c.query.getAdvancedSharingList),T=(0,f.d4)(c.query.getCanEditByUser),L=(0,f.d4)(c.query.getProjShareToEdit),W=(0,f.d4)(c.query.getTheme),[X,q]=(0,s.useState)({isOpened:!1,item:null}),[D,ae]=(0,s.useState)(!1),oe=(0,f.wA)(),R=y.length===0,re=(0,s.useCallback)(async ge=>{ge&&oe({type:c.entryKey["sharing:remote:sharing:delete"],payload:{sharingCid:X.item.cid}}),q({isOpened:!1,item:null})},[X.item,q,oe]);(0,s.useEffect)(()=>{(async()=>{const ye=(await(0,J.X0)({projectCid:l})).map(H=>({...H,type:"advanced"})).sort((H,ve)=>new Date(ve.created_at).getTime()-new Date(H.created_at).getTime());if(L){const H=ye.find(ve=>ve.access_token===L);H&&(oe({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:H,settingPageType:"edit"}}),oe({type:c.entryKey["sharing:init"],payload:{projShareToEdit:""}}))}oe({type:c.entryKey["sharing:advancedSharingList:update"],payload:{sharingList:ye}}),ae(!0)})()},[l,oe]);const le=async()=>{const ge=(0,Y.jc)(e,i),he=()=>{(0,O.kH)("create_advanced_sharing_click",{project_name:d,project_cid:l,source:C==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A"})};if(y.length>=ge&&!ENV.IS_ON_PREMISES){const H=(i==null?void 0:i.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:H}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:H}}),"*"),he();return}const ye=(0,Y.zM)(l,y,{view_access:S?"restricted":"public"});oe({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:ye,settingPageType:"create"}}),he()};return D?R?(0,r.jsxs)(Qs,{children:[(0,r.jsx)(je.C,{name:W==="dark"?"sharing/empty_dark":"sharing/empty",isColorPure:!0}),(0,r.jsx)(bn.jn,{onClick:le,className:"create-sharing",children:I18N.imockSharing.new_share})]}):(0,r.jsxs)(ln,{children:[(0,r.jsxs)("div",{className:"create-item "+(T?"":"no-edit"),onClick:le,children:[(0,r.jsx)(je.C,{name:"sharing/add_new"}),I18N.imockSharing.new_share]}),y.map((ge,he)=>(0,r.jsx)(ro,{setShowDelConfirmModal:q,sharingData:ge},ge.cid+"-"+he)),X.isOpened&&(0,r.jsx)(Un,{handleConfirmAction:re})]}):null},ns=(0,s.memo)(An),ss=_.Ay.div.withConfig({displayName:"styles__StyledSharingDefaultMainPage",componentId:"sc-zm7bo-0"})(["width:100%;height:calc(100% - ","px);.default-top{height:calc(100% - ","px);display:flex;flex-direction:column;justify-content:center;padding:0 24px;.switch-content{height:24px;display:flex;align-items:center;color:",";font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;justify-content:space-between;span{margin-right:10px;}.visit-count{font-weight:400;font-size:12px;color:",";}}.wm-tip{height:25px;margin-top:12px;display:flex;span{height:25px;font-size:12px;font-weight:400;line-height:25px;color:",";}.divider{width:1px;height:13px;margin:6px 10px;background:",";}.btn{display:inline-block;padding:4px 6px;width:60px;height:25px;line-height:17px;font-size:12px;font-weight:500;border-radius:4px;background:",";color:",";&:hover{background:",";}}}}.default-bottom{height:","px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;color:",";background:",";.bottom-left{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;}.share-icon{width:28px;height:28px;margin-left:14px;&:hover,&:active{background:",";}}svg{width:24px;height:24px;}.default-setting{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:14px;padding:6px 12px 6px 6px;height:28px;border-radius:6px;cursor:pointer;svg{margin-right:2px;}&:not(.no-edit):hover,&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],ne.gE,ne.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_info_bg,e=>e.theme.color_text_link_normal,e=>e.theme.color_grid,ne.gE,e=>e.theme.color_text_L1,e=>e.theme.color_bg_canvas,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);var vt=n(92114),on=n(85449),bs=n(67771),os=n(21770),rs=n(35428),Wn=n(17573);const Hn=e=>{var i;let{defaultShare:l}=e;const d=(0,f.wA)(),S=(0,s.useRef)(null),C=(0,f.d4)(c.query.getProject),y=l,[T,L]=(0,s.useState)(null);C&&(y.visibility=C.visibility);const W=(0,f.d4)(c.query.getHostType),X=(0,f.d4)(c.query.getIsEditMode),q=(0,f.d4)(c.query.getUser),D=W==="iframe"||X,ae=(0,f.d4)(c.query.getCanEditByUser),oe=(0,f.d4)(c.query.getHostCurrentScreen),R=oe==null?void 0:oe.cid,re=(0,f.d4)(c.query.getUser),le=(0,f.d4)(c.query.getOrg),ge=(0,f.d4)(Ke.cb),he=(C==null?void 0:C.is_org_project)||!1,ye=!he&&ae,[H,ve]=(0,s.useState)({top:0,left:0}),[we,be]=(0,s.useState)(!1),[Pe,Oe]=(0,s.useState)(y==null?void 0:y.visibility);let Ze=!1,Ue=!1;if(he){const{plan:st,trial:_t}=(0,jn.rM)(le);Ue=_t,Ze=st===cn.Sj.OrgFull&&!Ue}const Ye=Ue||Ze,nt=ge.roleName&&["org_owner","org_admin","org_manager"].includes(ge.roleName),it=Ye?nt?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",at=D&&ae&&Pe==="open",bt=D&&ae,{isURLCopied:Nt,handleCopyURL:At}=es({project:C,sharing:y,user:q}),[Ft,Gt]=(0,s.useState)(!1),[pt,It]=(0,s.useState)(!0);(0,s.useEffect)(()=>{const st=(0,on.fV)();if(st){const{mdWMMktList:_t,mtWMMktList:en}=st;(_t.size||en.size)&&(0,Wn._5)()&&It(!1);const fs=[..._t,...en];fs.length&&(0,bs.q)(fs).then(or=>{if(or.mdWMMktList.length>0||or.mtWMMktList.length>0){if(!(0,Wn._5)())return;Gt(!0),ts.U.watermarkExposureTrack("share")}})}},[]);const Lt=()=>{const{isSoloMdMember:st}=(0,os.s)(re,MB.currentOrg),_t=!!MB.currentOrg,en={mode:"mat",templatePaySource:"\u7F16\u8F91\u533A-\u79FB\u9664\u6C34\u5370",templatePayClickType:"\u79FB\u9664\u6C34\u5370",payEntrance:"\u7F16\u8F91\u533A-v8-"+(_t?"\u56E2\u961F":"\u4E2A\u4EBA")+"-\u4ED8\u8D39\u7D20\u6750\u8BD5\u7528-\u5206\u4EAB\u884C\u4E3A\u63D0\u793A-\u53BB\u6C34\u5370",checkoutPlace:"workspace_v8_"+(_t?"org":"solo")+"_watermark_share_"+(st?"template":"vip-template"),checkoutArea:"proto"};MB.global.popupHelper.chargeAsync({...en}),(0,rs._)({click_button:"\u5206\u4EAB-"+(st?"\u5347\u7EA7\u7D20\u6750\u4F1A\u5458":"\u5347\u7EA7\u53CC\u4F1A\u5458")})},qt=(0,s.useCallback)(st=>{const _t={access:st};d({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:y,updatedKV:_t}}),d({type:c.entryKey["sharing:function:track"],payload:{operation:st==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:y.view_mode,isDefault:!0}})},[y,d]),ht=(0,s.useMemo)(()=>{const st=(0,r.jsx)(je.C,{name:"toolbar/selected",className:"selected-icon"});if(he){const _t=(y==null?void 0:y.view_access)==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>qt("public"),icon:_t?st:(0,r.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>qt("restricted"),icon:_t?(0,r.jsx)("div",{style:{width:0}}):st}]}else return[]},[qt,he,y]),yt=(0,s.useMemo)(()=>{const st=[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Bt.embed,tempDisabled:Pe==="close",isBorder:!0}];return ENV.IS_ON_PREMISES||st.unshift({name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Bt.QRcode,tempDisabled:Pe==="close",isBorder:!0}),ye&&st.push({name:"sharing/mkt_icon",toolTipName:pt?I18N.imockSharing.publish_to_community:"\u542B\u4ED8\u8D39\u7D20\u6750\uFF0C\u4E0D\u652F\u6301\u4E0A\u4F20",className:Bt.mkt,tempDisabled:Pe==="close"||!pt,isColorPure:!0,isBorder:!0}),st},[Pe,ye,pt]),rn=(0,s.useCallback)(()=>{const st=Pe==="close"?"open":"close",_t={visibility:st};Oe(st),d({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:y,updatedKV:_t}}),d({type:c.entryKey["sharing:function:track"],payload:{operation:st==="open"?"\u6253\u5F00\u8BBF\u95EE":"\u5173\u95ED\u8BBF\u95EE",viewMode:y.view_mode,isDefault:!0}})},[Pe,d,y,Oe]),$n=(0,s.useCallback)(st=>{if(!he||!at)return;const _t=st.currentTarget.getBoundingClientRect();let en=_t.y+_t.height+3;W==="iframe"&&(en=en+56),ve({top:en,left:_t.x-1}),be(!we)},[he,at,we,ve,W]),Qn=(0,s.useCallback)(()=>{const st=(0,Y.O8)(C,y,R);(0,wn.$)(st),At(),d({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9ED8\u8BA4\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:y.view_mode,isDefault:!0}}),D&&ts.U.protoEditorShareTrack(re==null?void 0:re.id,W==="iframe"?"\u5DE5\u4F5C\u53F0\u53F3\u952E\u666E\u901A\u5206\u4EAB":"\u666E\u901A\u5206\u4EAB")},[C,y,R,At,d]),vn=(0,s.useCallback)(()=>{const st=y,{view_mode:_t}=y;d({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:st,settingPageType:"edit"}}),d({type:c.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:_t,isDefault:!0}})},[y,d]),an=(0,s.useCallback)((st,_t)=>{if(!(st!=null&&st.currentTarget))return;const en=y,{view_mode:fs}=y;switch(_t){case Bt.QRcode:st.stopPropagation(),d({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:en}}),d({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:fs,isDefault:!1}});break;case Bt.embed:d({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:en}}),d({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:fs,isDefault:!1}});break;case Bt.mkt:(0,ft.JW)("/com24/upload?project_cid="+(C==null?void 0:C.cid),"_blank","noreferrer");break;default:break}},[d,C,y]),$t=(0,s.useCallback)(()=>{var st;ve({...H,left:((st=S.current)==null?void 0:st.getBoundingClientRect().x)-1})},[H]);return(0,s.useEffect)(()=>(window.addEventListener("resize",$t),()=>window.removeEventListener("resize",$t))),(0,s.useEffect)(()=>{(async()=>{const _t=y.access_token;if(_t)try{const en=await(0,J.dJ)(_t);L(en.count)}catch(en){console.error("Error fetching visit count:",en)}})()},[y.access_token]),y?(0,r.jsxs)(ss,{className:P()(!bt&&"canNotEdit"),children:[(0,r.jsxs)("div",{className:"default-top",children:[D?(0,r.jsxs)("div",{className:"switch-content",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:I18N.imockSharing.public_access}),(0,r.jsx)(vt.A,{size:"small",readOnly:!0,isIOS:!0,isChecked:Pe==="open",onChange:rn})]}),(0,r.jsx)("div",{className:"visit-count",children:T!==null&&T!==0&&(0,r.jsxs)(r.Fragment,{children:[I18N.imockSharing.visit_count," ",T]})})]}):(0,r.jsxs)("div",{className:"switch-content",children:[I18N.imockSharing.default_share,T!==null&&T!==0&&(0,r.jsxs)("div",{className:"visit-count",children:[I18N.imockSharing.visit_count," ",T]})]}),(0,r.jsxs)(En,{className:P()("item-center","default-link",Pe==="close"&&"notView",!at&&"userNoEdit"),isViewActiveDropdown:we,children:[(0,r.jsx)("div",{ref:S,className:P()("left","sharingV2-click-visible",{"normal-hover":!0},!he&&"can-not-edit"),onClick:$n,children:(0,r.jsxs)("div",{className:"view-access-select",children:[(0,r.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,r.jsx)("div",{className:"access-name",children:(i=I18N.imockSharing[ne.nQ[y.view_access]])!=null?i:"missing data"}),he&&(0,r.jsx)(je.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,r.jsxs)(Xn,{type:"button",className:P()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(Nt)),onClick:Qn,children:[(0,r.jsx)("span",{className:"state state-0",children:y.password&&y.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,r.jsx)("span",{className:"state state-1",children:(0,r.jsx)(je.C,{name:"new_replace/check",className:"copy-check"})})]})]}),Ft&&(0,r.jsxs)("div",{className:"wm-tip",children:[(0,r.jsx)("span",{children:I18N.WaterMark.mkt.share.tip}),(0,r.jsx)("div",{className:"divider"}),(0,r.jsx)("div",{className:"btn",onClick:Lt,children:I18N.WaterMark.mkt.remove_wm})]})]}),(0,r.jsxs)("div",{className:"default-bottom",children:[(0,r.jsxs)("div",{className:"bottom-left",children:[(0,r.jsx)("div",{children:I18N.imockSharing.share_mode}),yt.map((st,_t)=>(0,r.jsx)(_n,{className:P()("share-icon",st.className),name:st.name,type:st.className,toolTipName:st.toolTipName,onClick:an,tempDisabled:st.tempDisabled,isColorPure:st.isColorPure,isBorder:st.isBorder,size:24},_t))]}),D&&(0,r.jsxs)("div",{className:P()("default-setting",!at&&"no-edit"),onClick:vn,children:[(0,r.jsx)(je.C,{name:"sharing/default_setting"}),I18N.imockSharing.setting]})]}),we&&(0,r.jsx)(ys,{className:P()("design-avoid","viewAccess"),position:H,onClose:()=>{be(!1)},children:ht.map((st,_t)=>(0,r.jsx)(Jn.Dr,{text:st.label,onClick:st.onclick,icon:st.icon,disabled:st.disabled,canClick:st.tempDisabled},_t))}),(0,r.jsx)(Bn,{})]}):null},io=(0,s.memo)(Hn),ao=_.Ay.div.withConfig({displayName:"styles__StyledSharingMainPage",componentId:"sc-7p2gxy-0"})(["width:100%;position:relative;height:100%;"]),lo=_.Ay.div.withConfig({displayName:"styles__StyledSharingEmbedded",componentId:"sc-xvloju-0"})(["width:100%;padding:20px 32px 0 32px;.desc{line-height:17px;font-size:12px;font-family:PingFang SC;color:",";margin-bottom:20px;}.copy-wrapper{display:flex;justify-content:space-between;height:112px;.demo-img{width:192px;height:100%;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:148px;height:100%;border:1px solid ",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:1px solid ",";color:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:#1684fc;margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;margin-top:14px;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L3);var gn=n(53940);const Jt=_.Ay.div.withConfig({displayName:"styles__StyledSharingTitleBar",componentId:"sc-174zu8p-0"})(["width:100%;height:","px;display:flex;align-items:center;border-bottom:1px solid ",";color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;.title{cursor:pointer;display:flex;align-items:center;svg{width:32px;height:32px;margin-left:10px;}}"],ne.gE,e=>e.theme.color_border_state,e=>e.theme.color_text_L1),Sn=e=>{let{title:i,handleClick:l}=e;return(0,r.jsx)(Jt,{children:(0,r.jsxs)("div",{className:"title",onClick:l,children:[(0,r.jsx)(je.C,{name:"sharing/nav_back"}),i]})})},zt=()=>{let e="read_only";const i=(0,f.wA)(),l=(0,f.d4)(c.query.getCurrentSelectSharing),d=(0,f.d4)(c.query.getProject),S=(0,f.d4)(c.query.getTheme),C=(0,f.d4)(c.query.getHostCurrentScreen),y=(0,f.d4)(c.query.getHostType),T=C==null?void 0:C.cid,{screen_visible_list:L,access_token:W,is_first_canvas_open:X}=l||{};if(l.type==="default"){const{view_mode:he}=l;e=he}else{const{device_model:he}=l;e=he}let q="";const D=(0,f.d4)(c.query.getIsEditMode);l.type==="default"?q=D||e==="read_only"?T:new URLSearchParams(location.search).get("screen")||"":q=T;let ae="";const oe=(0,Y.a2)(W);y==="iframe"?ae='<iframe src="'+oe+"/embed/v2/sharing?view_mode="+e+'" allowTransparency="true" frameborder="0"></iframe>':L&&L.length!==0?ae='<iframe src="'+oe+"/embed/v2/sharing?view_mode="+e+"&selection="+L[0]+(X?"":"&screen="+q)+'" allowTransparency="true" frameborder="0"></iframe>':ae='<iframe src="'+oe+"/embed/v2/sharing?view_mode="+e+(X?"":"&screen="+q)+'" allowTransparency="true" frameborder="0"></iframe>';let R=null;const re=(0,s.useCallback)(he=>{const ye=he.currentTarget;ye.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(R),R=setTimeout(()=>{ye.innerHTML=I18N.imockSharing.successfully_copied},3e3),(0,Y.kv)({action:"\u590D\u5236\u4EE3\u7801",project:d||{},linkName:l.link_name});try{MB.notice({text:"\u590D\u5236\u6210\u529F"})}catch(H){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"embedCopy"}}),"*")}},[l,R,d]),le=(0,s.useCallback)(he=>{(0,wn.$)(ae),re(he)},[re,ae]),ge=(0,s.useCallback)(()=>{i({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[i]);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(Sn,{title:I18N.imockSharing.insert,handleClick:ge}),(0,r.jsxs)(lo,{children:[(0,r.jsx)("p",{className:"desc",children:I18N.imockSharing.zoom_insertion_desc}),(0,r.jsxs)("div",{className:"copy-wrapper",children:[(0,r.jsx)("img",{src:S===gn.Sx.DARK?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),(0,r.jsxs)("div",{className:"copy-box",children:[(0,r.jsx)("p",{className:"sharing-embedded-url",children:ae}),(0,r.jsx)("button",{className:"copy-button copy","data-clipboard-text":ae,onClick:le,children:I18N.imockSharing.copy_code})]})]})]})]})},Mt=(0,s.memo)(zt);var Ht=n(12456);const fn=(0,_.AH)([".vip-title{display:inline-block;color:",";background-color:",";font-weight:500;font-size:12px;padding:0 4px;height:20px;text-align:center;border-radius:4px;line-height:20px;}"],e=>e.isIframe?Ht.fm.color_text_link_normal.value_dark:e.theme.color_text_link_normal,e=>e.isIframe?Ht.fm.color_info_bg.value_dark:e.theme.color_info_bg),Ln=_.Ay.div.withConfig({displayName:"styles__StyledNewSharePage",componentId:"sc-v150qt-0"})(["width:100%;height:100%;background-color:",";.basic-content{width:100%;height:calc(100% - ","px);:first-child{margin-bottom:16px;}}.header{height:","px;display:flex;align-items:center;border-bottom:1px solid ",";span{margin-left:24px;font-size:14px;font-weight:500;color:",";}}.share-link-title{margin-top:20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;margin-left:24px;font-size:12px;.title-text{color:",";}.name-input{display:flex;align-items:center;height:30px;font-size:14px;font-weight:500;color:",";span{max-width:212px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;height:24px;line-height:24px;&:hover:after{box-sizing:border-box;content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:1px solid rgba(22,133,252,1);}}.input-icon{margin-left:8px;}input{width:100%;margin-right:32px;height:24px;line-height:24px;color:",";border-bottom:1px solid rgba(22,133,252,1);}}}.tabs{margin:8px 24px 18px 24px;border-bottom:1px solid ",";.sharing-nav{width:90px;height:25px;min-height:25px;padding:0px;}.nav-item{flex:0;padding:0 24px 0 0;}.nav-label{height:24px;}.active .nav-label{color:",";font-weight:600;}.active.basic{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:30px;height:2px;background:",";}}}.active.visible{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:50px;height:2px;background:",";}}}}.line-item{display:flex;padding:0 24px;height:34px;align-items:center;justify-content:space-between;flex-grow:0;.item-title{color:",";}.item-expired{display:flex;.WorkspaceSelect{border-radius:6px;}.general-input{width:65px;height:28px;border-radius:6px;margin-right:12px;}}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;&:not(:last-child){margin-right:16px;}}.switch-group{display:flex;.view-sticky{display:flex;align-items:center;margin-right:17px;label{margin-right:4px;}}.view-prd{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin:0 8px;color:",";&:hover{color:",";}}}label.checked{color:",";}}}"],e=>e.theme.color_bg_white,ne.gE,ne.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1),_s=_.Ay.div.withConfig({displayName:"styles__StyledBasic",componentId:"sc-v150qt-1"})(["overflow-y:overlay;.divider{height:1px;background:",";margin:4px 24px;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}.expiration,.menu-list-type{cursor:pointer;display:flex;align-items:center;color:",";.misc{display:flex;align-items:center;}.drop-down-icon{margin-left:6px;}}.expiration{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.menu-list-type{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.password-input-item{display:flex;align-items:center;> :last-child{margin-left:10px;}}.last{margin-bottom:-8px;}.line-item.version-control{"," .vip-title{cursor:pointer;margin-left:4px;}}"],e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.isActiveContextMenu&&e.menuListType==="expiration"?"rotate(-180deg)":"rotate(0deg)",e=>e.isActiveContextMenu&&e.menuListType==="viewMode"?"rotate(-180deg)":"rotate(0deg)",fn),Mn=_.Ay.div.withConfig({displayName:"styles__StyledVisible",componentId:"sc-v150qt-2"})(["height:328px;.visible-check{height:32px;}"]),ws=(0,_.DU)([".custom-title{display:flex;justify-content:space-between;align-items:baseline;","}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu .SelectOption{height:28px;&:hover{.vip-title{background-color:",";}}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu.is-open{right:-14px;}"],fn,e=>e.isIframe?Ht.fm.color_bg_white.value_dark:e.theme.color_bg_white);var Vn=n(90108),On=n(39572);function Yo(e){const{isOrgProject:i,sharingData:l,updateSharing:d}=e,S=l.view_mode,{isHavePassword:C}=Tn(l),y=(0,f.wA)(),L=(0,f.d4)(c.query.getHostType)==="iframe",{comment_permission:W,wechat:X,view_sticky:q,is_first_canvas_open:D}=l,ae=(0,s.useMemo)(()=>(0,Y.R0)(i),[i]),oe=()=>{if(C)d({password:""}),y({type:c.entryKey["sharing:settingPage:default:confirm"]});else{const ve=(0,On.I)(6);R(ve)}y({type:c.entryKey["sharing:function:track"],payload:{operation:C?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:S}})},R=ve=>/^\s*$/.test(ve)||!/^\w+$/.test(ve)?!1:(d({password:ve}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:S}}),!0),re=()=>{d({wechat:!X}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:X?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:S}})},le=()=>{d({is_first_canvas_open:!D}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:D?"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:S}})},ge=(0,s.useMemo)(()=>W==="org_member",[W]),he=()=>{d({view_sticky:q==="view_sticky"?"no_sticky":"view_sticky"}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:q?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:S}})},ye=()=>{d({comment_permission:W==="org_member"?"off":"org_member"}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:ge?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:S}})},H=ve=>{let{value:we}=ve;d({view_access:we}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:{access:we}}}),y({type:c.entryKey["sharing:function:track"],payload:{operation:we==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:S,isDefault:!1}})};return(0,r.jsxs)(_s,{children:[i&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,r.jsx)(Vn.A,{name:"access",optionList:ae,value:l.view_access,onChange:H})]}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,r.jsxs)("div",{className:"password-input-item",children:[C&&(0,r.jsx)(On.F,{value:l.password,onSubmit:R}),(0,r.jsx)(vt.A,{size:"small",isIOS:!0,isChecked:C,onChange:oe})]})]}),(0,r.jsx)("div",{className:"divider"}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,r.jsx)(vt.A,{size:"small",isIOS:!0,isChecked:q==="view_sticky",onChange:he})]}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,r.jsx)(vt.A,{size:"small",isIOS:!0,isChecked:ge,onChange:ye})]}),(0,r.jsx)("div",{className:"divider"}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,r.jsx)(vt.A,{size:"small",isIOS:!0,isChecked:X,onChange:re})]}),!L&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,r.jsx)(vt.A,{size:"small",isIOS:!0,isChecked:D,onChange:le})]})]})}var $o=n(69623);const Cs=()=>[{key:"read_only",label:I18N.imockSharing.read_only_mode,icon:"sharing/mode_canvas"},{key:"device",label:I18N.imockSharing.device_mode,icon:"sharing/mode_device"},{key:"inspect",label:I18N.imockSharing.inspect_mode,icon:"sharing/mode_inspect"}],Ss=e=>{let{sharingData:i,updateSharing:l}=e;const d=D=>()=>{l({device_model:D})},[S,C]=(0,s.useState)(!1),y=(0,s.createRef)(),T=(0,f.d4)(c.query.getTheme),[L,W]=(0,s.useState)({left:0,top:0}),X=()=>{if(!(y!=null&&y.current))return;const{left:D,top:ae,height:oe}=y.current.getBoundingClientRect();W({left:D-58,top:ae+oe+6}),setTimeout(()=>{C(!0)},0)},q=()=>{C(!1)};return(0,r.jsx)(co,{className:P()({dark:T==="dark"}),children:(0,r.jsxs)("div",{className:"device-model",children:[(0,r.jsxs)("div",{className:"device-model-header",children:[(0,r.jsx)("div",{className:"device-model-title",children:I18N.imockSharing.default_mode}),(0,r.jsxs)("div",{className:"modal-container",ref:y,children:[(0,r.jsx)(je.C,{onMouseEnter:X,onMouseLeave:q,className:"tipsIcon",name:"sharing/question",size:14}),S&&(0,r.jsx)(Ms,{theme:T,position:L})]})]}),(0,r.jsx)("div",{className:"device-model-type-container",children:Cs().map((D,ae)=>{let{key:oe,label:R,icon:re}=D;const le="device-model-"+oe+"   ";return(0,r.jsxs)("div",{className:P()("device-model-type-item",le,{"is-active":oe===i.device_model,dark:T==="dark"}),onClick:d(oe),children:[(0,r.jsx)(je.C,{name:re,size:16}),(0,r.jsx)("span",{children:R})]},ae)})})]})})},Ms=(0,s.memo)(e=>{const{theme:i,position:l}=e;return(0,$o.createPortal)((0,r.jsxs)(Kn,{className:P()("device-model-modal",{light:i==="light",dark:i==="dark"}),style:{left:l.left,top:l.top},children:[(0,r.jsx)("div",{className:"icon-triangle"}),(0,r.jsxs)("div",{className:P()("modal-content"),children:[(0,r.jsxs)("div",{className:"content-item read_only",children:[(0,r.jsx)("img",{src:"/mb-proto2/images/sharing/intro_read_only_"+i+"_2.png"}),(0,r.jsxs)("div",{className:"content-item-text",children:[(0,r.jsx)("div",{className:"intro-title",children:I18N.imockSharing.read_only_mode}),(0,r.jsx)("div",{className:"intro-content",children:I18N.imockSharing.read_only_mode_intro})]})]}),(0,r.jsxs)("div",{className:"content-item device",children:[(0,r.jsx)("img",{src:"/mb-proto2/images/sharing/intro_device_"+i+"_2.png"}),(0,r.jsxs)("div",{className:"content-item-text",children:[(0,r.jsx)("div",{className:"intro-title",children:I18N.imockSharing.device_mode}),(0,r.jsx)("div",{className:"intro-content",children:I18N.imockSharing.device_mode_intro})]})]}),(0,r.jsxs)("div",{className:"content-item inspect",children:[(0,r.jsx)("img",{src:"/mb-proto2/images/sharing/intro_inspect_"+i+"_2.png"}),(0,r.jsxs)("div",{className:"content-item-text",children:[(0,r.jsx)("div",{className:"intro-title",children:I18N.imockSharing.inspect_mode}),(0,r.jsx)("div",{className:"intro-content",children:I18N.imockSharing.inspect_mode_intro})]})]})]})]}),document.body)}),co=_.Ay.div.withConfig({displayName:"ViewModeModel__StyledDeviceModel",componentId:"sc-spi606-0"})(["position:relative;margin-bottom:14px;margin-top:20px;.device-model{padding:0 24px;.device-model-header{display:flex;align-items:center;margin-bottom:10px;color:",";.device-model-title{margin-right:4px;line-height:14px;}}.modal-container{display:flex;.tipsIcon{color:",";&:hover{color:",";}}}.device-model-type-container{display:flex;justify-content:space-between;.svg-icon > *{fill:currentColor;}.device-model-type-item{width:111px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(219,219,219,1);border-radius:6px;color:",";&.dark{border:1px solid #4f5052;}span{margin-left:4px;font-size:14px;}&:hover{border:1px solid  ",";}.svg-icon{[stroke]{stroke:currentColor;fill:none;}}&.is-active{border:1px solid  ",";color:",";.svg-icon{color:",";}}}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal),Kn=_.Ay.div.withConfig({displayName:"ViewModeModel__StyledDeviceModelModal",componentId:"sc-spi606-1"})(["&.device-model-modal{z-index:100;position:absolute;border-radius:8px;&.dark{.modal-content{outline:1px solid ",";}}&.light{box-shadow:0px 2px 10px 0px #27364E14;box-shadow:4px 12px 40px 0px #27364E1A;}.icon-triangle{z-index:1;position:absolute;width:10px;height:10px;top:-4px;left:58px;background:",";transform:rotate(45deg);border-top-left-radius:1px;}&.dark .icon-triangle{width:9px;height:9px;top:-5px;left:59px;border-top:1px solid ",";border-left:1px solid ",";}.modal-content{display:flex;flex-direction:column;padding:20px;width:374px;height:366px;border-radius:8px;background:",";&:lang(en){height:250px;}img{width:160px;height:96px;}.content-item:not(:last-child){margin-bottom:16px;}.content-item-text{display:flex;flex-direction:column;justify-content:center;height:100%;margin-left:16px;}.device,.read_only,.inspect{width:100%;height:96px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;.intro-title{width:56px;height:22px;color:",";font-size:14px;font-weight:600;margin-bottom:6px;&:lang(en){width:max-content;}}.intro-content{color:",";}}}}"],e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2);function uo(){const e=(0,f.d4)(c.query.getCurrentSharing),i=(0,f.d4)(c.query.getProject),l=(0,f.wA)(),d=(0,s.useCallback)(y=>{l({type:c.entryKey["sharing:currentSharing:update"],payload:{updatedKV:y}})},[l]),S=y=>{l({type:c.entryKey["sharing:currentSharing:update"],payload:{updatedKV:y}}),(0,dt.a0)(i.cid+"_default_sharing_view_mode",y.device_model,dt.qW.String),l({type:c.entryKey["sharing:settingPage:default:confirm"]})},C=()=>{l({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})};return(0,r.jsxs)(Ln,{children:[(0,r.jsx)(Sn,{title:I18N.imockSharing.sharing_setting_title,handleClick:C}),(0,r.jsxs)("div",{className:"basic-content",children:[(0,r.jsx)(Ss,{sharingData:e,updateSharing:S}),(0,r.jsx)(Yo,{isOrgProject:i.is_org_project,sharingData:e,updateSharing:d})]})]})}var is=n(89208);const Ns=()=>(0,r.jsx)(Is,{}),Is=_.Ay.div.withConfig({displayName:"Divider__StyledDivider",componentId:"sc-x06h85-0"})(["height:1px;background:",";margin:8px 24px;"],e=>e.theme.color_background_icon_hover2);var po=n(23089),Es=n(5649),ks=n(12246),js=n(28932);function ho(e){const{isOrgProject:i,sharingData:l,updateSharing:d,settingPageType:S}=e,C=l.device_model,y=(0,s.useMemo)(()=>(0,Y.R0)(i),[i]),{isHavePassword:T}=Tn(l),L=(0,f.d4)(c.query.getUser),W=(0,f.d4)(c.query.getOrg),q=(0,f.d4)(c.query.getHostType)==="iframe",D=(0,f.wA)(),ae="v8-\u5206\u4EAB\u5F39\u7A97_\u81EA\u5B9A\u4E49\u94FE\u63A5\u6709\u6548\u671F";let oe=!1,R=!1;if(i){const{plan:ht}=(0,jn.rM)(W);oe=[cn.Sj.OrgExpired,cn.Sj.OrgFree].includes(ht),R=ht!==cn.Sj.OrgFull}else{const ht=js.tz.InitialUser(L),yt=ht.planSdk.prototypePlan.getUserPlan(),rn=ht.planSdk.prototypePlan.getUserStatus();oe=![cn.L1.Lifetime,cn.L1.PremiumLifetime].includes(yt)&&rn!==cn.pZ.Trial,R=![cn.L1.Lifetime,cn.L1.PremiumLifetime].includes(yt)}const{view_sticky:re,comment_permission:le,wechat:ge,enable_version_record:he,is_first_canvas_open:ye}=l,H=ht=>{let{value:yt}=ht;d({view_access:yt})},ve=()=>{if(T)d({password:""});else{const ht=(0,On.I)(6);we(ht)}D({type:c.entryKey["sharing:function:track"],payload:{operation:T?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:C,isDefault:!0}})},we=ht=>/^\s*$/.test(ht)||!/^\w+$/.test(ht)?!1:(d({password:ht}),D({type:c.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:C,isDefault:!0}}),!0),be=()=>{d({wechat:!ge}),D({type:c.entryKey["sharing:function:track"],payload:{operation:ge?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:C,isDefault:!0}})},Pe=()=>{d({is_first_canvas_open:!ye}),D({type:c.entryKey["sharing:function:track"],payload:{operation:ye?"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:C,isDefault:!0}})},Oe=(0,s.useMemo)(()=>le==="org_member",[le]),Ze=()=>{d({view_sticky:!re,sticky:!re}),D({type:c.entryKey["sharing:function:track"],payload:{operation:re?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:C,isDefault:!0}})},Ue=()=>{d({comment_permission:le==="org_member"?"off":"org_member"}),D({type:c.entryKey["sharing:function:track"],payload:{operation:Oe?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:C,isDefault:!0}})},[Ye,nt]=(0,s.useState)("1"),[it,at]=(0,s.useState)("forever"),{remainTimeText:bt}=kn(l,!1,999);(0,s.useEffect)(()=>{l&&l.expire_type==="forever"?at(l.expire_type):(nt(l.expire_type),at(bt))},[l,bt]);const Nt=(0,s.useRef)(null),At=()=>{if(oe){const ht=(0,ks.l)(W,ae);if(W||(ht.mode="org",ht.isSelectOrg=!0),q){const yt="/workspace?payment_param="+(0,Pt._)(ht);(0,ft.JW)(yt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(ht);return!0}return!1},Ft=ht=>{if(ht==="forever")d({expire_type:ht});else if(At()){d({expire_type:"forever"},{isCustom:!0});return}D({type:c.entryKey["sharing:function:track"],payload:{operation:ht==="forever"?"\u6709\u6548\u671F\u6C38\u4E45":"\u6709\u6548\u671F\u81EA\u5B9A\u4E49",viewMode:C,isDefault:!1}}),at(ht)},Gt=[{label:"\u6C38\u4E45\u6709\u6548",value:"forever"},{label:oe?(0,r.jsxs)("div",{className:"custom-title",children:["\u81EA\u5B9A\u4E49",(0,r.jsx)("span",{className:"vip-title",children:"\u56E2\u961F\u7248"})]}):"\u81EA\u5B9A\u4E49",value:"custom"}],pt=ht=>/^([1-9]\d{0,3}|9999)$/.test(ht),It=ht=>{const yt=ht.target.value;if(!pt(yt))try{MB.notice({text:"\u8F93\u5165\u503C\u65E0\u6548\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165",type:"warning"});return}catch($n){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}d({expire_type:yt}),nt(yt)},Lt=()=>{const ht=(0,ks.l)(W,"\u7F16\u8F91\u533A_v8\u539F\u578B\u5206\u4EAB_\u7248\u672C\u8BB0\u5F55\u5F00\u5173","v8proto-share-set-version",!0);if(ht.immediateUse="org_full",q){const yt="/workspace?payment_param="+(0,Pt._)(ht);(0,ft.JW)(yt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(ht)},qt=()=>{R?Lt():(d({enable_version_record:!he}),D({type:c.entryKey["sharing:function:track"],payload:{operation:he?"\u5173\u95ED\u67E5\u770B\u7248\u672C\u8BB0\u5F55":"\u6253\u5F00\u67E5\u770B\u7248\u672C\u8BB0\u5F55",viewMode:C,isDefault:!1}}))};return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsxs)(_s,{children:[l.type==="advanced"&&i&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,r.jsx)(Vn.A,{name:"access",optionList:y,value:l.view_access,onChange:H})]}),(0,r.jsxs)("div",{className:"line-item "+(i?"mt":""),children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,r.jsxs)("div",{className:"password-input-item",children:[T&&(0,r.jsx)(On.F,{value:l.password,onSubmit:we}),(0,r.jsx)(vt.A,{size:"small",isIOS:!0,isChecked:T,onChange:ve})]})]}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_link_expired}),(0,r.jsxs)("div",{className:"item-expired",children:[it==="custom"&&(0,r.jsx)(Es.A,{className:"general-input",attr:"width",value:Ye,cursorDirection:!1,min:1,max:9999,rightTitle:"\u5929",actionButton:!1,ref:Nt,isSelect:!0,onBlur:It,disableKeyboardEvents:!0}),(0,r.jsx)(po.mq,{value:it,attr:"expire_type",placeholder:S==="create"?Ye+"\u5929\u540E\u5931\u6548":it,optionList:Gt,onChange:ht=>Ft(ht)})]})]}),(0,r.jsx)(Ns,{}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,r.jsx)(vt.A,{size:"small",isIOS:!0,isChecked:re,onChange:Ze})]}),(0,r.jsxs)("div",{className:"line-item mt",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,r.jsx)(vt.A,{size:"small",isIOS:!0,isChecked:Oe,onChange:Ue})]}),(0,r.jsxs)("div",{className:"line-item version-control mt",children:[(0,r.jsxs)("label",{className:"item-title",children:[I18N.imockSharing.version_control,R&&(0,r.jsx)("span",{className:"vip-title",onClick:Lt,children:I18N.Common.business_plan})]}),(0,r.jsx)(vt.A,{size:"small",isIOS:!0,isChecked:he,readOnly:R,onChange:qt})]}),(0,r.jsx)(Ns,{}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,r.jsx)(vt.A,{size:"small",isIOS:!0,isChecked:ge,onChange:be})]}),!q&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,r.jsx)(vt.A,{size:"small",isIOS:!0,isChecked:ye,onChange:Pe})]})]}),(0,r.jsx)(ws,{isIframe:q})]})}var dn=n(95549),mo=n(25582),xt=n.n(mo);const go=_.Ay.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-1wxzhto-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#f2f2f2;}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:",";transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_disabled01,e=>e.isCircle?"50%":"2px",e=>e.theme.color_bg_white,e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2);class as extends s.PureComponent{constructor(){super(...arguments),(0,dn.A)(this,"onToggle",i=>{const{onChange:l}=this.props;l(i)})}render(){const{className:i,isDisabled:l,readOnly:d,isChecked:S,isCircle:C}=this.props,y=P()(i,{"is-checked":S,"is-disabled":l,readonly:d});return(0,r.jsx)(go,{className:y,onClick:this.onToggle,isCircle:C,children:(0,r.jsx)("span",{className:"Check-state",children:(0,r.jsx)(je.C,{name:"new_replace/box_check"})})})}}(0,dn.A)(as,"propTypes",{isChecked:xt().bool,isDisabled:xt().bool,readOnly:xt().bool,onChange:xt().func,label:xt().any,name:xt().string,value:xt().any,className:xt().string,isCircle:xt().bool}),(0,dn.A)(as,"defaultProps",{isChecked:!1,label:"",className:"",isCircle:!1,onChange:()=>null,onToggle:()=>null});var Ts=n(61068),As=n(69246),Gn=n(85584);const ls=_.Ay.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1bmii7a-0"})(["padding:0 17px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.item-title{color:",";}}.sm-check{.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}&.is-checked.is-disabled .Check-state{background-color:",";border:1px solid ",";span.icon{color:",";}}&.is-disabled .Check-state{background-color:",";border:1px solid ",";}&.is-disabled::after{background-color:unset;}}.screen-config-header{display:flex;padding-left:8px;flex-direction:row;height:36px;&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}> label{&.is-disabled::after{background-color:unset;}}span.Check-label{color:",";}.content-wrapper{span{color:",";}}}span.Check-label{color:",";margin-left:10px;}.content-wrapper{display:flex;align-items:center;span{&.divider{margin-left:10px;margin-right:11px;}color:",";}}}.screen-list-content{height:210px;overflow-y:overlay;background:",";margin:0 8px;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&.dark{&::-webkit-scrollbar-thumb{background-color:#666;border-radius:4px;&:hover{background-color:#cccccc;}}}&::-webkit-scrollbar-corner{background-color:transparent;}&::-webkit-scrollbar{width:6px;}.screen-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}}ol,li{list-style:none;}.sm-list{height:auto;overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}margin-left:8px;padding-left:15px;.sm-box{display:flex;align-items:center;height:36px;&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;.expander{svg{color:",";cursor:not-allowed;}}.screen-name{color:",";}}}}.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{min-width:20px;min-height:20px;margin-right:4px;color:",";}.expander{display:flex;align-items:center;justify-content:center;margin-left:-15px;margin-right:1px;width:14px;height:14px;.arrow-icon{margin-right:0;color:#999;width:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-icon{margin-right:4px;}.screen-name{color:",";}}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1);class Ls extends s.PureComponent{constructor(i){super(i),(0,dn.A)(this,"handleCheck",y=>{const{onUpdateScreenVisibleList:T,screenVisibleList:L}=this.props,W=new Set(L),X=(0,Gn.YU)(y),q=W.has(y.cid);X.forEach(ae=>{let{cid:oe}=ae;q?W.delete(oe):W.add(oe)});const D=[];for(const ae of W){const oe=this.screenDataMap[ae];oe&&!(0,Gn.Mo)(oe)&&D.push(oe)}T(Array.from(W))}),(0,dn.A)(this,"onSelectAll",y=>{const{onUpdateScreenVisibleList:T}=this.props;T(y?this.pageKeyList:[])});const{screenMetaList:l}=i,{treeData:d,pageAttrMap:S,pageKeyList:C}=l;this.screenDataMap=S,this.screenTreeData=d,this.pageKeyList=C,this.pageExceptFolderList=(0,Y.RF)(S)}componentDidMount(){const i=(0,dt.Yt)("currentJumpingSharingScreenMetaCid",void 0,dt.qW.String);(0,dt.G5)("currentJumpingSharingScreenMetaCid"),i!==void 0&&setTimeout(()=>document.getElementById("app-sharing").querySelector('.content-item[data-cid="'+i+'"]').scrollIntoView(),300)}render(){const{theme:i,screenVisibleList:l,isDisplayScreenAll:d}=this.props,S=(l==null?void 0:l.length)===this.pageKeyList.length,C=(0,Y.Mj)(d,l,this.pageExceptFolderList);return(0,r.jsxs)(ls,{children:[(0,r.jsxs)("div",{className:P()("screen-config-header",{"is-disabled":d}),children:[(0,r.jsx)(Ts.A,{className:"sm-check",label:I18N.imockSharing.select_all,onChange:this.onSelectAll,isDisabled:d,isChecked:S}),(0,r.jsxs)("div",{className:"content-wrapper",children:[(0,r.jsx)("span",{className:"divider",children:"|"}),(0,r.jsx)("span",{children:I18N.imockSharing.select_n_screens.replace("%1",C).replace("%2",this.pageExceptFolderList.length)})]})]}),(0,r.jsx)("div",{className:P()("screen-list-content",{"is-disabled":d,dark:i==="dark"}),children:(0,r.jsx)("div",{className:"sm-list",children:(0,r.jsx)(Os,{theme:i,isDisplayScreenAll:d,screenTreeData:this.screenTreeData,screenVisibleList:l,onCheck:this.handleCheck})})})]})}}(0,dn.A)(Ls,"propTypes",{theme:xt().string,screenMetaList:xt().object,screenVisibleList:xt().array,onUpdateScreenVisibleList:xt().func,isDisplayScreenAll:xt().bool});const Os=e=>{let{theme:i,isDisplayScreenAll:l,screenTreeData:d,screenVisibleList:S,onCheck:C}=e;return(0,r.jsx)(r.Fragment,{children:d.children.map(y=>(0,r.jsx)(Zn,{theme:i,treeNode:y,root:!0,depth:0,screenVisibleList:S,isDisplayScreenAll:l,onCheck:C},y.cid))})};Os.propTypes={theme:xt().string,isDisplayScreenAll:xt().bool,screenTreeData:xt().object,screenVisibleList:xt().array,onCheck:xt().func};class Zn extends s.PureComponent{constructor(i){super(i),(0,dn.A)(this,"handleCheck",l=>{l.stopPropagation();const{isDisplayScreenAll:d}=this.props;if(d)return;const{treeNode:S,onCheck:C}=this.props;C(S)}),(0,dn.A)(this,"handleExpand",l=>{const{isDisplayScreenAll:d}=this.props;d||(l.stopPropagation(),this.setState({expand:!this.state.expand}))}),this.state={expand:!0}}render(){const{isDisplayScreenAll:i,treeNode:l,root:d,depth:S,screenVisibleList:C,onCheck:y,theme:T}=this.props,{children:L,data:W}=l,X=L.length!==0,{expand:q}=this.state,D=C&&C.includes(l.cid);return(0,r.jsxs)("li",{className:P()("content-item"),"data-cid":l.cid,children:[(0,r.jsxs)("div",{className:P()("sm-box",{"is-display":D,"is-disabled":i}),children:[(0,r.jsx)(as,{isDisabled:i,className:"sm-check",isChecked:D,onChange:this.handleCheck}),(0,r.jsx)(Ps,{isDisabled:i,theme:T,root:d,depth:S,showExpander:X,data:W,expand:q,onClick:this.handleCheck,onExpand:this.handleExpand})]}),L.length>0&&q&&(0,r.jsx)("ol",{className:"sm-child",children:L.map(ae=>(0,r.jsx)(Zn,{theme:T,treeNode:ae,depth:S+1,screenVisibleList:C,isDisplayScreenAll:i,onCheck:y},ae.cid))})]})}}(0,dn.A)(Zn,"propTypes",{theme:xt().string,isDisplayScreenAll:xt().bool,treeNode:xt().object,screenVisibleList:xt().array,depth:xt().number,root:xt().bool,onCheck:xt().func});class Ps extends s.PureComponent{render(){const{depth:i,showExpander:l,data:d,expand:S,onExpand:C,onClick:y,theme:T,isDisabled:L}=this.props,W=19*(i+1);return(0,r.jsxs)("div",{className:P()("sm-item"),style:{paddingLeft:W},onClick:y,children:[l&&(0,r.jsx)("a",{className:"expander",onClick:C,children:(0,r.jsx)(je.C,{className:P()("arrow-icon",{"is-expand":S}),name:"common/expand"})}),(0,r.jsx)(As.k,{icon:d.icon,theme:T,disabled:L,isExpand:S}),(0,r.jsx)("span",{className:"screen-name",children:d.name})]})}}(0,dn.A)(Ps,"propTypes",{theme:xt().string,isDisabled:xt().bool,showExpander:xt().bool,data:xt().object,depth:xt().number,expand:xt().bool,onExpand:xt().func,onClick:xt().func});function fo(e){const i=[{value:1,label:I18N.imockSharing.all_pages},{value:2,label:I18N.imockSharing.partial_pages}],{sharingData:l,updateSharing:d}=e,[S,C]=(0,s.useState)(l.screen_visible_switch?2:1),y=(0,f.d4)(c.query.getTheme),T=(0,f.d4)(c.query.getScreenMetaList),L=X=>{d({screen_visible_list:X})},W=X=>{let{value:q}=X;d({screen_visible_switch:q==="2",screen_visible_list:[]}),C(q)};return(0,r.jsxs)(Mn,{children:[(0,r.jsx)("div",{className:"line-item visible-check",children:(0,r.jsx)(Vn.A,{name:"access",optionList:i,value:S,onChange:W})}),T&&(0,r.jsx)(Ls,{theme:y,screenMetaList:T,screenVisibleList:l.screen_visible_list,isDisplayScreenAll:!l.screen_visible_switch,onUpdateScreenVisibleList:L})]})}var yo=n(79150);const xo=e=>{let{handleConfirm:i,handleCancel:l}=e;const d=(0,f.d4)(c.query.getCurrentSharing),S=(0,f.d4)(c.query.getTheme),C=(0,f.d4)(c.query.getScreenMetaList),y=d.type==="default"?!1:d.screen_visible_switch&&(0,Y.Mb)(C,d).selectedSize===0,T=()=>{y||i()};return(0,r.jsxs)(Ds,{className:"confirm-bar",children:[(0,r.jsx)(bn.jn,{className:P()("confirm",{dark:S==="dark"}),disabled:y,onClick:T,children:I18N.SettingPanel.confirm}),(0,r.jsx)(bn.tA,{className:"cancel",onClick:l,children:I18N.imockSharing.cancel})]})},Ds=_.Ay.div.withConfig({displayName:"ConfirmBar__StyledConfirmBar",componentId:"sc-1m75upe-0"})(["&.confirm-bar{display:inline-flex;flex-direction:row-reverse;padding:20px 24px;transition:all 0.2s ease-in-out 0s;position:absolute;bottom:0px;right:0px;.confirm{margin-left:12px;}}"]),vo=()=>[{key:0,name:"basic",label:I18N.imockSharing.sharing_basic},{key:1,name:"visible",label:I18N.imockSharing.sharing_visible}];function Rs(){const e=(0,f.d4)(c.query.getProject),i=(0,f.d4)(c.query.getSettingPageType),l=(0,f.d4)(c.query.getSubSettingPageType),d=(0,f.d4)(c.query.getCurrentSharing),S=(0,f.d4)(c.query.getAdvancedSharingList),C="recommend",y=(0,f.wA)(),[T,L]=(0,s.useState)(l==="basic"?0:1),[W,X]=(0,s.useState)(d.link_name),[q,D]=(0,s.useState)(!1),ae=Ue=>{L(Ue)},oe=(0,s.useCallback)(async(Ue,Ye)=>{const{isCustom:nt}=Ye||{};y({type:c.entryKey["sharing:settingPage:advanced:confirm"],payload:{updatedKV:Ue,...nt!==void 0&&{isCustom:nt}}})},[y]),R=(0,s.useCallback)(()=>{y({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}}),i==="edit"&&q&&y({type:"sharing:advance:click:track"})},[y,i,q]),re=(0,s.useCallback)((Ue,Ye)=>{y({type:c.entryKey["sharing:currentSharing:update"],payload:{updatedKV:Ue}}),i==="edit"&&(D(!0),oe(Ue,Ye))},[y,i,oe,D]),le=()=>{const Ue=we.current.value;Ue===""?(y({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}}),Oe(W)):(0,Y.it)({value:Ue,currentSharing:d,sharingList:S})?(Oe(W),y({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}})):(X(Ue),re({link_name:Ue}))},{isRenaming:ge,setIsRenaming:he,handleKeyDown:ye,handleBlur:H,handleFocus:ve,inputRef:we,handleInput:be,inputName:Pe,setInputName:Oe}=qs({name:d.link_name,fBlur:le}),Ze=()=>{he(!0)};return(0,r.jsxs)(Ln,{children:[i==="create"?(0,r.jsx)("div",{className:"header",children:(0,r.jsx)("span",{children:I18N.imockSharing.sharing_create_title})}):(0,r.jsx)(Sn,{title:I18N.imockSharing.sharing_setting_title,handleClick:R}),(0,r.jsxs)("div",{className:"share-link-title",children:[(0,r.jsx)("div",{className:"title-text",children:I18N.SmartFill.title}),(0,r.jsx)("div",{className:P()("name-input",{"is-renaming":ge}),children:ge?(0,r.jsx)("form",{children:(0,r.jsx)("input",{value:Pe,onFocus:ve,onChange:be,ref:we,onBlur:H,onKeyPress:ye})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{onClick:Ze,children:W}),(0,r.jsx)(yo.A,{size:20,name:"sharing/pen_20",className:"input-icon",onClick:Ze})]})})]}),(0,r.jsx)(Ss,{sharingData:d,updateSharing:re}),(0,r.jsxs)("div",{className:"tabs",children:[(0,r.jsx)(is.A,{className:"sharing-nav",activeIndex:T,onTabChange:ae,layoutV9:C,children:vo().map(Ue=>{let{key:Ye,name:nt,...it}=Ue;return(0,r.jsx)(is.n,{...it,active:T===Ye,className:P()({visible:nt==="visible",basic:nt==="basic"})},Ye)})}),(0,r.jsx)("div",{})]}),T===0?(0,r.jsx)(ho,{isOrgProject:e.is_org_project,sharingData:d,updateSharing:re,settingPageType:i}):(0,r.jsx)(fo,{sharingData:d,updateSharing:re}),i==="create"&&(0,r.jsx)(xo,{handleConfirm:oe,handleCancel:R})]})}function Fs(){return(0,f.d4)(c.query.getCurrentSharing).type==="default"?(0,r.jsx)(uo,{}):(0,r.jsx)(Rs,{})}const cs=_.Ay.div.withConfig({displayName:"styles__StyledSharingToast",componentId:"sc-lv8qo5-0"})(["z-index:1;border-radius:4px;position:absolute;display:flex;align-items:center;padding:6px 10px;color:#FFF;font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:24px;background:#454647;top:72px;left:50%;transform:translateX(-50%);svg{width:21px;height:21px;margin-right:4px;}"]),bo=(0,s.memo)(function(){const i=(0,f.d4)(c.query.getSharingToast),l=(0,f.wA)();return(0,s.useEffect)(()=>{setTimeout(()=>{l({type:c.entryKey["sharing:init"],payload:{sharingToast:""}})},1500)},[l]),i?(0,r.jsxs)(cs,{children:[(0,r.jsx)(je.C,{name:"sharing/toast_waring",isColorPure:!0}),i]}):null}),tn=_.Ay.div.withConfig({displayName:"styles__StyledSharingQrCode",componentId:"sc-17am38q-0"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;height:calc(100% - ","px);p{margin-top:16px;color:","}"],ne.gE,e=>e.theme.color_text_L3);var _o=n(37810);const wo=_.Ay.div.withConfig({displayName:"styles__StyledQRcodeBox",componentId:"sc-1xfoi8f-0"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:8px;width:180px;height:180px;filter:",";border:1px solid ",";.qrcode{width:160px;height:160px;}&.qrcode-and-icon{.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}"],e=>e.theme.color_sharing_qrcode_bg,e=>e.theme.color_sharing_qrcode_filter,e=>e.theme.color_share_del_confirm_border_color);function Pn(e){const{isQRcodePanel:i,text:l,project:d}=e,S=d.icon||null;return i?(0,r.jsxs)(wo,{className:"qrcode-and-icon",children:[(0,r.jsx)(_o.A,{className:"qrcode",text:l,width:160,height:160}),S&&(0,r.jsx)("div",{className:"p-icon-box",children:(0,r.jsx)("img",{src:S})})]}):null}const Co=()=>{const e=(0,f.wA)(),i=(0,f.d4)(c.query.getCurrentSelectSharing),l=(0,f.d4)(c.query.getProject),d=(0,f.d4)(c.query.getHostCurrentScreen),S=d==null?void 0:d.cid,C=(0,s.useMemo)(()=>(0,Y.O8)(l,i,S,!0),[i,l,S]),y=(0,s.useCallback)(()=>{e({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[e]);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(Sn,{title:I18N.imockSharing.qr_code,handleClick:y}),(0,r.jsxs)(tn,{children:[(0,r.jsx)(Pn,{isQRcodePanel:!0,project:l,text:C}),(0,r.jsx)("p",{children:I18N.imockSharing.qr_tips})]})]})},Bs=(0,s.memo)(Co),So=()=>{var e;const i=(0,f.wA)(),l=(0,f.d4)(c.query.getHostSharingData),d=(0,f.d4)(c.query.getProject),S=d==null?void 0:d.is_org_project,{link_name:C,view_access:y}=l,T=(0,f.d4)(c.query.getUser),L=(0,f.d4)(c.query.getHostType),W=(0,f.d4)(c.query.getIsEditMode),X=L==="iframe"||W,q=(0,f.d4)(c.query.getCanEditByUser),D=(0,f.d4)(c.query.getHostCurrentScreen),ae=D==null?void 0:D.cid,{isURLCopied:oe,handleCopyURL:R}=es({project:d,sharing:l,user:T}),re=X&&q,le=(0,s.useMemo)(()=>[{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Bt.QRcode,tempDisabled:!1,isBorder:!0},{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Bt.embed,tempDisabled:!1,isBorder:!0}],[]),ge=(0,s.useCallback)(()=>{const ye=(0,Y.O8)(d,l,ae);(0,wn.$)(ye),R(),i({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:l.device_model,isDefault:!1}})},[i,l,R,ae,d]),he=(0,s.useCallback)((ye,H)=>{if(!(ye!=null&&ye.currentTarget))return;const ve=l,{device_model:we}=l;switch(H){case Bt.QRcode:ye.stopPropagation(),i({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:ve}}),i({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:we,isDefault:!1}});break;case Bt.embed:i({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:ve}}),i({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:we,isDefault:!1}});break;default:break}},[i,l]);return(0,r.jsxs)(ss,{children:[(0,r.jsxs)("div",{className:"default-top",children:[(0,r.jsx)("div",{className:"switch-content",children:C}),(0,r.jsxs)(En,{className:P()("item-center","default-link",!re&&"userNoEdit"),children:[(0,r.jsx)("div",{className:P()("left","sharingV2-click-visible",{"normal-hover":!0},!S&&"can-not-edit"),children:(0,r.jsxs)("div",{className:"view-access-select",children:[(0,r.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,r.jsx)("div",{className:"access-name",children:(e=I18N.imockSharing[ne.nQ[y]])!=null?e:"missing data"}),S&&(0,r.jsx)(je.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,r.jsxs)(Xn,{type:"button",className:P()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(oe)),onClick:ge,children:[(0,r.jsx)("span",{className:"state state-0",children:l.password&&l.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,r.jsx)("span",{className:"state state-1",children:(0,r.jsx)(je.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,r.jsx)("div",{className:"default-bottom",children:(0,r.jsxs)("div",{className:"bottom-left",children:[(0,r.jsx)("div",{children:I18N.imockSharing.share_mode}),le.map((ye,H)=>(0,r.jsx)(_n,{className:P()("share-icon",ye.className),name:ye.name,type:ye.className,toolTipName:ye.toolTipName,onClick:he,tempDisabled:ye.tempDisabled,isColorPure:ye.isColorPure,isBorder:ye.isBorder,size:24},H))]})})]})},Mo=(0,s.memo)(So),ds=()=>{const e=(0,f.d4)(c.query.getTopPageIndex),i=(0,f.d4)(c.query.getTabIndex),l=(0,f.d4)(c.query.getSharingToast),d=(0,f.d4)(c.query.getHostSharingData),S=!d||d.type==="default",C=(0,f.d4)(c.query.getProject),y=(0,f.d4)(c.query.getIsEditMode),L=(0,f.d4)(c.query.getHostType)==="iframe"||y,[W,X]=(0,s.useState)(d);return(0,s.useEffect)(()=>{const{sharing:q}=(0,J.Y5)(C);X(q)},[d,C]),(0,r.jsxs)(ao,{children:[e==="edit"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Zt,{}),i===0?!L&&!S?(0,r.jsx)(Mo,{}):W?(0,r.jsx)(io,{defaultShare:W}):(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(ns,{})]}),e==="embed"&&(0,r.jsx)(Mt,{}),e==="setting"&&(0,r.jsx)(Fs,{}),e==="qrCode"&&(0,r.jsx)(Bs,{}),l&&(0,r.jsx)(bo,{})]})},No=(0,s.memo)(ds),Io=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,yn=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4[579]\d{2})\d{6}$/;var Nn=n(19249);const In=async(e,i)=>{try{let d=null;return e?d=await(0,Nn.DE)("/api/dashboard/v4/users/search?email="+e):i&&(d=await(0,Nn.DE)("/api/dashboard/v4/users/search?mobile="+i)),d}catch(d){var l;return d!=null&&(l=d.message)!=null&&l.includes("failed with 404")?{}:null}};var us=n(35603);const zs=(0,_.Ay)(us.A).withConfig({displayName:"styles__StyledPermissionTipDropdown",componentId:"sc-1ofnwys-0"})(["display:flex;align-items:center;justify-content:center;line-height:14px;button{.permisison-tip-icon{margin:5px 6px 0 6px;&:hover{path{fill:","}}}}"],e=>e.theme.color_project_access_tip_hover),Eo=(0,_.DU)(['#IBOT_DROPDOWN_MENU_ROOT{.DropdownMenuBase{.permission-tip{.content{min-height:fit-content;padding:0;background-color:#333;border:1px solid #4f5052;.multi-line{padding:14px 14px 20px 14px;p,ul{padding:0;padding-left:3px;}&::before{content:"";width:0;height:0;border:11px solid transparent;border-bottom-color:#4F5052;position:absolute;top:-1px;left:',';margin-top:-18px;border-bottom-width:9px;}&::after{content:"";width:0;height:0;border:9px solid transparent;border-bottom-color:#333;position:absolute;top:3px;left:',";margin-top:-18px;border-bottom-width:7px;}}.single-line{padding:4px 12px;p{margin:0;padding:0;}}h4{font-weight:500;font-size:14px;line-height:16px;margin:0;margin-bottom:10px;}ul{text-align:justify;list-style:none;li{list-style:none;margin-bottom:8px;&:last-child{margin-bottom:0px;}}}.desc{font-weight:400;font-size:12px;line-height:18px;white-space:nowrap;.strong{font-weight:500;}.link{margin-left:4px;text-align:left;color:#1684fc;cursor:pointer;&:hover{text-decoration:underline;}}}.extra{white-space:nowrap;margin:12px 0 8px;font-weight:400;font-size:12px;color:rgba(255,255,255,0.5);}}}}}"],e=>e.isOnlyMemberManager?"66px":"88px",e=>e.isOnlyMemberManager?"68px":"90px");let Dn=function(e){return e.OrgSpace="orgspace-permission-tip",e.OrgSpaceLimiter="orgspace-limiter-permission-tip",e.RootFolder="root-folder-permission-tip",e.SubFolder="sub-folder-permission-tip",e.Project="project-permission-tip",e}({});const ko=e=>{const{tipType:i,position:l="center",className:d,isOnlyMemberManager:S=!1}=e,[C,y]=(0,s.useState)({}),T=(0,f.d4)(Ke.il);(0,s.useEffect)(()=>{const W=document.querySelector(".sharingBoxV2 ");if(W){const{left:X,top:q}=W.getBoundingClientRect();y({left:Number(X)+13,top:Number(q)+29})}},[]);const L=()=>{switch(i){case Dn.Project:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsxs)("h4",{children:["\u{1F537} ",I18N.imockSharing.permissions]}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_file]}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_file]}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_file]}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_file]})]}),(0,r.jsx)("p",{className:"extra",dangerouslySetInnerHTML:{__html:I18N.imockSharing.permissions_automatically_sync_desc}})]});case Dn.SubFolder:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,r.jsxs)("p",{className:"extra",children:["\u6839\u6587\u4EF6\u5939\u6210\u5458\u53CA\u6743\u9650\u81EA\u52A8\u540C\u6B65\u81F3\u7EC4\u5185\uFF0C\u82E5\u6709\u8C03\u6574\uFF0C",(0,r.jsx)("br",{}),"\u8BF7\u524D\u5F80\u6839\u6587\u4EF6\u5939\u8FDB\u884C\u6210\u5458\u53CA\u6743\u9650\u8C03\u6574"]})]});case Dn.RootFolder:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_folder]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_folder]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_folder]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_folder]})]})]});case Dn.OrgSpace:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_manager_desc]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_collaboration_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_collaboration_member_desc]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_review_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_review_member_desc]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_unregistered_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_unregistered_member_desc]})]})]});case Dn.OrgSpaceLimiter:return(0,r.jsx)("section",{className:"single-line",children:(0,r.jsxs)("p",{className:"desc",children:["\u8BE5\u6210\u5458\u53EA\u5BF9\u56E2\u961F\u5185\u6307\u5B9A\u6587\u4EF6/\u6587\u4EF6\u5939\u53EF\u67E5\u770B/\u7F16\u8F91 ",(0,r.jsx)("a",{href:"/hc/articles/222",className:"link",children:" \u67E5\u770B\u8BE6\u60C5"})]})});default:break}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(zs,{opener:(0,r.jsx)("svg",{className:"permisison-tip-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33341 7.00008C2.33341 4.42275 4.42275 2.33341 7.00008 2.33341C9.57741 2.33341 11.6667 4.42275 11.6667 7.00008C11.6667 9.57741 9.57741 11.6667 7.00008 11.6667C4.42275 11.6667 2.33341 9.57741 2.33341 7.00008ZM7.00008 1.16675C3.77842 1.16675 1.16675 3.77842 1.16675 7.00008C1.16675 10.2217 3.77842 12.8334 7.00008 12.8334C10.2217 12.8334 12.8334 10.2217 12.8334 7.00008C12.8334 3.77842 10.2217 1.16675 7.00008 1.16675ZM6.00842 5.82717V5.69267C6.00912 5.53262 6.06636 5.35509 6.19406 5.22162C6.31201 5.09835 6.54189 4.95841 6.99673 4.95841C7.42386 4.95841 7.72087 5.16234 7.87234 5.39386C8.0341 5.6411 8.00223 5.84856 7.92545 5.9522C7.82971 6.08146 7.71083 6.20085 7.56715 6.33019C7.52345 6.36954 7.46957 6.41642 7.4118 6.46669L7.41179 6.4667C7.30849 6.55659 7.19276 6.6573 7.10047 6.74511C6.77279 7.05691 6.41686 7.49208 6.41686 8.16675L6.41875 8.46216L7.5854 8.45467L7.58354 8.16515C7.58397 7.96563 7.66576 7.81765 7.90469 7.5903C7.985 7.51388 8.0572 7.45142 8.1398 7.37995L8.13984 7.37992C8.20093 7.32707 8.26773 7.26928 8.34772 7.19727C8.51407 7.04752 8.69919 6.8677 8.86295 6.64662C9.30517 6.0496 9.20176 5.29489 8.84863 4.75513C8.48521 4.19965 7.82399 3.79175 6.99673 3.79175C6.28084 3.79175 5.72583 4.02342 5.35109 4.41508C4.98633 4.79631 4.84308 5.27667 4.84175 5.68971V5.82717H6.00842ZM6.41874 9.04175V10.2107H7.58541V9.04175H6.41874Z",fill:"#999999"})}),mode:"dark",menuX:l,shouldOpenOnHover:!0,hoverDelay:100,menuClassName:P()("permission-tip",d&&d),menu:L(),menuBaseStyle:C}),(0,r.jsx)(Eo,{isOnlyMemberManager:S})]})};var jo=n(79186);const Yn=_.Ay.div.withConfig({displayName:"styles__StyledReadOnlyOption",componentId:"sc-1j0j1bo-0"})(["min-width:65px;text-align:start;padding-left:10px;cursor:default;&:lang(en){width:auto;}&.disabled{cursor:not-allowed;}.label{color:#9EA9BC;font-size:12px;}"]),Ws=(0,_.Ay)(jo.Ay).withConfig({displayName:"styles__StyledPermissionSelector",componentId:"sc-1j0j1bo-1"})(["min-width:65px;&:lang(en){width:auto;}&.is-disabled{opacity:1;.caret{display:none;}button{span{color:#9EA9BC;}}}&.is-open .caret{transform:rotate(180deg);svg{transform:translateY(-3px) rotate(-45deg);}}button{text-align:right;span{color:#35445D;font-size:12px;}}.caret{margin:0 0 0 6px;transition:transform .2s;svg{width:6px;height:6px;margin:1px;border:solid 1px #35445D;border-top-color:transparent;border-right-color:transparent;transform:translateY(0) rotate(-45deg);path{opacity:0;}}}"]),To=(0,_.DU)([".permission-select.CheckSelectMenu{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";&:lang(en){min-width:136px;}&:not(.is-empty){padding:8px;}.SelectOption{height:24px;margin-bottom:2px;padding:0;color:",";border-radius:4px;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:",";color:",";}&:hover{color:",";}> span.Ellipsis{min-width:80px;padding:0 10px;margin-left:20px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{position:absolute;margin:0 0 0 10px;path{fill:",";}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"],e=>e.theme.color_bg_border_01,e=>e.theme.color_text_L1,e=>e.theme.color_bg_white,e=>e.theme.shadow_m,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1);var Hs=n(46219);const Ao=e=>{let i=[],l={};switch(e){case xe.W.OrgSpace:i=ue,l=ze.FU;break;case xe.W.Folder:i=pe,l=ze.lY;break;case xe.W.Project:i=_e,l=ze.au;break;default:break}return i.map(d=>({...d,permission:(0,N.pf)(d.value,l)}))},Lo=(e,i)=>{let l={};switch(e){case xe.W.OrgSpace:return i;case xe.W.Folder:l=Ae;break;case xe.W.Project:l=ke;break;default:return i}return l[i]||i},Oo=e=>{switch(e){case xe.W.OrgSpace:return I18N.imockSharing.permission_no_right_project;case xe.W.Folder:return I18N.imockSharing.permission_no_right_folder;case xe.W.Project:return I18N.imockSharing.permission_no_right_project;default:return I18N.imockSharing.permission_no_right}},Vs=e=>{const{value:i,optionList:l,handleChange:d}=e,S=(0,s.useRef)(null),[C,y]=(0,s.useState)(!0),T=l.filter(W=>W.value===i),L=(0,s.useCallback)(()=>{S.current&&S.current.close()},[]);return(0,s.useEffect)(()=>(document.body.addEventListener("wheel",L),()=>{document.body.removeEventListener("wheel",L)}),[L]),(0,s.useEffect)(()=>{const W=setTimeout(()=>{y(!1)},1e3);return()=>{clearTimeout(W)}},[]),C?(0,r.jsx)(Ws,{unstyled:!0,ref:S,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:i,menuX:"right",onChange:d,optionList:T,menuClassName:"permission-select"}):(0,r.jsx)(Ws,{unstyled:!0,ref:S,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:i,menuX:"right",onChange:d,optionList:l,menuClassName:"permission-select"})},Ks=(0,s.memo)(Vs);var Po=n(83123);const Gs=e=>{const i={pt_total_seats:10,pt_bindings:[],ptlt_total_seats:0,ptlt_bindings:[],bx_total_seats:10,bx_bindings:[],bxlt_total_seats:0,bxlt_bindings:[],aippt_total_seats:0,aippt_bindings:[],total_viewer_seats:100,viewer_seats_taken:0},{pt_total_seats:l=0,pt_bindings:d=[],ptlt_total_seats:S=0,ptlt_bindings:C=[],bxlt_bindings:y=[],bxlt_total_seats:T=0,bx_total_seats:L=0,bx_bindings:W=[],aippt_total_seats:X=0,aippt_bindings:q=[]}=e||i;return{plTotalSeats:S,pTotalSeats:l,pBindings:d||[],plBindings:C||[],blTotalSeats:T,bTotalSeats:L,bBindings:W||[],blBindings:y||[],aiPptTotalSeats:X,aiPptBindings:q||[]}},Do=(e,i)=>{const{pBindings:l,plBindings:d,bBindings:S}=Gs(e),C=d.includes(i),y=l.includes(i),T=S.includes(i);return{isPLSeat:C,isPSeat:y,isBSeat:T}},Ro=(e,i)=>{if(!e)return{protoSeat:!1,bomxSeat:!1};if(e.otype==="personal")return{protoSeat:!0,bomxSeat:!0};const l=js.tz.InitialOrg(e),d=l.planSdk.getIsDefaultFreeOrg(),S=l.planSdk.getOrgStatus()===Po._E.Trial;if(d||S)return{protoSeat:!0,bomxSeat:!0};const{pTotalSeats:C,bTotalSeats:y,plTotalSeats:T}=Gs(e),{isPLSeat:L,isPSeat:W,isBSeat:X}=Do(e,i);return{protoSeat:C>0||T>0?L||W:!0,bomxSeat:y>0?X:!0}},Fo=(e,i)=>{const{isSelf:l,userCurrentSpacePermission:d,userCurrentScopePermisson:S,memberCurrentScopePermisson:C,memberTopScopePermisson:y,memberOrgPermisson:T,memberIsSpaceManager:L}=i;return e.map(X=>{let{value:q,label:D,permission:ae}=X,oe=!1;const R=ae.roleName.includes("ban_viewer");return d.isManager&&l?oe=R:S.isMember?S.level<C.level||S.level<ae.level?oe=!0:(!y.isMember&&y.isViewer&&!T.isMember&&ae.isMember&&(oe=!0),R&&(oe=!S.isManager||l||L)):oe=!0,Object.assign({},{value:q,label:I18N.imockSharing[D]||D},{isDisabled:oe})})},Bo=e=>{const{readOnlyTooltip:i,isReset:l=!1,member:d,isOnlyOneManager:S,permissionScope:C,onPermissionChange:y,currentOrg:T}=e;let{readOnly:L}=e,W=L,X=i;const q=Ao(C),{permissionMap:D}=d,{memberCurrentScopePermisson:ae,userCurrentScopePermisson:oe,userCurrentSpacePermission:R,currentScopeRoleName:re,isSelf:le,userIsSpaceLimiter:ge,memberIsSpaceLimiter:he}=D;let ye=Fo(q,D);C===xe.W.OrgSpace&&!he&&(ye=ye.filter(we=>we.value!=="space_limiter")),(C===xe.W.OrgSpace||he)&&!ae.isUnknown&&!ae.isInherited&&!l&&(le&&!ae.isUnknown||oe.isManager&&ye.push({value:$e,label:I18N.imockSharing.remove,isDisabled:!1})),!W&&C===xe.W.OrgSpace&&ge&&!l&&(L=!0,W=!0),!W&&([xe.W.Project,xe.W.Folder].includes(C)||ae.isViewer)&&!l&&(oe.isMember?oe.level<ae.level?(W=!0,X="\u65E0\u6743\u66F4\u6539\u6743\u9650\u9AD8\u7684\u6210\u5458\u6743\u9650"):ae.isManager&&S?(W=!0,X=Oo(C)):(C===xe.W.OrgSpace&&!oe.isManager||[xe.W.Project,xe.W.Folder].includes(C)&&!oe.isManager&&ae.isBanned)&&(W=!0):R!=null&&R.isManager&&le||(W=!0));let H=Lo(C,re);l&&(H="");const ve=we=>{W||y(d,we)};if(T){const{protoSeat:we}=Ro(T,Number(d.user_id)),Pe=we?"":"(\u65E0\u5E2D\u4F4D)";ye.map(Oe=>{(Oe.value==="project_manager"||Oe.value==="project_member")&&(Oe.label+=Pe)})}if(W||L){const we=ye.find(be=>be.value===H);return we?(0,r.jsx)(Yn,{className:P()("read-only-option",!L&&W&&"disabled"),children:(0,r.jsx)(Hs.A,{content:X,position:"bottom",children:(0,r.jsx)("span",{className:"label",children:we.label})})}):null}return(0,r.jsx)(Ks,{value:H,handleChange:ve,optionList:ye})},ps=(0,s.memo)(Bo),Rn=(0,_.DU)(["#IBOT_DROPDOWN_MENU_ROOT{.add-outer-member-tip{.content{min-height:fit-content;padding:2px 8px;background-color:#333;.desc{white-space:nowrap;.copy-text{text-decoration:underline;cursor:pointer;}}}}}"]),hs=_.Ay.section.withConfig({displayName:"styles__StyledMemberList",componentId:"sc-188anjy-0"})(['margin-bottom:10px;width:406px;&.sharing{.members > .enterTip > span > div{display:flex;flex-direction:column;align-items:center;justify-content:center;}}&[data-expanded="false"]{.members{display:none;}.caption{margin-bottom:15px;}}&+.member-list{margin-top:10px;}.caption{position:relative;display:flex;align-items:center;justify-content:flex-start;padding:0;font-weight:400;font-size:14px;line-height:20px;color:',";span{color:",";}.invite-item{display:flex;align-items:center;height:32px;text-align:center;font-family:PingFang SC;width:fit-content;border-radius:6px;font-weight:500;font-size:14px;color:",";cursor:pointer;position:absolute;right:20px;z-index:1;&:hover{color:",";}&:active{color:",";}.svg-icon{width:32px;color:inherit;& > *{fill:currentColor;}}}.btn-add-collaborator{position:absolute;right:0;display:flex;align-items:center;color:#1883FB;.svg-icon{margin-right:4px;width:12px;height:12px;}}.btn-toggle-expand{margin-left:10px;user-select:none;color:#1883FB;cursor:pointer;&.with-red-point{position:relative;&::after{content:'';background:rgb(228,33,33);position:absolute;width:6px;height:6px;top:-2px;left:100%;border-radius:50%;}}}}.members{.item{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;&:hover{background:",";border-radius:4px;}.title,.account,.Select{button{font-weight:500;font-size:14px;line-height:20px;letter-spacing:1.2px;color:#545F6F;.Ellipsis{max-width:100px;&:lang(en){max-width:none;}}}}.title{flex:1;display:flex;justify-content:flex-start;align-items:center;.avatar{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:12px;border:1px solid ",";&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:14px;text-align:center;display:flex;align-items:center;}}.name{width:120px;overflow:hidden;color:#1f292e;white-space:nowrap;text-overflow:ellipsis;}}.account{flex:1;width:160px;color:#999;}.register{display:inline-block;text-align:center;height:22px;line-height:22px;border:1px solid rgb(41,141,248);box-sizing:border-box;border-radius:4px;width:48px;color:rgb(41,141,248);font-size:12px;font-weight:400;margin-left:8px;position:relative;color:red;&:lang(en){display:block;background:#F1F8FF;border:none;color:#1684FC;padding:3px 4px;width:max-content;margin-left:10px;font-weight:500;font-size:12px;line-height:12px;height:auto;}}}}.invite{.item{.title{.name{width:150px;&:lang(en){width:max-content;flex:1;display:flex;align-items:center;}}}.account{width:150px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;&:lang(en){margin:10px;}}}.addOuter{color:#999999;width:108px;text-align:right;.add{font-size:12px;margin-right:2px;}button{color:rgb(91,107,115);position:relative;top:2px;left:4px;}}.enterTip{font-size:12px;color:",";}}.inviteJoin{border-radius:4px;background:#298DF8;color:#fff;font-size:12px;font-weight:400;padding:7px 11px;cursor:pointer;word-break:keep-all;&:lang(en){padding:5px 11px;}}&.dark{.members .item .register{&:lang(en){background:rgba(22,132,252,0.1);}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_link_hover,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_share_member__border_color,e=>e.theme.color_AI_Text_Auto_fill_path_hover);var Zs=n(94586),a=n(94827),t=n(18941),o=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function m(e,i){return!!(e===i||o(e)&&o(i))}function z(e,i){if(e.length!==i.length)return!1;for(var l=0;l<e.length;l++)if(!m(e[l],i[l]))return!1;return!0}function ce(e,i){i===void 0&&(i=z);var l,d=[],S,C=!1;function y(){for(var T=[],L=0;L<arguments.length;L++)T[L]=arguments[L];return C&&l===this&&i(T,d)||(S=e.apply(this,T),C=!0,l=this,d=T),S}return y}const Te=ce;var Le=typeof performance=="object"&&typeof performance.now=="function",Fe=Le?function(){return performance.now()}:function(){return Date.now()};function Ve(e){cancelAnimationFrame(e.id)}function Be(e,i){var l=Fe();function d(){Fe()-l>=i?e.call(null):S.id=requestAnimationFrame(d)}var S={id:requestAnimationFrame(d)};return S}var Je=-1;function Ce(e){if(e===void 0&&(e=!1),Je===-1||e){var i=document.createElement("div"),l=i.style;l.width="50px",l.height="50px",l.overflow="scroll",document.body.appendChild(i),Je=i.offsetWidth-i.clientWidth,document.body.removeChild(i)}return Je}var Ee=null;function Re(e){if(e===void 0&&(e=!1),Ee===null||e){var i=document.createElement("div"),l=i.style;l.width="50px",l.height="50px",l.overflow="scroll",l.direction="rtl";var d=document.createElement("div"),S=d.style;return S.width="100px",S.height="100px",i.appendChild(d),document.body.appendChild(i),i.scrollLeft>0?Ee="positive-descending":(i.scrollLeft=1,i.scrollLeft===0?Ee="negative":Ee="positive-ascending"),document.body.removeChild(i),Ee}return Ee}var Qe=150,rt=function(i){var l=i.columnIndex,d=i.data,S=i.rowIndex;return S+":"+l},Ct=null,jt=null,Yt=null;function wt(e){var i,l=e.getColumnOffset,d=e.getColumnStartIndexForOffset,S=e.getColumnStopIndexForStartIndex,C=e.getColumnWidth,y=e.getEstimatedTotalHeight,T=e.getEstimatedTotalWidth,L=e.getOffsetForColumnAndAlignment,W=e.getOffsetForRowAndAlignment,X=e.getRowHeight,q=e.getRowOffset,D=e.getRowStartIndexForOffset,ae=e.getRowStopIndexForStartIndex,oe=e.initInstanceProps,R=e.shouldResetStyleCacheOnItemSizeChange,re=e.validateProps;return i=function(le){(0,t.A)(ge,le);function ge(ye){var H;return H=le.call(this,ye)||this,H._instanceProps=oe(H.props,(0,a.A)(H)),H._resetIsScrollingTimeoutId=null,H._outerRef=void 0,H.state={instance:(0,a.A)(H),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof H.props.initialScrollLeft=="number"?H.props.initialScrollLeft:0,scrollTop:typeof H.props.initialScrollTop=="number"?H.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},H._callOnItemsRendered=void 0,H._callOnItemsRendered=Te(function(ve,we,be,Pe,Oe,Ze,Ue,Ye){return H.props.onItemsRendered({overscanColumnStartIndex:ve,overscanColumnStopIndex:we,overscanRowStartIndex:be,overscanRowStopIndex:Pe,visibleColumnStartIndex:Oe,visibleColumnStopIndex:Ze,visibleRowStartIndex:Ue,visibleRowStopIndex:Ye})}),H._callOnScroll=void 0,H._callOnScroll=Te(function(ve,we,be,Pe,Oe){return H.props.onScroll({horizontalScrollDirection:be,scrollLeft:ve,scrollTop:we,verticalScrollDirection:Pe,scrollUpdateWasRequested:Oe})}),H._getItemStyle=void 0,H._getItemStyle=function(ve,we){var be=H.props,Pe=be.columnWidth,Oe=be.direction,Ze=be.rowHeight,Ue=H._getItemStyleCache(R&&Pe,R&&Oe,R&&Ze),Ye=ve+":"+we,nt;if(Ue.hasOwnProperty(Ye))nt=Ue[Ye];else{var it=l(H.props,we,H._instanceProps),at=Oe==="rtl";Ue[Ye]=nt={position:"absolute",left:at?void 0:it,right:at?it:void 0,top:q(H.props,ve,H._instanceProps),height:X(H.props,ve,H._instanceProps),width:C(H.props,we,H._instanceProps)}}return nt},H._getItemStyleCache=void 0,H._getItemStyleCache=Te(function(ve,we,be){return{}}),H._onScroll=function(ve){var we=ve.currentTarget,be=we.clientHeight,Pe=we.clientWidth,Oe=we.scrollLeft,Ze=we.scrollTop,Ue=we.scrollHeight,Ye=we.scrollWidth;H.setState(function(nt){if(nt.scrollLeft===Oe&&nt.scrollTop===Ze)return null;var it=H.props.direction,at=Oe;if(it==="rtl")switch(Re()){case"negative":at=-Oe;break;case"positive-descending":at=Ye-Pe-Oe;break}at=Math.max(0,Math.min(at,Ye-Pe));var bt=Math.max(0,Math.min(Ze,Ue-be));return{isScrolling:!0,horizontalScrollDirection:nt.scrollLeft<Oe?"forward":"backward",scrollLeft:at,scrollTop:bt,verticalScrollDirection:nt.scrollTop<Ze?"forward":"backward",scrollUpdateWasRequested:!1}},H._resetIsScrollingDebounced)},H._outerRefSetter=function(ve){var we=H.props.outerRef;H._outerRef=ve,typeof we=="function"?we(ve):we!=null&&typeof we=="object"&&we.hasOwnProperty("current")&&(we.current=ve)},H._resetIsScrollingDebounced=function(){H._resetIsScrollingTimeoutId!==null&&Ve(H._resetIsScrollingTimeoutId),H._resetIsScrollingTimeoutId=Be(H._resetIsScrolling,Qe)},H._resetIsScrolling=function(){H._resetIsScrollingTimeoutId=null,H.setState({isScrolling:!1},function(){H._getItemStyleCache(-1)})},H}ge.getDerivedStateFromProps=function(H,ve){return Xt(H,ve),re(H),null};var he=ge.prototype;return he.scrollTo=function(H){var ve=H.scrollLeft,we=H.scrollTop;ve!==void 0&&(ve=Math.max(0,ve)),we!==void 0&&(we=Math.max(0,we)),this.setState(function(be){return ve===void 0&&(ve=be.scrollLeft),we===void 0&&(we=be.scrollTop),be.scrollLeft===ve&&be.scrollTop===we?null:{horizontalScrollDirection:be.scrollLeft<ve?"forward":"backward",scrollLeft:ve,scrollTop:we,scrollUpdateWasRequested:!0,verticalScrollDirection:be.scrollTop<we?"forward":"backward"}},this._resetIsScrollingDebounced)},he.scrollToItem=function(H){var ve=H.align,we=ve===void 0?"auto":ve,be=H.columnIndex,Pe=H.rowIndex,Oe=this.props,Ze=Oe.columnCount,Ue=Oe.height,Ye=Oe.rowCount,nt=Oe.width,it=this.state,at=it.scrollLeft,bt=it.scrollTop,Nt=Ce();be!==void 0&&(be=Math.max(0,Math.min(be,Ze-1))),Pe!==void 0&&(Pe=Math.max(0,Math.min(Pe,Ye-1)));var At=y(this.props,this._instanceProps),Ft=T(this.props,this._instanceProps),Gt=Ft>nt?Nt:0,pt=At>Ue?Nt:0;this.scrollTo({scrollLeft:be!==void 0?L(this.props,be,we,at,this._instanceProps,pt):at,scrollTop:Pe!==void 0?W(this.props,Pe,we,bt,this._instanceProps,Gt):bt})},he.componentDidMount=function(){var H=this.props,ve=H.initialScrollLeft,we=H.initialScrollTop;if(this._outerRef!=null){var be=this._outerRef;typeof ve=="number"&&(be.scrollLeft=ve),typeof we=="number"&&(be.scrollTop=we)}this._callPropsCallbacks()},he.componentDidUpdate=function(){var H=this.props.direction,ve=this.state,we=ve.scrollLeft,be=ve.scrollTop,Pe=ve.scrollUpdateWasRequested;if(Pe&&this._outerRef!=null){var Oe=this._outerRef;if(H==="rtl")switch(Re()){case"negative":Oe.scrollLeft=-we;break;case"positive-ascending":Oe.scrollLeft=we;break;default:var Ze=Oe.clientWidth,Ue=Oe.scrollWidth;Oe.scrollLeft=Ue-Ze-we;break}else Oe.scrollLeft=Math.max(0,we);Oe.scrollTop=Math.max(0,be)}this._callPropsCallbacks()},he.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Ve(this._resetIsScrollingTimeoutId)},he.render=function(){var H=this.props,ve=H.children,we=H.className,be=H.columnCount,Pe=H.direction,Oe=H.height,Ze=H.innerRef,Ue=H.innerElementType,Ye=H.innerTagName,nt=H.itemData,it=H.itemKey,at=it===void 0?rt:it,bt=H.outerElementType,Nt=H.outerTagName,At=H.rowCount,Ft=H.style,Gt=H.useIsScrolling,pt=H.width,It=this.state.isScrolling,Lt=this._getHorizontalRangeToRender(),qt=Lt[0],ht=Lt[1],yt=this._getVerticalRangeToRender(),rn=yt[0],$n=yt[1],Qn=[];if(be>0&&At)for(var vn=rn;vn<=$n;vn++)for(var an=qt;an<=ht;an++)Qn.push((0,s.createElement)(ve,{columnIndex:an,data:nt,isScrolling:Gt?It:void 0,key:at({columnIndex:an,data:nt,rowIndex:vn}),rowIndex:vn,style:this._getItemStyle(vn,an)}));var $t=y(this.props,this._instanceProps),st=T(this.props,this._instanceProps);return(0,s.createElement)(bt||Nt||"div",{className:we,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,Zs.A)({position:"relative",height:Oe,width:pt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:Pe},Ft)},(0,s.createElement)(Ue||Ye||"div",{children:Qn,ref:Ze,style:{height:$t,pointerEvents:It?"none":void 0,width:st}}))},he._callPropsCallbacks=function(){var H=this.props,ve=H.columnCount,we=H.onItemsRendered,be=H.onScroll,Pe=H.rowCount;if(typeof we=="function"&&ve>0&&Pe>0){var Oe=this._getHorizontalRangeToRender(),Ze=Oe[0],Ue=Oe[1],Ye=Oe[2],nt=Oe[3],it=this._getVerticalRangeToRender(),at=it[0],bt=it[1],Nt=it[2],At=it[3];this._callOnItemsRendered(Ze,Ue,at,bt,Ye,nt,Nt,At)}if(typeof be=="function"){var Ft=this.state,Gt=Ft.horizontalScrollDirection,pt=Ft.scrollLeft,It=Ft.scrollTop,Lt=Ft.scrollUpdateWasRequested,qt=Ft.verticalScrollDirection;this._callOnScroll(pt,It,Gt,qt,Lt)}},he._getHorizontalRangeToRender=function(){var H=this.props,ve=H.columnCount,we=H.overscanColumnCount,be=H.overscanColumnsCount,Pe=H.overscanCount,Oe=H.rowCount,Ze=this.state,Ue=Ze.horizontalScrollDirection,Ye=Ze.isScrolling,nt=Ze.scrollLeft,it=we||be||Pe||1;if(ve===0||Oe===0)return[0,0,0,0];var at=d(this.props,nt,this._instanceProps),bt=S(this.props,at,nt,this._instanceProps),Nt=!Ye||Ue==="backward"?Math.max(1,it):1,At=!Ye||Ue==="forward"?Math.max(1,it):1;return[Math.max(0,at-Nt),Math.max(0,Math.min(ve-1,bt+At)),at,bt]},he._getVerticalRangeToRender=function(){var H=this.props,ve=H.columnCount,we=H.overscanCount,be=H.overscanRowCount,Pe=H.overscanRowsCount,Oe=H.rowCount,Ze=this.state,Ue=Ze.isScrolling,Ye=Ze.verticalScrollDirection,nt=Ze.scrollTop,it=be||Pe||we||1;if(ve===0||Oe===0)return[0,0,0,0];var at=D(this.props,nt,this._instanceProps),bt=ae(this.props,at,nt,this._instanceProps),Nt=!Ue||Ye==="backward"?Math.max(1,it):1,At=!Ue||Ye==="forward"?Math.max(1,it):1;return[Math.max(0,at-Nt),Math.max(0,Math.min(Oe-1,bt+At)),at,bt]},ge}(s.PureComponent),i.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},i}var Xt=function(i,l){var d=i.children,S=i.direction,C=i.height,y=i.innerTagName,T=i.outerTagName,L=i.overscanColumnsCount,W=i.overscanCount,X=i.overscanRowsCount,q=i.width,D=l.instance},lt=50,We=function(i,l){var d=i.rowCount,S=l.rowMetadataMap,C=l.estimatedRowHeight,y=l.lastMeasuredRowIndex,T=0;if(y>=d&&(y=d-1),y>=0){var L=S[y];T=L.offset+L.size}var W=d-y-1,X=W*C;return T+X},tt=function(i,l){var d=i.columnCount,S=l.columnMetadataMap,C=l.estimatedColumnWidth,y=l.lastMeasuredColumnIndex,T=0;if(y>=d&&(y=d-1),y>=0){var L=S[y];T=L.offset+L.size}var W=d-y-1,X=W*C;return T+X},Xe=function(i,l,d,S){var C,y,T;if(i==="column"?(C=S.columnMetadataMap,y=l.columnWidth,T=S.lastMeasuredColumnIndex):(C=S.rowMetadataMap,y=l.rowHeight,T=S.lastMeasuredRowIndex),d>T){var L=0;if(T>=0){var W=C[T];L=W.offset+W.size}for(var X=T+1;X<=d;X++){var q=y(X);C[X]={offset:L,size:q},L+=q}i==="column"?S.lastMeasuredColumnIndex=d:S.lastMeasuredRowIndex=d}return C[d]},ot=function(i,l,d,S){var C,y;i==="column"?(C=d.columnMetadataMap,y=d.lastMeasuredColumnIndex):(C=d.rowMetadataMap,y=d.lastMeasuredRowIndex);var T=y>0?C[y].offset:0;return T>=S?ct(i,l,d,y,0,S):kt(i,l,d,Math.max(0,y),S)},ct=function(i,l,d,S,C,y){for(;C<=S;){var T=C+Math.floor((S-C)/2),L=Xe(i,l,T,d).offset;if(L===y)return T;L<y?C=T+1:L>y&&(S=T-1)}return C>0?C-1:0},kt=function(i,l,d,S,C){for(var y=i==="column"?l.columnCount:l.rowCount,T=1;S<y&&Xe(i,l,S,d).offset<C;)S+=T,T*=2;return ct(i,l,d,Math.min(S,y-1),Math.floor(S/2),C)},Wt=function(i,l,d,S,C,y,T){var L=i==="column"?l.width:l.height,W=Xe(i,l,d,y),X=i==="column"?tt(l,y):We(l,y),q=Math.max(0,Math.min(X-L,W.offset)),D=Math.max(0,W.offset-L+T+W.size);switch(S==="smart"&&(C>=D-L&&C<=q+L?S="auto":S="center"),S){case"start":return q;case"end":return D;case"center":return Math.round(D+(q-D)/2);case"auto":default:return C>=D&&C<=q?C:D>q||C<D?D:q}},Tt=wt({getColumnOffset:function(i,l,d){return Xe("column",i,l,d).offset},getColumnStartIndexForOffset:function(i,l,d){return ot("column",i,d,l)},getColumnStopIndexForStartIndex:function(i,l,d,S){for(var C=i.columnCount,y=i.width,T=Xe("column",i,l,S),L=d+y,W=T.offset+T.size,X=l;X<C-1&&W<L;)X++,W+=Xe("column",i,X,S).size;return X},getColumnWidth:function(i,l,d){return d.columnMetadataMap[l].size},getEstimatedTotalHeight:We,getEstimatedTotalWidth:tt,getOffsetForColumnAndAlignment:function(i,l,d,S,C,y){return Wt("column",i,l,d,S,C,y)},getOffsetForRowAndAlignment:function(i,l,d,S,C,y){return Wt("row",i,l,d,S,C,y)},getRowOffset:function(i,l,d){return Xe("row",i,l,d).offset},getRowHeight:function(i,l,d){return d.rowMetadataMap[l].size},getRowStartIndexForOffset:function(i,l,d){return ot("row",i,d,l)},getRowStopIndexForStartIndex:function(i,l,d,S){for(var C=i.rowCount,y=i.height,T=Xe("row",i,l,S),L=d+y,W=T.offset+T.size,X=l;X<C-1&&W<L;)X++,W+=Xe("row",i,X,S).size;return X},initInstanceProps:function(i,l){var d=i,S=d.estimatedColumnWidth,C=d.estimatedRowHeight,y={columnMetadataMap:{},estimatedColumnWidth:S||lt,estimatedRowHeight:C||lt,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return l.resetAfterColumnIndex=function(T,L){L===void 0&&(L=!0),l.resetAfterIndices({columnIndex:T,shouldForceUpdate:L})},l.resetAfterRowIndex=function(T,L){L===void 0&&(L=!0),l.resetAfterIndices({rowIndex:T,shouldForceUpdate:L})},l.resetAfterIndices=function(T){var L=T.columnIndex,W=T.rowIndex,X=T.shouldForceUpdate,q=X===void 0?!0:X;typeof L=="number"&&(y.lastMeasuredColumnIndex=Math.min(y.lastMeasuredColumnIndex,L-1)),typeof W=="number"&&(y.lastMeasuredRowIndex=Math.min(y.lastMeasuredRowIndex,W-1)),l._getItemStyleCache(-1),q&&l.forceUpdate()},y},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(i){var l=i.columnWidth,d=i.rowHeight}}),Dt=150,Rt=function(i,l){return i},un=null,He=null;function ut(e){var i,l=e.getItemOffset,d=e.getEstimatedTotalSize,S=e.getItemSize,C=e.getOffsetForIndexAndAlignment,y=e.getStartIndexForOffset,T=e.getStopIndexForStartIndex,L=e.initInstanceProps,W=e.shouldResetStyleCacheOnItemSizeChange,X=e.validateProps;return i=function(q){(0,t.A)(D,q);function D(oe){var R;return R=q.call(this,oe)||this,R._instanceProps=L(R.props,(0,a.A)(R)),R._outerRef=void 0,R._resetIsScrollingTimeoutId=null,R.state={instance:(0,a.A)(R),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof R.props.initialScrollOffset=="number"?R.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},R._callOnItemsRendered=void 0,R._callOnItemsRendered=Te(function(re,le,ge,he){return R.props.onItemsRendered({overscanStartIndex:re,overscanStopIndex:le,visibleStartIndex:ge,visibleStopIndex:he})}),R._callOnScroll=void 0,R._callOnScroll=Te(function(re,le,ge){return R.props.onScroll({scrollDirection:re,scrollOffset:le,scrollUpdateWasRequested:ge})}),R._getItemStyle=void 0,R._getItemStyle=function(re){var le=R.props,ge=le.direction,he=le.itemSize,ye=le.layout,H=R._getItemStyleCache(W&&he,W&&ye,W&&ge),ve;if(H.hasOwnProperty(re))ve=H[re];else{var we=l(R.props,re,R._instanceProps),be=S(R.props,re,R._instanceProps),Pe=ge==="horizontal"||ye==="horizontal",Oe=ge==="rtl",Ze=Pe?we:0;H[re]=ve={position:"absolute",left:Oe?void 0:Ze,right:Oe?Ze:void 0,top:Pe?0:we,height:Pe?"100%":be,width:Pe?be:"100%"}}return ve},R._getItemStyleCache=void 0,R._getItemStyleCache=Te(function(re,le,ge){return{}}),R._onScrollHorizontal=function(re){var le=re.currentTarget,ge=le.clientWidth,he=le.scrollLeft,ye=le.scrollWidth;R.setState(function(H){if(H.scrollOffset===he)return null;var ve=R.props.direction,we=he;if(ve==="rtl")switch(Re()){case"negative":we=-he;break;case"positive-descending":we=ye-ge-he;break}return we=Math.max(0,Math.min(we,ye-ge)),{isScrolling:!0,scrollDirection:H.scrollOffset<we?"forward":"backward",scrollOffset:we,scrollUpdateWasRequested:!1}},R._resetIsScrollingDebounced)},R._onScrollVertical=function(re){var le=re.currentTarget,ge=le.clientHeight,he=le.scrollHeight,ye=le.scrollTop;R.setState(function(H){if(H.scrollOffset===ye)return null;var ve=Math.max(0,Math.min(ye,he-ge));return{isScrolling:!0,scrollDirection:H.scrollOffset<ve?"forward":"backward",scrollOffset:ve,scrollUpdateWasRequested:!1}},R._resetIsScrollingDebounced)},R._outerRefSetter=function(re){var le=R.props.outerRef;R._outerRef=re,typeof le=="function"?le(re):le!=null&&typeof le=="object"&&le.hasOwnProperty("current")&&(le.current=re)},R._resetIsScrollingDebounced=function(){R._resetIsScrollingTimeoutId!==null&&Ve(R._resetIsScrollingTimeoutId),R._resetIsScrollingTimeoutId=Be(R._resetIsScrolling,Dt)},R._resetIsScrolling=function(){R._resetIsScrollingTimeoutId=null,R.setState({isScrolling:!1},function(){R._getItemStyleCache(-1,null)})},R}D.getDerivedStateFromProps=function(R,re){return Vt(R,re),X(R),null};var ae=D.prototype;return ae.scrollTo=function(R){R=Math.max(0,R),this.setState(function(re){return re.scrollOffset===R?null:{scrollDirection:re.scrollOffset<R?"forward":"backward",scrollOffset:R,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},ae.scrollToItem=function(R,re){re===void 0&&(re="auto");var le=this.props,ge=le.itemCount,he=le.layout,ye=this.state.scrollOffset;R=Math.max(0,Math.min(R,ge-1));var H=0;if(this._outerRef){var ve=this._outerRef;he==="vertical"?H=ve.scrollWidth>ve.clientWidth?Ce():0:H=ve.scrollHeight>ve.clientHeight?Ce():0}this.scrollTo(C(this.props,R,re,ye,this._instanceProps,H))},ae.componentDidMount=function(){var R=this.props,re=R.direction,le=R.initialScrollOffset,ge=R.layout;if(typeof le=="number"&&this._outerRef!=null){var he=this._outerRef;re==="horizontal"||ge==="horizontal"?he.scrollLeft=le:he.scrollTop=le}this._callPropsCallbacks()},ae.componentDidUpdate=function(){var R=this.props,re=R.direction,le=R.layout,ge=this.state,he=ge.scrollOffset,ye=ge.scrollUpdateWasRequested;if(ye&&this._outerRef!=null){var H=this._outerRef;if(re==="horizontal"||le==="horizontal")if(re==="rtl")switch(Re()){case"negative":H.scrollLeft=-he;break;case"positive-ascending":H.scrollLeft=he;break;default:var ve=H.clientWidth,we=H.scrollWidth;H.scrollLeft=we-ve-he;break}else H.scrollLeft=he;else H.scrollTop=he}this._callPropsCallbacks()},ae.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Ve(this._resetIsScrollingTimeoutId)},ae.render=function(){var R=this.props,re=R.children,le=R.className,ge=R.direction,he=R.height,ye=R.innerRef,H=R.innerElementType,ve=R.innerTagName,we=R.itemCount,be=R.itemData,Pe=R.itemKey,Oe=Pe===void 0?Rt:Pe,Ze=R.layout,Ue=R.outerElementType,Ye=R.outerTagName,nt=R.style,it=R.useIsScrolling,at=R.width,bt=this.state.isScrolling,Nt=ge==="horizontal"||Ze==="horizontal",At=Nt?this._onScrollHorizontal:this._onScrollVertical,Ft=this._getRangeToRender(),Gt=Ft[0],pt=Ft[1],It=[];if(we>0)for(var Lt=Gt;Lt<=pt;Lt++)It.push((0,s.createElement)(re,{data:be,key:Oe(Lt,be),index:Lt,isScrolling:it?bt:void 0,style:this._getItemStyle(Lt)}));var qt=d(this.props,this._instanceProps);return(0,s.createElement)(Ue||Ye||"div",{className:le,onScroll:At,ref:this._outerRefSetter,style:(0,Zs.A)({position:"relative",height:he,width:at,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:ge},nt)},(0,s.createElement)(H||ve||"div",{children:It,ref:ye,style:{height:Nt?"100%":qt,pointerEvents:bt?"none":void 0,width:Nt?qt:"100%"}}))},ae._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var R=this.props.itemCount;if(R>0){var re=this._getRangeToRender(),le=re[0],ge=re[1],he=re[2],ye=re[3];this._callOnItemsRendered(le,ge,he,ye)}}if(typeof this.props.onScroll=="function"){var H=this.state,ve=H.scrollDirection,we=H.scrollOffset,be=H.scrollUpdateWasRequested;this._callOnScroll(ve,we,be)}},ae._getRangeToRender=function(){var R=this.props,re=R.itemCount,le=R.overscanCount,ge=this.state,he=ge.isScrolling,ye=ge.scrollDirection,H=ge.scrollOffset;if(re===0)return[0,0,0,0];var ve=y(this.props,H,this._instanceProps),we=T(this.props,ve,H,this._instanceProps),be=!he||ye==="backward"?Math.max(1,le):1,Pe=!he||ye==="forward"?Math.max(1,le):1;return[Math.max(0,ve-be),Math.max(0,Math.min(re-1,we+Pe)),ve,we]},D}(s.PureComponent),i.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},i}var Vt=function(i,l){var d=i.children,S=i.direction,C=i.height,y=i.layout,T=i.innerTagName,L=i.outerTagName,W=i.width,X=l.instance;if(0)var q},Kt=50,nn=function(i,l,d){var S=i,C=S.itemSize,y=d.itemMetadataMap,T=d.lastMeasuredIndex;if(l>T){var L=0;if(T>=0){var W=y[T];L=W.offset+W.size}for(var X=T+1;X<=l;X++){var q=C(X);y[X]={offset:L,size:q},L+=q}d.lastMeasuredIndex=l}return y[l]},xn=function(i,l,d){var S=l.itemMetadataMap,C=l.lastMeasuredIndex,y=C>0?S[C].offset:0;return y>=d?mn(i,l,C,0,d):Fn(i,l,Math.max(0,C),d)},mn=function(i,l,d,S,C){for(;S<=d;){var y=S+Math.floor((d-S)/2),T=nn(i,y,l).offset;if(T===C)return y;T<C?S=y+1:T>C&&(d=y-1)}return S>0?S-1:0},Fn=function(i,l,d,S){for(var C=i.itemCount,y=1;d<C&&nn(i,d,l).offset<S;)d+=y,y*=2;return mn(i,l,Math.min(d,C-1),Math.floor(d/2),S)},Ys=function(i,l){var d=i.itemCount,S=l.itemMetadataMap,C=l.estimatedItemSize,y=l.lastMeasuredIndex,T=0;if(y>=d&&(y=d-1),y>=0){var L=S[y];T=L.offset+L.size}var W=d-y-1,X=W*C;return T+X},ms=ut({getItemOffset:function(i,l,d){return nn(i,l,d).offset},getItemSize:function(i,l,d){return d.itemMetadataMap[l].size},getEstimatedTotalSize:Ys,getOffsetForIndexAndAlignment:function(i,l,d,S,C,y){var T=i.direction,L=i.height,W=i.layout,X=i.width,q=T==="horizontal"||W==="horizontal",D=q?X:L,ae=nn(i,l,C),oe=Ys(i,C),R=Math.max(0,Math.min(oe-D,ae.offset)),re=Math.max(0,ae.offset-D+ae.size+y);switch(d==="smart"&&(S>=re-D&&S<=R+D?d="auto":d="center"),d){case"start":return R;case"end":return re;case"center":return Math.round(re+(R-re)/2);case"auto":default:return S>=re&&S<=R?S:S<re?re:R}},getStartIndexForOffset:function(i,l,d){return xn(i,d,l)},getStopIndexForStartIndex:function(i,l,d,S){for(var C=i.direction,y=i.height,T=i.itemCount,L=i.layout,W=i.width,X=C==="horizontal"||L==="horizontal",q=X?W:y,D=nn(i,l,S),ae=d+q,oe=D.offset+D.size,R=l;R<T-1&&oe<ae;)R++,oe+=nn(i,R,S).size;return R},initInstanceProps:function(i,l){var d=i,S=d.estimatedItemSize,C={itemMetadataMap:{},estimatedItemSize:S||Kt,lastMeasuredIndex:-1};return l.resetAfterIndex=function(y,T){T===void 0&&(T=!0),C.lastMeasuredIndex=Math.min(C.lastMeasuredIndex,y-1),l._getItemStyleCache(-1),T&&l.forceUpdate()},C},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(i){var l=i.itemSize}}),zo=wt({getColumnOffset:function(i,l){var d=i.columnWidth;return l*d},getColumnWidth:function(i,l){var d=i.columnWidth;return d},getRowOffset:function(i,l){var d=i.rowHeight;return l*d},getRowHeight:function(i,l){var d=i.rowHeight;return d},getEstimatedTotalHeight:function(i){var l=i.rowCount,d=i.rowHeight;return d*l},getEstimatedTotalWidth:function(i){var l=i.columnCount,d=i.columnWidth;return d*l},getOffsetForColumnAndAlignment:function(i,l,d,S,C,y){var T=i.columnCount,L=i.columnWidth,W=i.width,X=Math.max(0,T*L-W),q=Math.min(X,l*L),D=Math.max(0,l*L-W+y+L);switch(d==="smart"&&(S>=D-W&&S<=q+W?d="auto":d="center"),d){case"start":return q;case"end":return D;case"center":var ae=Math.round(D+(q-D)/2);return ae<Math.ceil(W/2)?0:ae>X+Math.floor(W/2)?X:ae;case"auto":default:return S>=D&&S<=q?S:D>q||S<D?D:q}},getOffsetForRowAndAlignment:function(i,l,d,S,C,y){var T=i.rowHeight,L=i.height,W=i.rowCount,X=Math.max(0,W*T-L),q=Math.min(X,l*T),D=Math.max(0,l*T-L+y+T);switch(d==="smart"&&(S>=D-L&&S<=q+L?d="auto":d="center"),d){case"start":return q;case"end":return D;case"center":var ae=Math.round(D+(q-D)/2);return ae<Math.ceil(L/2)?0:ae>X+Math.floor(L/2)?X:ae;case"auto":default:return S>=D&&S<=q?S:D>q||S<D?D:q}},getColumnStartIndexForOffset:function(i,l){var d=i.columnWidth,S=i.columnCount;return Math.max(0,Math.min(S-1,Math.floor(l/d)))},getColumnStopIndexForStartIndex:function(i,l,d){var S=i.columnWidth,C=i.columnCount,y=i.width,T=l*S,L=Math.ceil((y+d-T)/S);return Math.max(0,Math.min(C-1,l+L-1))},getRowStartIndexForOffset:function(i,l){var d=i.rowHeight,S=i.rowCount;return Math.max(0,Math.min(S-1,Math.floor(l/d)))},getRowStopIndexForStartIndex:function(i,l,d){var S=i.rowHeight,C=i.rowCount,y=i.height,T=l*S,L=Math.ceil((y+d-T)/S);return Math.max(0,Math.min(C-1,l+L-1))},initInstanceProps:function(i){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(i){var l=i.columnWidth,d=i.rowHeight}}),Uo=ut({getItemOffset:function(i,l){var d=i.itemSize;return l*d},getItemSize:function(i,l){var d=i.itemSize;return d},getEstimatedTotalSize:function(i){var l=i.itemCount,d=i.itemSize;return d*l},getOffsetForIndexAndAlignment:function(i,l,d,S,C,y){var T=i.direction,L=i.height,W=i.itemCount,X=i.itemSize,q=i.layout,D=i.width,ae=T==="horizontal"||q==="horizontal",oe=ae?D:L,R=Math.max(0,W*X-oe),re=Math.min(R,l*X),le=Math.max(0,l*X-oe+X+y);switch(d==="smart"&&(S>=le-oe&&S<=re+oe?d="auto":d="center"),d){case"start":return re;case"end":return le;case"center":{var ge=Math.round(le+(re-le)/2);return ge<Math.ceil(oe/2)?0:ge>R+Math.floor(oe/2)?R:ge}case"auto":default:return S>=le&&S<=re?S:S<le?le:re}},getStartIndexForOffset:function(i,l){var d=i.itemCount,S=i.itemSize;return Math.max(0,Math.min(d-1,Math.floor(l/S)))},getStopIndexForStartIndex:function(i,l,d){var S=i.direction,C=i.height,y=i.itemCount,T=i.itemSize,L=i.layout,W=i.width,X=S==="horizontal"||L==="horizontal",q=l*T,D=X?W:C,ae=Math.ceil((D+d-q)/T);return Math.max(0,Math.min(y-1,l+ae-1))},initInstanceProps:function(i){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(i){var l=i.itemSize}});function gs(e,i){for(var l in e)if(!(l in i))return!0;for(var d in i)if(e[d]!==i[d])return!0;return!1}var Wo=null,rr=null;function ir(e,i){var l=e.style,d=_objectWithoutPropertiesLoose(e,Wo),S=i.style,C=_objectWithoutPropertiesLoose(i,rr);return!gs(l,S)&&!gs(d,C)}function Fr(e,i){return!ir(this.props,e)||gs(this.state,i)}let pn;typeof window<"u"?pn=window:typeof self<"u"?pn=self:pn=n.g;let Ho=null,Vo=null;const Qo=20,Ko=pn.clearTimeout,Jo=pn.setTimeout,Go=pn.cancelAnimationFrame||pn.mozCancelAnimationFrame||pn.webkitCancelAnimationFrame,Xo=pn.requestAnimationFrame||pn.mozRequestAnimationFrame||pn.webkitRequestAnimationFrame;Go==null||Xo==null?(Ho=Ko,Vo=function(i){return Jo(i,Qo)}):(Ho=function(i){let[l,d]=i;Go(l),Ko(d)},Vo=function(i){const l=Xo(function(){Ko(d),i()}),d=Jo(function(){Go(l),i()},Qo);return[l,d]});function ar(e){let i,l,d,S,C,y,T;const L=typeof document<"u"&&document.attachEvent;if(!L){y=function(le){const ge=le.__resizeTriggers__,he=ge.firstElementChild,ye=ge.lastElementChild,H=he.firstElementChild;ye.scrollLeft=ye.scrollWidth,ye.scrollTop=ye.scrollHeight,H.style.width=he.offsetWidth+1+"px",H.style.height=he.offsetHeight+1+"px",he.scrollLeft=he.scrollWidth,he.scrollTop=he.scrollHeight},C=function(le){return le.offsetWidth!==le.__resizeLast__.width||le.offsetHeight!==le.__resizeLast__.height},T=function(le){if(le.target.className&&typeof le.target.className.indexOf=="function"&&le.target.className.indexOf("contract-trigger")<0&&le.target.className.indexOf("expand-trigger")<0)return;const ge=this;y(this),this.__resizeRAF__&&Ho(this.__resizeRAF__),this.__resizeRAF__=Vo(function(){C(ge)&&(ge.__resizeLast__.width=ge.offsetWidth,ge.__resizeLast__.height=ge.offsetHeight,ge.__resizeListeners__.forEach(function(H){H.call(ge,le)}))})};let D=!1,ae="";d="animationstart";const oe="Webkit Moz O ms".split(" ");let R="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),re="";{const le=document.createElement("fakeelement");if(le.style.animationName!==void 0&&(D=!0),D===!1){for(let ge=0;ge<oe.length;ge++)if(le.style[oe[ge]+"AnimationName"]!==void 0){re=oe[ge],ae="-"+re.toLowerCase()+"-",d=R[ge],D=!0;break}}}l="resizeanim",i="@"+ae+"keyframes "+l+" { from { opacity: 0; } to { opacity: 0; } } ",S=ae+"animation: 1ms "+l+"; "}const W=function(D){if(!D.getElementById("detectElementResize")){const ae=(i||"")+".resize-triggers { "+(S||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',oe=D.head||D.getElementsByTagName("head")[0],R=D.createElement("style");R.id="detectElementResize",R.type="text/css",e!=null&&R.setAttribute("nonce",e),R.styleSheet?R.styleSheet.cssText=ae:R.appendChild(D.createTextNode(ae)),oe.appendChild(R)}};return{addResizeListener:function(D,ae){if(L)D.attachEvent("onresize",ae);else{if(!D.__resizeTriggers__){const oe=D.ownerDocument,R=pn.getComputedStyle(D);R&&R.position==="static"&&(D.style.position="relative"),W(oe),D.__resizeLast__={},D.__resizeListeners__=[],(D.__resizeTriggers__=oe.createElement("div")).className="resize-triggers";const re=oe.createElement("div");re.className="expand-trigger",re.appendChild(oe.createElement("div"));const le=oe.createElement("div");le.className="contract-trigger",D.__resizeTriggers__.appendChild(re),D.__resizeTriggers__.appendChild(le),D.appendChild(D.__resizeTriggers__),y(D),D.addEventListener("scroll",T,!0),d&&(D.__resizeTriggers__.__animationListener__=function(he){he.animationName===l&&y(D)},D.__resizeTriggers__.addEventListener(d,D.__resizeTriggers__.__animationListener__))}D.__resizeListeners__.push(ae)}},removeResizeListener:function(D,ae){if(L)D.detachEvent("onresize",ae);else if(D.__resizeListeners__.splice(D.__resizeListeners__.indexOf(ae),1),!D.__resizeListeners__.length){D.removeEventListener("scroll",T,!0),D.__resizeTriggers__.__animationListener__&&(D.__resizeTriggers__.removeEventListener(d,D.__resizeTriggers__.__animationListener__),D.__resizeTriggers__.__animationListener__=null);try{D.__resizeTriggers__=!D.removeChild(D.__resizeTriggers__)}catch(oe){}}}}}class lr extends s.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:i,disableWidth:l,onResize:d}=this.props;if(this._parentNode){const S=window.getComputedStyle(this._parentNode)||{},C=parseFloat(S.paddingLeft||"0"),y=parseFloat(S.paddingRight||"0"),T=parseFloat(S.paddingTop||"0"),L=parseFloat(S.paddingBottom||"0"),W=this._parentNode.getBoundingClientRect(),X=W.height-T-L,q=W.width-C-y;if(!i&&this.state.height!==X||!l&&this.state.width!==q){this.setState({height:X,width:q});const D=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};typeof d=="function"&&d({height:X,width:q,get scaledHeight(){return D(),X},get scaledWidth(){return D(),q}})}}},this._setRef=i=>{this._autoSizer=i}}componentDidMount(){const{nonce:i}=this.props,l=this._autoSizer?this._autoSizer.parentNode:null;if(l!=null&&l.ownerDocument&&l.ownerDocument.defaultView&&l instanceof l.ownerDocument.defaultView.HTMLElement){this._parentNode=l;const d=l.ownerDocument.defaultView.ResizeObserver;d!=null?(this._resizeObserver=new d(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(l)):(this._detectElementResize=ar(i),this._detectElementResize.addResizeListener(l,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:i,defaultHeight:l,defaultWidth:d,disableHeight:S=!1,disableWidth:C=!1,doNotBailOutOnEmptyChildren:y=!1,nonce:T,onResize:L,style:W={},tagName:X="div",...q}=this.props,{height:D,width:ae}=this.state,oe={overflow:"visible"},R={};let re=!1;return S||(D===0&&(re=!0),oe.height=0,R.height=D,R.scaledHeight=D),C||(ae===0&&(re=!0),oe.width=0,R.width=ae,R.scaledWidth=ae),y&&(re=!1),(0,s.createElement)(X,{ref:this._setRef,style:{...oe,...W},...q},!re&&i(R))}}function Br(e){return e&&e.disableHeight!==!0&&e.disableWidth!==!0}function zr(e){return e&&e.disableHeight!==!0&&e.disableWidth===!0}function Ur(e){return e&&e.disableHeight===!0&&e.disableWidth!==!0}const cr=(0,s.memo)(e=>{let{className:i,itemCount:l,itemSize:d,itemData:S,renderItem:C,onItemCountChange:y,onListRef:T}=e;const L=s.createRef();return(0,s.useEffect)(()=>{L.current&&y&&y(L)},[l,L,y]),(0,s.useEffect)(()=>{L.current&&T&&T(L)},[L,T]),(0,r.jsx)(lr,{children:W=>{let{width:X,height:q=0}=W;return(0,r.jsx)(Uo,{ref:L,className:i,itemCount:l,itemSize:d,itemData:S,height:q,width:X,children:C})}})}),dr=e=>{const{theme:i,caption:l,captionExtra:d,className:S,permissionScope:C,memberList:y,isOnlyOneManager:T,readOnly:L,readOnlyTooltip:W,expandable:X,defaultExpanded:q=!0,isResetPermission:D=!1,children:ae,onPermissionChange:oe,onChangeHeight:R,isMemberList:re,onlyTitle:le,isUseVirtualizedRender:ge=!1,onClickInviteButton:he,isShowInviteButton:ye=!1,currentOrg:H}=e,[ve,we]=(0,s.useState)(q),be=(0,s.useCallback)(()=>{we(Ue=>!Ue),R&&R()},[R]),Pe=(0,s.useCallback)(Ue=>{var Ye;const{avatar:nt,name:it}=Ue;return nt&&!nt.includes("/images/avatar.png")?(0,r.jsx)("img",{className:"avatar",src:Ue.avatar,alt:Ue.name}):(0,r.jsx)("div",{className:"avatar avater-name",children:it==null||(Ye=it.slice(0,1))==null?void 0:Ye.toUpperCase()})},[]),Oe=(Ue,Ye)=>(0,r.jsxs)("div",{className:"item",style:Ye,children:[(0,r.jsxs)("span",{className:"title",children:[Pe(Ue),(0,r.jsx)("span",{className:"name",children:Ue.name})]}),(0,r.jsx)("span",{className:"account",children:Ue.email||Ue.mobile}),(0,r.jsx)(ps,{readOnly:L,readOnlyTooltip:W,member:Ue,isReset:D,isOnlyOneManager:T,permissionScope:C,currentOrg:H,onPermissionChange:oe})]},Ue.user_cid),Ze=Ue=>{let{data:Ye,index:nt,style:it}=Ue;const{memberList:at}=Ye;return Oe(at[nt],it)};return(0,r.jsxs)(hs,{className:P()("member-list",i,S&&S,ge&&"use-virtualized-list"),"data-expanded":ve,children:[X&&(0,r.jsxs)("h5",{className:"caption",children:[(0,r.jsx)("span",{children:l}),ye&&!(!le&&X&&!re)&&(0,r.jsxs)("div",{className:"invite-item",onClick:he,children:[(0,r.jsx)(je.C,{name:"sharing/invite_member"}),I18N.imockSharing.add_collaborator]}),!le&&X&&!re&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:y.length>0&&"\xB7"+y.length}),(0,r.jsx)("span",{className:P()("btn-toggle-expand"),onClick:be,children:ve?I18N.BasicWidgetsNav.share_collapse:I18N.BasicWidgetsNav.share_view})]}),d]}),ae,!!y.length&&(0,r.jsx)("div",{className:"members",children:ge?(0,r.jsx)(cr,{className:"virtualized-list",itemSize:48,itemCount:y.length,itemData:{memberList:y},renderItem:Ze}):y.map(Ue=>Oe(Ue))})]})},Zo=(0,s.memo)(dr),ur=_.Ay.div.withConfig({displayName:"style__StyledSearchBox",componentId:"sc-f6syk1-0"})(["flex:1;position:relative;.icon-search{position:absolute;top:12px;left:12px;width:16px;height:17px;color:#666;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:36px;padding:0 12px 0 12px;border-radius:4px;outline:none;color:",";border:1px solid ",";font-size:14px;&:hover,&:focus{border-color:#298df8;border:1px solid #1883FB;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02),pr=e=>{const{value:i,onChange:l,onKeyPress:d}=e,S=y=>{l(y.currentTarget.value)},C=y=>{y.key==="Enter"&&d(y.currentTarget.value)};return(0,r.jsx)(ur,{className:"search-box",children:(0,r.jsx)("input",{className:"search-input",placeholder:I18N.imockSharing.search_member,type:"text",value:i,onChange:S,onKeyPress:C})})},hr=(0,s.memo)(pr);var mr=n(15628),qo=n(51582);function gr(e){const{theme:i,caption:l,outerMembers:d,canInvite:S,isSharing:C,handleClickInviteMember:y}=e,T=()=>{const X="\u54C8\u55BD\uFF0C\u7BA1\u7406\u5458\u60A8\u597D\uFF0C\u7533\u8BF7\u5C06"+(d[0].mobile||d[0].email)+"\u52A0\u5165\u300C\u58A8\u5200\u5E73\u53F0-"+l+"\u300D\uFF0C\u52A0\u5165\u540E\u6211\u5C31\u53EF\u4EE5\u548CTA\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~";(0,wn.$)(X)},L=!d||d.length<1;return C?(0,r.jsxs)(hs,{className:"member-list sharing "+i,children:[(0,r.jsxs)("div",{className:"members invite",children:[!L&&d.map(W=>(0,r.jsxs)("div",{className:"item",children:[(0,r.jsxs)("span",{className:"title",children:[(0,r.jsx)("img",{className:"avatar",src:W.avatar,alt:W.name}),(0,r.jsxs)("span",{className:"name",children:[W.name,(0,r.jsx)("span",{className:"register",children:W.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,r.jsx)("span",{className:"account",children:W.email||W.mobile}),!n.g.ENV.IS_ON_PREMISES&&(S?(0,r.jsx)("span",{className:"inviteJoin",onClick:y,children:I18N.imockSharing.invite_h}):(0,r.jsxs)("div",{className:"addOuter",children:[(0,r.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,r.jsx)(us.A,{opener:(0,r.jsx)(qo.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,r.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,r.jsx)("a",{className:"copy-text",onClick:T,children:I18N.imockSharing.copy})]})})]}))]},W.cid)),L&&(0,r.jsx)("div",{className:"enterTip",children:(0,r.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,r.jsx)(Rn,{})]}):(r.Fragment,(0,r.jsxs)(hs,{className:"member-list "+i,children:[(0,r.jsxs)("div",{className:"members invite",children:[!L&&d.map(W=>(0,r.jsxs)("div",{className:"item",children:[(0,r.jsxs)("span",{className:"title",children:[(0,r.jsx)("img",{className:"avatar",src:W.avatar,alt:W.name}),(0,r.jsxs)("span",{className:"name",children:[W.name,(0,r.jsx)("span",{className:"register",children:W.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,r.jsx)("span",{className:"account",children:W.email||W.mobile}),!n.g.ENV.IS_ON_PREMISES&&(S?(0,r.jsx)("span",{className:"inviteJoin",onClick:y,children:I18N.imockSharing.invite_h}):(0,r.jsxs)("div",{className:"addOuter",children:[(0,r.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,r.jsx)(us.A,{opener:(0,r.jsx)(qo.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,r.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,r.jsx)("a",{className:"copy-text",onClick:T,children:I18N.imockSharing.copy})]})})]}))]},W.cid)),L&&(0,r.jsx)("div",{className:"enterTip",children:(0,r.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,r.jsx)(Rn,{})]}))}const fr=(0,s.memo)(gr),er=()=>!!Number(sessionStorage.getItem("inClowdz"));function yr(e){let i="file_editarea-proto-v8-add",l="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0";return i=e?"file_editarea-proto-v8-input-add":"file_editarea-proto-v8-add-direct",l=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u6DFB\u52A0":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u6DFB\u52A0",{trackSourceId:i,trackSource:l}}function xr(e,i){i===void 0&&(i=!1);let l="file_editarea-proto-v8-invite",d="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u9080\u8BF7\u6210\u5458";return i?(l="file_editarea-proto-v8-input-inviteTA",d="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7TA"):(l=e?"file_editarea-proto-v8-input-invite":"file_editarea-proto-v8-add-invite",d=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7\u6210\u5458":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u9080\u8BF7\u6210\u5458"),{trackSourceId:l,trackSource:d}}function tr(e){if(!e)return"";let i="";return e==="org_owner"?i="\u4F01\u4E1A\u6240\u6709\u8005":e==="org_manager"?i="\u8D85\u7EA7\u7BA1\u7406\u5458":e==="org_admin"||e!=null&&e.includes("manager")?i="\u7BA1\u7406\u5458":e!=null&&e.includes("member")?i="\u534F\u4F5C\u6210\u5458":e!=null&&e.includes("viewer")&&(i="\u5BA1\u9605\u6210\u5458"),i}const nr=(e,i,l)=>{try{const{source_id:d,source:S,step:C,option:y=null}=l;if(!i||!e||ENV.IS_ON_PREMISES||ENV.IS_MO)return;if((!y||(y==null?void 0:y.results)!==!1)&&d)try{(0,Nn.Ds)("/api/dashboard/v5/org/invitation_records",{invitation_record:{user_id:e,org_cid:i,source:d,step:C}})}catch(T){console.log(T.message)}if(C===0)(0,O.kH)("invite_members_entrance",{source:S});else if(C===2&&y){const T=tr(y==null?void 0:y.invitor_role),L=tr(y==null?void 0:y.invitee_role);(0,O.kH)("invite_members_via_add",{source:S,join_space_num:1,has_department:!1,invitor_role:T,invitee_role:L,results:(y==null?void 0:y.results)||!0,error_type:(y==null?void 0:y.error_type)||""})}}catch(d){console.log(d.message)}},$s=function(e,i,l,d,S){S===void 0&&(S=null);const{trackSourceId:C,trackSource:y}=yr(l);nr(e,i,{source_id:C,source:y,step:d,option:S})},vr=function(e,i,l,d){d===void 0&&(d=!1);const{trackSourceId:S,trackSource:C}=xr(l,d),y={trackSourceId:S,trackSource:C},T="/workspace/"+i+"/admin/member?openInviteByLinkModal=true&invite_track="+(0,Pt._)(y);if(nr(e,i,{source_id:S,source:C,step:0}),er()){location.pathname=T;return}(0,ft.JW)(T)},br=(e,i,l)=>{const[d]=(0,s.useState)(l),S=(0,s.useRef)(0);return(0,s.useEffect)(()=>{d&&S.current>=1||S.current>=2||($s(e,i,l,0),S.current+=1)},[!!l]),d||l},_r=_.Ay.div.withConfig({displayName:"styles__StyledInviteMemberOverlay",componentId:"sc-six6tj-0"})(["z-index:3;height:100%;width:100%;display:flex;flex-direction:column;align-items:stretch;.overlay-content{flex:1;padding:0 4px;overflow:auto;position:relative;height:calc(100% - ","px);overflow-x:hidden;&::-webkit-scrollbar{display:block;width:4px;height:4px;}.member-list.use-virtualized-list{height:calc(100% - 10px);width:410px;.members{height:100%;.virtualized-list{&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}}}.overlay-content.no-members{.member-list{height:90%;.invite{height:90%;.enterTip{height:100%;display:flex;align-items:center;justify-content:center;&:lang(en){span{display:flex;justify-content:center;div{width:80%;text-align:center;line-height:20px;}}}}}}}.collaboration-remind{position:absolute;bottom:57px;left:0;width:100%;height:29px;color:#FFFFFF;background:#298DF8;padding:0 23px;font-size:12px;line-height:17px;display:flex;justify-content:space-between;align-items:center;.collaboration-remind-close{width:16px;height:16px;cursor:pointer;path{fill:#FFFFFF;}}}.overlay-footer{display:flex;align-items:center;justify-content:space-between;height:","px;padding:0 24px;border-top:1px solid ",";.seats{color:",";font-size:12px;}}"],ne.gE,ne.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1),wr=e=>{const{theme:i,keyword:l,source:d,caption:S,permissionScope:C,assignedMembers:y,unassignedMembers:T,outerMember:L,onPermissionChange:W,hostType:X,handleClose:q}=e,D=(0,f.d4)(Ke.wA),ae=(0,f.d4)(Ke.cb),oe=(0,f.d4)(Ke.WR),{settings:R,cid:re}=D,{seatsTaken:le,totalSeats:ge}=(0,mr.TF)(D)||{},he=br(oe,re,l);let ye=!1;(R.invite_permission&&R.invite_permission[0]==="all"||ae.isManager)&&(ye=!0);const H=()=>{const Ze={mode:"org",orgCid:D.cid,payEntrance:"\u7F16\u8F91\u533A-v8_\u7248\u672C\u7BA1\u7406_\u4E2A\u4EBA\u5347\u4F01\u4E1A",checkoutPlace:"workspace-v8_org_mem_limit",checkoutArea:"proto"};if(X==="proto")MB.global.popupHelper.chargeAsync(Ze),q&&q();else{const Ue="/workspace/"+D.cid+"/admin/order?payment_param="+(0,Pt._)(Ze);if(er()){location.pathname=Ue;return}(0,ft.JW)(Ue)}},ve=(0,s.useMemo)(()=>T.filter(Ze=>Ze.name&&Ze.name.includes(l)||Ze.mobile&&Ze.mobile.includes(l)||Ze.email&&Ze.email.includes(l)),[l,T]),we=()=>{ye&&vr(oe,re,he,!0)},be=(Ze,Ue)=>{W(Ze,Ue),$s(oe,re,he,1),L&&$s(oe,re,he,2,{invitor_role:ae==null?void 0:ae.roleName,invitee_role:Ue}),$s(oe,re,he,3)},Pe=!ve||ve.length<1,Oe=L?[L]:[];return(0,r.jsxs)(_r,{className:"overlay-adding-member sharing",children:[(0,r.jsxs)("div",{className:P()("overlay-content",!L&&Pe&&"no-members"),children:[!Pe&&(0,r.jsx)(Zo,{theme:i,caption:l?null:I18N.imockSharing.unjoined,expandable:!1,className:P()(l&&"invite"),permissionScope:C,currentOrg:D,memberList:ve,isResetPermission:!0,onPermissionChange:be,isUseVirtualizedRender:!0},"filtered-unassigned-members"),Pe&&(0,r.jsx)(fr,{theme:i,caption:S,outerMembers:Oe,canInvite:ye,isSharing:!0,handleClickInviteMember:we})]}),(0,r.jsxs)("footer",{className:"overlay-footer",children:[(0,r.jsxs)("span",{className:"seats",children:["\u5DF2\u5360\u7528\u5E2D\u4F4D/\u4F01\u4E1A\u603B\u5E2D\u4F4D\u6570\uFF1A",le,"/",ge]}),!n.g.ENV.IS_ON_PREMISES&&(0,r.jsx)(bn.Oc,{type:"primary",size:"tiny",corner:"soft",onClick:H,children:I18N.imockSharing.add_team_seat})]})]})},Cr=(0,s.memo)(wr),Sr=_.Ay.div.withConfig({displayName:"styles__StyledProjectCollaborators",componentId:"sc-th5siy-0"})(["position:relative;display:flex;flex-direction:column;width:500px;height:100%;border-radius:8px;&.sharing{width:100%;&.dark{background:#252626;&.isInviteOverlayOpen{.overlay-adding-member{background:#252626;.overlay-header{.btn-back > svg > path{stroke:rgba(255,255,255,0.9);}.caption{color:rgba(255,255,255,0.9);}}.overlay-content{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}.nav-header > .title-left{label > button > svg > path{fill:#B8BCBF;}}.modal-content{.collaborators{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}.inherited-members{.caption > span{color:",";&:last-child{color:#1684FC;}}.members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}}&.isInviteOverlayOpen{.overlay-adding-member{.overlay-header{height:50px;.btn-back{left:20px;}.caption{font-size:14px;font-weight:500;color:",";left:82px;&:lang(en){left:100px;}}}}}& > .blank{height:86px;&.noSearch{height:18px;}}.modal-content{.blank{height:55px;}.collaborators{overflow-y:overlay;.member-list{.caption{padding:10px 20px;& > span{font-weight:500;font-size:12px;}.btn-toggle-expand{color:",";&:hover{color:",";}}.btn-add-collaborator{right:20px;}}.members{margin-top:0;.item{padding:7px 20px;height:48px;.title{flex:none;width:150px;.avatar{width:28px;height:28px;}.name{width:105px;font-weight:400;font-size:14px;line-height:initial;color:#333;}}.account{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}}}}}}.nav-header{display:flex;padding-left:10px;font-weight:500;font-size:16px;color:",";height:","px;align-items:center;border-bottom:1px solid ",";justify-content:space-between;.title-left{display:flex;align-items:center;.title-left-back{cursor:pointer;display:flex;align-items:center;}.member-manager{cursor:default;margin-left:10px;}svg{margin-top:2px;}.nav-title{color:"," !important;font-size:14px;margin-top:1px;}}.title-close{margin-right:20px;cursor:pointer;.svg-icon{color:",";&:hover{color:",";}&:active{color:",";}}}}.modal-content{display:flex;flex:1;flex-direction:column;align-items:stretch;height:calc(100% - ","px);padding-top:10px;&.modal-content-show-search{height:calc(100% - 116px);}&.in-invite-overlay{padding-top:20px;}.collaborators{padding:0 4px 20px 4px;height:100%;overflow:hidden auto;&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}.search{display:flex;align-items:center;position:relative;margin:0px 20px;padding-top:20px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_L1,ne.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,ne.gE),Mr=e=>{const{theme:i,from:l,caption:d,targetCid:S,permissionScope:C,captionTipType:y,isFolder:T=!1,isAllowSetCollaborators:L,isShowInheritedCollaborators:W=!1,handleBackSharingHandel:X,onChangeMembersAccess:q,handleClose:D,hostType:ae,isOnlyMemberManager:oe=!1,currentOrg:R}=e,[re,le]=(0,s.useState)(""),[ge,he]=(0,s.useState)(null),[ye,H]=(0,s.useState)(!1),{currentMembers:ve,inheritedMembers:we,joinedMembers:be,unjoinedMembers:Pe,assignedMembers:Oe,unassignedMembers:Ze,userCurrentScopePermisson:Ue,isOnlyOneManager:Ye}=Ut(C,S),nt=Et(C,S,l),it=async(yt,rn)=>{await nt(yt,rn),q&&q(yt,rn)};let at=ve,bt=Oe,Nt=Ze;const At=Ue.isMember,Ft=L&&At,Gt=!ye&&At;L&&!W&&(at=be,bt=be,Nt=Pe);const pt=(0,s.useCallback)(()=>{H(!1),le(""),he(null)},[]),It=(0,s.useCallback)(yt=>{le(yt),he(null),yt&&H(!0)},[]),Lt=(0,s.useCallback)(async yt=>{if(!n.g.ENV.IS_ON_PREMISES&&(le(yt),yt)){const rn=Nt.find($t=>$t.email===yt.trim()||$t.mobile===yt.trim()),$n=bt.find($t=>$t.email===yt.trim()||$t.mobile===yt.trim());if(rn||$n)return;const Qn=Io.test(yt.trim()),vn=yn.test(yt.trim());let an=null;if(Qn?an=await In(yt.trim()):vn&&(an=await In(null,yt.trim())),an){let $t=null;an.user?($t=an.user,$t.name=I18N.imockSharing.to_be_invited,$t.cid="outer"):$t={avatar:"/images/avatar.png",cid:yt,email:yt,isNotRegister:!0,name:I18N.imockSharing.to_be_invited},he($t)}}},[]),qt=(0,s.useCallback)(()=>{if(!(oe&&!ye)){if(le(""),he(null),ye){H(!1);return}X()}},[ye,H,X]),ht=(0,s.useCallback)(()=>{H(!0)},[H]);return(0,r.jsxs)(Sr,{className:P()("ProjectCollaborators sharing",""+i,{isInviteOverlayOpen:!0}),children:[(0,r.jsxs)("div",{className:"nav-header",children:[(0,r.jsxs)("div",{className:"title-left",children:[(0,r.jsxs)("div",{className:P()("title-left-back",{"member-manager":oe&&!ye}),onClick:qt,children:[oe?ye&&(0,r.jsx)(je.C,{name:"sharing/nav_back",size:32}):(0,r.jsx)(je.C,{name:"sharing/nav_back",size:32}),(0,r.jsx)("div",{className:"nav-title",children:ye?I18N.imockSharing.add_collaborator:I18N.imockSharing.team_collaborator})]}),!ye&&(0,r.jsx)(ko,{tipType:y,position:"left",isOnlyMemberManager:oe})]}),oe&&(0,r.jsx)("div",{className:"title-close",onClick:D,children:(0,r.jsx)(je.C,{size:24,name:"sharing/close"})})]}),Ft&&(0,r.jsx)("div",{className:P()("search"),children:(0,r.jsx)(hr,{value:re,onChange:It,onKeyPress:Lt})}),(0,r.jsx)("div",{className:P()("modal-content",Ft&&"modal-content-show-search"),children:ye?(0,r.jsx)(Cr,{theme:i,permissionScope:C,currentOrg:R,unassignedMembers:Nt,assignedMembers:bt,outerMember:ge,keyword:re,caption:d,onClose:pt,onPermissionChange:it,handleClose:D,hostType:ae}):(0,r.jsxs)("div",{className:P()("collaborators",ye&&"in-invite-overlay"),children:[L&&(0,r.jsx)(Zo,{theme:i,caption:I18N.imockSharing.project_collaborators,permissionScope:C,currentOrg:R,memberList:at,isOnlyOneManager:Ye,isMemberList:!1,expandable:!0,onlyTitle:!0,onPermissionChange:it,onClickInviteButton:ht,isShowInviteButton:Gt},"current-collaborators"),W&&(0,r.jsx)(Zo,{theme:i,caption:I18N.imockSharing.parent_folder_collaborator,expandable:!0,defaultExpanded:T,readOnly:!0,permissionScope:C,currentOrg:R,memberList:we,onPermissionChange:it,className:"inherited-members",onClickInviteButton:ht,isShowInviteButton:Gt},"inherited-collaborators")]})}),(0,r.jsx)(To,{})]})},Nr=(0,s.memo)(Mr);function Ir(e){const{theme:i,targetCid:l,isSharing:d,handleBackSharingHandel:S,onChangeMembersAccess:C,handleClose:y,hostType:T,isOnlyMemberManager:L,currentOrg:W}=e,q=(0,f.d4)(Ke._B).get(l),D=gt(q==null?void 0:q.team_cid);return!q||D<0?null:(0,r.jsx)(Nr,{theme:i,targetCid:l,caption:q.name,isAllowSetCollaborators:!0,isShowInheritedCollaborators:D>=1,captionTipType:xe.p.Project,currentOrg:W,permissionScope:xe.W.Project,isSharing:d,handleBackSharingHandel:S,onChangeMembersAccess:C,handleClose:y,hostType:T,isOnlyMemberManager:L})}const Er=(0,s.memo)(Ir);var kr=n(12211);const jr=e=>{const{user:i,initData:l,currentProject:d,members:S,dispatch:C}=e,y=d==null?void 0:d.cid;return(0,s.useEffect)(()=>{(async L=>{C({type:"entry:projectAccess:initProjectData",payload:{initData:l,members:S}})})(y)},[C,l,S,y,i]),i!=null&&i.id?(0,r.jsx)(Er,{targetCid:y,isSharing:!0,...e}):null},Tr=(0,kr.Mz)([],()=>({})),Ar=(0,f.Ng)(e=>Tr(e))(jr);var Lr=n(65825),sr=n(5743),Or=n(33236);function Pr(e){const{getIframeContentHeight:i,handleChangeMembersAccess:l,handleClose:d}=e,S=(0,f.wA)(),C=(0,f.d4)(c.query.getProject),y=(0,f.d4)(c.query.getMembers),T=(0,f.d4)(c.query.getTheme),L=(0,f.d4)(c.query.getTopPageIndex),W=(0,f.d4)(c.query.getHostType),X=(0,f.d4)(c.query.getTabIndex),q=(0,f.d4)(c.query.getMainPage),D=(0,f.d4)(c.query.getLoading),ae=(0,f.d4)(c.query.getInitData),oe=(0,f.d4)(c.query.getOrg),R=(0,f.d4)(c.query.getUser),re=(0,f.d4)(c.query.getIsEditMode),le=(0,f.d4)(c.query.getIsOnlyMemberManager),[ge,he]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const be=(0,on.fV)();if(be){const{mdWMMktList:Pe,mtWMMktList:Oe,noWMMktList:Ze}=be,Ue=[...Pe,...Oe,...Ze];Ue.length&&(0,bs.q)(Ue).then(Ye=>{if(Ye.mdWMMktList.length>0||Ye.mtWMMktList.length>0){if(!(0,Wn._5)())return;he(!0)}})}},[]);const[ye,H]=(0,s.useState)(282);(0,s.useEffect)(()=>{let be=619;q!=="access"&&(X===0&&L==="edit"?be=212:(L==="embed"||L==="qrCode"||X===0&&L==="setting")&&(be=380)),ge&&(be+=37),H(be),W!=="proto"&&i(be)},[W,X,L,q,i,re,ge]);const ve=(0,s.useCallback)(()=>{S({type:c.entryKey["sharing:init"],payload:{mainPage:"share"}})},[S]);(0,s.useEffect)(()=>{S({type:c.entryKey["sharing:projectAccess:init"]})},[q,S]);const we=(0,s.useCallback)(async(be,Pe)=>{l&&l(be,Pe)},[l]);return D?(0,r.jsx)(sr.A,{className:P()("sharingBoxV2",""+T,"loading"),children:(0,r.jsx)(Lr.A,{})}):(0,r.jsxs)(sr.A,{className:P()("sharingBoxV2",""+T,W==="iframe"&&"in-iframe"),style:{height:ye+"px"},id:"v8-share-page",children:[q==="share"?(0,r.jsx)(No,{}):(0,r.jsx)(Ar,{theme:T,user:R,currentProject:C,members:y,initData:ae,currentOrg:oe,handleBackSharingHandel:ve,onChangeMembersAccess:we,hostType:W,handleClose:d,isOnlyMemberManager:le}),(0,r.jsx)(Or.r,{})]})}var Dr=n(34860);const Rr=e=>{let{theme:i,org:l=null,user:d,project:S,flatKey:C,members:y=[],hostType:T="proto",screenMetaList:L,hostSharingData:W,projShareToEdit:X="",handleClose:q,isOnlyMemberManager:D=!1,hostCurrentScreen:ae}=e;const oe=se();let R=!0;T!=="iframe"&&(R=(0,Dr.OB)());const re=X?1:0;oe.dispatch({type:c.entryKey["sharing:init"],payload:{project:S,theme:i,user:d,org:l,flatKey:C,hostType:T,members:y,screenMetaList:L,hostSharingData:W,isEditMode:R,tabIndex:re,projShareToEdit:X,hostCurrentScreen:ae}});const le=(0,s.useCallback)(he=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:height",payload:{height:he}}),"*")},[]),ge=(0,s.useCallback)((he,ye)=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:changeMembersAccess",payload:{member:he,value:ye}}),"*")},[]);return T==="iframe"&&D&&(oe.dispatch({type:c.entryKey["sharing:init"],payload:{mainPage:"access",isOnlyMemberManager:!0}}),le(585)),(0,s.useEffect)(()=>{if(T==="iframe"&&!D&&le(212),!S)return;const{cid:he}=S;(async()=>{if(!S)return;const{result:{result:H},statusOk:ve}=await(0,J.QC)(he);ve&&oe.dispatch({type:c.entryKey["sharing:init"],payload:{canEditByUser:H}})})()},[T,le,S,oe]),(0,r.jsx)(f.Kq,{store:oe,children:(0,r.jsx)(_.NP,{theme:M.A[i],children:(0,r.jsx)(A.$,{children:(0,r.jsx)(Pr,{getIframeContentHeight:le,handleChangeMembersAccess:ge,handleClose:q})})})})}},5649:(Ne,ie,n)=>{"use strict";n.d(ie,{s:()=>G,A:()=>K});var s=n(95549),p=n(38502),I=n(53732),u=n.n(I),B=n(69173),te=n.n(B),$=n(91752),Z=n(39e3),Q=n(23089),E=n(17307),V=n(83199),ee=n(93257),J=n(57479),de=n(69815),Y=n(67787),O=n(69594);const N=(0,Y.DU)([".no-pointer-events{pointer-events:none;user-select:none;&.col-resize{cursor:",";}&.row-resize{cursor:",";}}"],O.M.ewResizeActive,O.M.nsResizeActive),b=Y.Ay.label.withConfig({displayName:"styles__StyledInputNumber",componentId:"sc-1hqayf3-0"})(['position:relative;display:flex;justify-content:space-between;align-items:center;min-width:2em;border:1px solid transparent;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;height:28px;font-size:12px;border-radius:6px;overflow:hidden;.title{display:flex;align-items:center;justify-content:center;padding:0 3px 0 5px;width:max-content;height:100%;user-select:none;color:',";&.title-cursor{&.col-resize{cursor:",";}&.row-resize{cursor:",";}}}.left-title{padding:0 13px 0 0;}.normal-right{margin-left:","px;}input{color:",";width:100%;height:100%;margin-left:8px;cursor:default;}.text-align-right{text-align:right;padding-right:2px;}.suffix{position:absolute;top:0;display:flex;align-items:center;height:100%;pointer-events:none;user-select:none;width:100%;color:",";&::before{content:attr(data-value);display:inline-block;margin-right:0.125em;width:fit-content;overflow:hidden;opacity:0;}}.action{position:absolute;top:0;right:0;width:14px;height:100%;text-align:center;visibility:hidden;svg{height:4px;fill:currentColor;fill-rule:evenodd;}button{display:block;margin:0;padding:0;width:100%;height:50%;line-height:0;color:",";&.no-transition{transition:none;}&:hover{color:",";}&:active{color:",";}&[data-action=up] svg{margin:5px 0 2px;}&[data-action=down] svg{margin:2px 0 5px;}}&.caret{width:26px;svg{width:26px;height:26px;margin-right:0;color:",";}button{height:100%;}&.active{visibility:visible;}}}&.is-disabled{> *{color:",";cursor:not-allowed;}}&.is-readOnly{pointer-events:none;.action{visibility:hidden;}}&:hover:not(.has-menu):not(.is-disabled){border:1px solid ",";.action{visibility:visible;color:#c8cdd0;}}&.is-active:not(.has-menu):not(.is-disabled){border:1px solid ",";outline:1px solid ",";outline-offset:-2px;.action{&:not(.caret){visibility:visible;}}}&.is-active-title{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;cursor:pointer;}&.has-menu{border:1px solid transparent;input{width:calc(100% - 26px);border:1px solid transparent;border-radius:4px 0 0 4px;margin-left:0;padding-left:5px;}&:hover:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&:active:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&.is-active{overflow:visible;input{border:1px solid ",";outline:1px solid ",";position:relative;z-index:2;}.action.caret{visibility:visible;color:#c8cdd0;position:relative;z-index:1;svg.icon{color:",";}&:hover{background:",";border-radius:0 4px 4px 0;outline:1px solid ",";}}}}"],F=>F.theme.color_text_L3,O.M.ewResize,O.M.nsResize,F=>31-F.valueLength*6,F=>F.theme.color_text_L1,F=>F.theme.color_text_L2,F=>F.theme.color_text_L3,F=>F.theme.color_text_L2,F=>F.theme.color_text_L2,F=>F.theme.color_text_L3,F=>F.theme.color_text_disabled01,F=>F.theme.color_bg_border_02,F=>F.theme.color_proto,F=>F.theme.color_proto,F=>F.theme.color_proto,F=>F.theme.color_proto,F=>F.theme.color_bg_border_02,F=>F.theme.color_btn_secondary_hover,F=>F.theme.color_text_L1,F=>F.theme.color_bg_border_02,F=>F.theme.color_btn_secondary_active,F=>F.theme.color_text_L1,F=>F.theme.color_proto,F=>F.theme.color_proto,F=>F.theme.color_text_L1,F=>F.theme.color_btn_secondary_hover,F=>F.theme.color_bg_border_02);var w=n(72214);const g=500,x=30,h=(F,se)=>Number(Number(F).toFixed(se));function v(F,se,f){return f===void 0&&(f=0),se?F:h(F!==""&&te()(Number(F))?Number(F):"",f)}const j=function(F,se){let{shiftKey:f,metaKey:_}=F;return se===void 0&&(se=1),f?se*10:_?se*100:se},U=F=>{let{currentTarget:se}=F;return setTimeout(()=>se.select(),50)};class K extends p.PureComponent{constructor(se){super(se),(0,s.A)(this,"setElemRef",f=>this.$title=f),(0,s.A)(this,"setLabelRef",f=>this.$label=f),(0,s.A)(this,"setInputRef",f=>this.$input=f),(0,s.A)(this,"onChange",f=>{const{target:{value:_}}=f,{isEditing:A}=this.state;!A&&this.setState({isEditing:!0});const M=_.trim();this.setValue(M,f)}),(0,s.A)(this,"correctNumber",f=>{const{value:_,min:A,max:M,precision:k,suffix:P,parser:ne}=this.props,fe=ne(f,P),Ie=h(Math.min(Math.max(fe,A),M),k);return isNaN(Ie)?_:Ie}),(0,s.A)(this,"checkValidity",f=>/^\+$/.test(f)?this.canBePositive:/^-$/.test(f)?this.canBeNegative:f===""||isFinite(f)&&this.correctNumber(f)===Number(f)),(0,s.A)(this,"setValue",(f,_,A)=>{_.persist&&_.persist(),this.setState({value:f},A)}),(0,s.A)(this,"setConfirmedValue",(f,_)=>this.setValue(f,_,()=>this.onConfirm(_))),(0,s.A)(this,"getConfirmValue",f=>{const{value:_,precision:A,shouldCorrectOnConfirm:M,onlyPreview:k,fontSize:P,fontFamily:ne,isWRichText:fe}=this.props,Ie=this.checkValidity(f);if(this.props.isDisabled||this.props.disabled)return _;const je=this.correctNumber(f),$e=isNaN(je)?_:je;let Me=f===""?_:Ie?/^[+-]$/.test(f)?0:k?Math.min(Math.max(Number(f),20),400):Number(f):je===h(f,A)?je:M?$e:_||$e;return(!Ie||f==="")&&fe&&(Me=(0,de.qp)(ne,P)),Me}),(0,s.A)(this,"onConfirm",f=>{const{attr:_,onConfirm:A}=this.props,{value:M}=this.state,k=this.getConfirmValue(M);return this.setState({value:k,isEditing:!1},()=>A(k,_,f,M))}),(0,s.A)(this,"focusOnInput",f=>{try{const _=f.currentTarget.closest("label").querySelector("input");setTimeout(()=>{_.focus()})}catch(_){console.error(_)}}),(0,s.A)(this,"onStep",async f=>{f.persist(),f.nativeEvent.stopPropagation(),this.handleBeforeChangeValue();const{parser:_,suffix:A}=this.props,{value:M}=this.state,k=_(M,A),{action:P}=f.currentTarget.dataset,ne=j(f,this.props.step)*(P==="up"?1:-1);await this.focusOnInput(f),this.setConfirmedValue(this.correctNumber(k+ne),f),Object.assign(this,{longPressedTimeout:setTimeout(()=>Object.assign(this,{steppingInterval:setInterval(()=>{const{parser:fe,suffix:Ie}=this.props,{value:xe}=this.state,je=fe(xe,Ie);this.setConfirmedValue(this.correctNumber(je+ne),f)},x)}),g)})}),(0,s.A)(this,"onRelease",()=>{clearTimeout(this.longPressedTimeout),clearInterval(this.steppingInterval),this.handleAfterChangeValue()}),(0,s.A)(this,"onFocus",f=>{const{attr:_,dontSelectOnFocus:A,onFocus:M=A?void 0:U}=this.props;this.state.isActive||this.setActive(),M(f,_)}),(0,s.A)(this,"onKeyDown",f=>{const{key:_,currentTarget:A}=f,{disableKeyboardEvents:M}=this.props;if(M&&(_===J._.ArrowUp||_===J._.ArrowDown)){f.preventDefault();return}const k=_===J._.ArrowUp?"up":_===J._.ArrowDown?"down":_===J._.Enter?"enter":_===J._.Tab?"tab":null,P=A instanceof Element&&A.matches("input");if(k){if(f.persist&&f.persist(),k!=="tab"&&f.preventDefault(),P&&k==="tab")return this.setInactive(),this.setState({isEditing:!1}),this.onConfirm(f);if(P&&k==="enter"){f.stopPropagation(),this.onConfirm(f),this.setInactive(),this.setState({isEditing:!1}),this.$input.blur();return}if(P){const{parser:ne,suffix:fe}=this.props,{value:Ie}=this.state,xe=ne(Ie,fe),je=j(f,this.props.step)*(k==="up"?1:-1);this.handleBeforeChangeValue(),this.setState({isEditing:!1}),this.setConfirmedValue(this.correctNumber(xe+je),f)}}}),(0,s.A)(this,"setActive",()=>{this.setState({isActive:!0}),MB&&MB.f&&(MB.f.isInSetting=!0);const{withToolTip:f,onChangeTooltipsHover:_}=this.props;f&&(this.setState({showTooltip:!1}),_&&_(!1))}),(0,s.A)(this,"setInactive",()=>{this.setState({isActive:!1,isEditing:!1}),MB&&MB.f&&(MB.f.isInSetting=!1)}),(0,s.A)(this,"toggleMenu",()=>this.setState({isMenuOpen:!this.state.isMenuOpen})),(0,s.A)(this,"closeMenu",()=>this.setState({isMenuOpen:!1})),(0,s.A)(this,"onSelect",f=>{f.persist();const{attr:_,onConfirm:A}=this.props,{currentTarget:M}=f,{value:k}=M.dataset;this.setState({value:k,isEditing:!1},()=>A(k,_,f)),this.setInactive(),this.closeMenu()}),(0,s.A)(this,"onClickOutside",f=>{const{target:_}=f,{onClickOutside:A}=this.props;A&&!(A!=null&&A(f))||_.closest("label")&&this.$label.contains(_)||_.closest(".SelectOption")||(this.onConfirm(f),this.setInactive(),this.setState({isEditing:!1}))}),(0,s.A)(this,"onBlur",async f=>{await this.onConfirm(f),this.setState({isEditing:!1}),this.props.onBlur(f)}),(0,s.A)(this,"handleRectResize",f=>{f.stopPropagation();const{isDisabled:_,disabled:A,cursorSize:M,cursorDirection:k,onResizeMove:P,onResizeEnd:ne,attr:fe}=this.props;if(_||A)return;const{left:Ie,right:xe,top:je,bottom:$e}=this.$title.getBoundingClientRect();this.lastRecordedClientX=M==="col-resize"?(Ie+xe)/2:(je+$e)/2,this.lastRecordedValue=Number(this.state.value),this.setState({isTitleActive:!0}),document.querySelector("html").classList.add("no-pointer-events",M),sdkStore.combineMergeMark("input-number-"+fe),this.handleBeforeChangeValue();const Me=pe=>{P&&P();const _e=(M==="col-resize"?pe.pageX:pe.pageY)-this.lastRecordedClientX,ke=this.correctNumber(this.lastRecordedValue+(k?Number(_e):-Number(_e)));this.setConfirmedValue(ke,pe)},ue=()=>{ne&&ne(),this.setState({isTitleActive:!1}),document.querySelector("html").classList.remove("no-pointer-events",M),this.handleAfterChangeValue(),sdkStore.combineMerge("input-number-"+fe),document.removeEventListener("mousemove",Me),document.removeEventListener("mouseup",ue)};document.addEventListener("mousemove",Me),document.addEventListener("mouseup",ue)}),(0,s.A)(this,"handleChangeCursor",()=>{const{isDisabled:f,disabled:_}=this.props;f||_||this.setState({isCursor:!this.state.isCursor})}),(0,s.A)(this,"handleAfterChangeValue",()=>{const{onAfterChangeValue:f}=this.props;f()}),(0,s.A)(this,"handleBeforeChangeValue",()=>{const{onBeforeChangeValue:f}=this.props;f()}),(0,s.A)(this,"onInputNumberMouseEnter",f=>{const{onMouseEnter:_,withToolTip:A,onChangeTooltipsHover:M}=this.props;_(f),this.setState({mouseEntered:!0});const k=()=>this.setState({showTooltip:!0});A&&(M?M(!0,k):k())}),(0,s.A)(this,"onInputNumberMouseLeave",f=>{const{onMouseLeave:_,withToolTip:A,onChangeTooltipsHover:M}=this.props;_(f),this.setState({mouseEntered:!1}),A&&(this.setState({showTooltip:!1}),M&&M(!1))}),this.state={prevProps:this.props,value:v(this.props.value,this.props.isNotVerify,this.props.precision),isActive:!1,isMenuOpen:!1,isTitleActive:!1,isCursor:!1,isEditing:!1,showTooltip:!1,mouseEntered:!1},this.lastRecordedClientX=null,this.lastRecordedValue=v(this.props.value,this.props.isNotVerify,this.props.precision),this.toolTipNode=document.getElementById("IBOT_TOOLTIP_ROOT")}static getDerivedStateFromProps(se,f){let{prevProps:_,value:A}=f;return _.value!==se.value||_.isNotVerify!==se.isNotVerify||_.precision!==se.precision?{prevProps:se,value:v(se.value,se.isNotVerify,se.precision)}:null}componentDidMount(){this.props.isSelect&&(this.$input.select(),this.setState({isActive:!0}))}componentDidUpdate(se){!se.isSelect&&this.props.isSelect&&this.$input.select()}componentWillUnmount(){if(!this.props.unMountCallback||!this.state.isActive)return;const{value:se,attr:f,unMountCallback:_}=this.props,{value:A}=this.state,M=this.getConfirmValue(A);String(se)!==String(M)&&_&&_(M,f,new Event("dummy"),A)}get canBePositive(){return this.props.max>0}get canBeNegative(){return this.props.min<0}render(){const{inputClassName:se,menuClassName:f,className:_="",placeholder:A,title:M,rightTitle:k,cursorSize:P,suffix:ne,actionButton:fe,formatter:Ie,optionList:xe,canSlidingAdjustment:je,readOnly:$e,toolTipContent:Me,showCaretIcon:ue,normalRight:pe,isLongTimeHoverForInput:_e=!1}=this.props,{value:ke,isActive:Ae,isMenuOpen:qe,isTitleActive:ze,isCursor:Ke,isEditing:mt,showTooltip:gt,mouseEntered:St}=this.state,Et=ke,Ut=this.props.isDisabled||this.props.disabled,Ot=xe&&xe.length>0,r=u()(_,"WorkspaceInputNumber",{"is-disabled":Ut,"is-active":Ae&&!Ut,"is-menu-open":qe,"is-active-title":ze,"can-sliding-adjustment":je,"has-menu":Ot,"is-readOnly":$e}),me=A,Se=String(ke).split(".").join("").length-1,De=_e?V.A:ee.A;return(0,w.jsx)(De,{content:Me,direction:"down",children:(0,w.jsxs)(b,{className:r,ref:this.setLabelRef,onMouseDown:Ot?void 0:this.setActive,onMouseEnter:this.onInputNumberMouseEnter,onMouseLeave:this.onInputNumberMouseLeave,valueLength:Se,children:[M&&(0,w.jsx)("span",{className:u()("title",{"title-cursor":Ke},P),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:M}),(0,w.jsx)("input",{className:u()(se,{"text-align-right":pe&&!St&&!Ae}),type:"text",value:mt?Et:Ie(Et,ne),placeholder:me,ref:this.setInputRef,disabled:Ut,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.handleAfterChangeValue,onMouseDown:Ot?this.setActive:void 0,onFocus:this.onFocus,onBlur:this.onBlur}),k&&(0,w.jsx)("span",{className:u()("title","left-title",{"title-cursor":Ke},P),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:k}),fe&&(0,w.jsx)(c,{hasMenu:Ot,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease,showCaretIcon:ue}),Ot&&qe&&(0,w.jsx)(Q.V0,{isOpen:qe,menuClassName:u()("SelectNumberMenu",f),$select:this.$label,optionList:xe,value:Et,onChange:this.onSelect,onClose:this.closeMenu}),Ae&&(0,w.jsx)(Z.A,{target:document,onMouseDown:(0,Z.t)(this.onClickOutside,{capture:!0})})]})})}}(0,s.A)(K,"defaultProps",{unstyled:!1,value:"",placeholder:"",cursorSize:"col-resize",inputClassName:"",menuClassName:"",cursorDirection:!0,step:1,isNotVerify:!1,formatter:(F,se)=>""+F+(se||""),parser:(F,se)=>{const f=F.toString();return se&&f.endsWith(se)?Number(f.slice(0,f.length-se.length)):Number(f)},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,actionButton:!0,isSelect:!1,onConfirm:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onAfterChangeValue:()=>null,onBeforeChangeValue:()=>null,onBlur:()=>null,shouldCorrectOnConfirm:!0,precision:0,dontSelectOnFocus:!1,canSlidingAdjustment:!0,isLineHeight:!1,disableKeyboardEvents:!1});const c=(0,p.memo)(F=>{let{hasMenu:se,onToggleMenu:f,onStep:_,onRelease:A,showCaretIcon:M}=F;return(0,w.jsxs)(p.Fragment,{children:[se?(0,w.jsx)("div",{className:u()("action caret",{active:M}),children:(0,w.jsx)($.Ay,{className:"no-transition",type:"text",tabIndex:"-1",onClick:f,children:(0,w.jsx)(E.C,{name:"common/expand@26"})})}):(0,w.jsxs)("div",{className:"action",children:[(0,w.jsx)($.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"up",onMouseDown:_,onMouseLeave:A,onMouseUp:A,children:(0,w.jsx)(E.C,{name:"general/triangle_up"})}),(0,w.jsx)($.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"down",onMouseDown:_,onMouseLeave:A,onMouseUp:A,children:(0,w.jsx)(E.C,{name:"general/triangle_down"})})]}),(0,w.jsx)(N,{})]})}),G=F=>(0,w.jsx)(K,{...F,isLongTimeHoverForInput:!0})},5743:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>p});var s=n(67787);const p=s.Ay.div.withConfig({displayName:"styles__StyledMainPage",componentId:"sc-8fjrks-0"})(["width:414px;background-color:",";color:",";position:relative;height:212px;&.loading{height:212px;}&.dark{.personal-project-access{.title{span{color:rgba(255,255,255,0.9);}}.content{span{color:rgba(255,255,255,0.9);}}}.access-operation{.open-access-switch > span{color:rgba(255,255,255,0.9);}.item-center > button{background-color:#252626;&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}.sharing-footer{background-color:#151515;.sharing-type{span{color:rgba(255,255,255,0.9);}.toolbar-icon-item > svg > path{color:rgba(255,255,255,0.9);}}.sharingV2-click-visible{&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}}.access-operation{margin:20px 20px 14px;.open-access-switch{display:flex;align-items:center;margin-bottom:20px;span{font-weight:500;font-size:14px;line-height:20px;color:#333333;margin-right:6px;}}}"],I=>I.theme.color_bg_white,I=>I.theme.color_text_L2)},5995:Ne=>{var ie=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function n(s){return s.match(ie)||[]}Ne.exports=n},7501:(Ne,ie,n)=>{"use strict";n.d(ie,{Oi:()=>Q,d2:()=>Z,lP:()=>ee,mq:()=>V,nE:()=>E,o3:()=>J,rH:()=>de});var s=n(38502),p=n(69368),I=n(69173),u=n.n(I),B=n(74937),te=n.n(B);const $=9;function Z(O){let{$opener:N,$menuBase:b,menuBaseStyle:w={},inflexible:g=!1,shouldSetMaxHeight:x=!1,$menuContainer:h,$fontTip:v}=O;if(!N||!b)return;const j=b.querySelector("*"),K=((0,p.$)("li[role=option].is-active",j)||(0,p.$)("li[role=option]",j)||(0,p.$)("li[role=empty-msg]",j)).getBoundingClientRect(),c=j.getBoundingClientRect(),G={styleFor$menuBase:{},styleFor$menu:{},styleFor$menuContainer:{},styleFor$fontTip:{}},F=Ae=>Object.assign(G.styleFor$menuBase,Ae),se=Ae=>Object.assign(G.styleFor$menu,Ae),f=Ae=>Object.assign(G.styleFor$menuContainer,Ae),_=Ae=>Object.assign(G.styleFor$fontTip,Ae),{offsetHeight:A}=j,M=w.width||N.offsetWidth,k=w.height||N.offsetHeight,P=N.getBoundingClientRect(),{top:ne,bottom:fe,left:Ie}=Object.assign({top:P.top,right:P.right,bottom:P.bottom,left:P.left},w);F({top:ne+"px",left:Ie+"px",width:M+"px",height:k+"px"});const{innerHeight:xe}=window,je=10,$e=xe-10,Me=ne+k;let ue=0,pe=0;const _e=(K.top-c.top)/.8;Y(c,K)?ue=-Math.min(_e,ne):(pe=K.bottom/.8-c.bottom/.8,ue=-_e+pe);let ke=0;return v&&(ke=v.getBoundingClientRect().height),Me+A+$+ue+ke<xe?(G.isDownward=!0,Y(c,K)?(f({top:ue+"px"}),v&&_({top:ue+c.height/.8+"px",width:c.width/.8+"px"})):(f({top:ue+"px"}),h.scrollTop=pe,v&&_({top:ue+c.height/.8+"px",width:c.width/.8+"px"})),x&&fe+A>$e&&se({maxHeight:$e-fe+"px"})):(G.isDownward=!1,x&&ne-A<je&&se({maxHeight:ne-je+"px"})),Object.assign(b.style,G.styleFor$menuBase),Object.assign(j.style,G.styleFor$menu),Object.assign(h.style,G.styleFor$menuContainer),v&&Object.assign(v.style,G.styleFor$fontTip),G}function Q(O,N){return te()(O)||u()(O)||(0,s.isValidElement)(O)?O:O[N||"label"]?O[N||"label"]:void 0}function E(O){return te()(O)||u()(O)?String(O):O.value||O.label?String(O.value||O.label):void 0}function V(O){return te()(O)||u()(O)?String(O):O.ItemIcon?String(O.ItemIcon):void 0}function ee(O){return te()(O)||u()(O)?String(O):O.shortcutKey?String(O.shortcutKey):void 0}function J(O,N){return!!N&&E(O)===String(N)}const de='<svg width="10" height="10" ><path d="M5 5.255l1.87-2.043a.623.623 0 0 1 .936 0 .77.77 0 0 1 0 1.022L5.468 6.788a.623.623 0 0 1-.936 0L2.194 4.234a.77.77 0 0 1 0-1.022.623.623 0 0 1 .935 0L5 5.255z" /></svg>';function Y(O,N){return N.top/.8>=O.top/.8&&N.bottom/.8<=O.bottom/.8}},12603:(Ne,ie,n)=>{"use strict";n.d(ie,{W:()=>s,p:()=>p});let s=function(I){return I.Org="org",I.OrgSpace="space",I.Folder="folder",I.Project="project",I}({}),p=function(I){return I.OrgSpace="orgspace-permission-tip",I.OrgSpaceLimiter="orgspace-limiter-permission-tip",I.RootFolder="root-folder-permission-tip",I.SubFolder="sub-folder-permission-tip",I.Project="project-permission-tip",I}({})},13076:function(Ne){(function(ie,n){Ne.exports=n()})(this,function(){"use strict";return function(ie,n){n.prototype.isSameOrBefore=function(s,p){return this.isSame(s,p)||this.isBefore(s,p)}}})},15207:(Ne,ie,n)=>{"use strict";n.d(ie,{T:()=>B,f:()=>te});var s=n(38502),p=n(12456),I=n(68818),u=n(72214);const B=n.j!=15?(0,s.memo)($=>(0,u.jsx)(p.T3,{...$,isHtmlZip:(0,I.FM)()})):null,te=(0,s.memo)($=>(0,u.jsx)(p.cx,{...$,isHtmlZip:(0,I.FM)()}))},16335:(Ne,ie,n)=>{"use strict";if(n.d(ie,{$r:()=>de,$z:()=>E,Aq:()=>Y,Cp:()=>b,GH:()=>f,Jv:()=>x,PJ:()=>v,Uy:()=>J,V:()=>G,Wu:()=>Z,X:()=>ee,YC:()=>j,Yk:()=>V,ZF:()=>g,a3:()=>Q,iS:()=>se,je:()=>h,q3:()=>c,rd:()=>w,rq:()=>F}),n.j!=15)var s=n(19249);var p=n(18833),I=n(47946),u=n(79287),B=n.n(u);if(n.j!=15)var te=n(3862);const $=300,Z=async function(_){_===void 0&&(_="");const A=1;let M=[];try{const k=await(0,s.Yo)("/api/community/v1/workspace/my_star?page="+A+(_&&"&category="+_)+"&page_size="+$);k&&(M=k==null?void 0:k.market_templates.filter(P=>(P==null?void 0:P.version)!=="v1"))}catch(k){(0,p.$r)()}return M.map(k=>({...k,is_star:!0}))},Q=async _=>{await(0,s.Ds)("/api/community/v1/market_template/star/"+_)},E=async _=>{await(0,s.DW)("/api/community/v1/market_template/star/"+_)},V=async function(_,A){A===void 0&&(A=!0);let M;try{_!=null&&_.length&&(M=await(0,s.DE)("/api/community/v1/market_template/"+_))}catch(k){A&&(0,p.ai)(k)}return M},ee=function(_){return _===void 0&&(_=""),(0,s.rh)("/api/community/v1/market_template?is_from_workspace=true&page="+1+_+"&page_size="+$)},J=async()=>{let _;try{_=await(0,s.DE)("/flpak/ww-p2recent")}catch(A){(0,p.$r)()}return _},de=async()=>{try{return await(0,s.DE)(ENV.IS_ON_PREMISES?"/mb-proto2/hot_icons.json":"/api/community/v1/hot_icons")}catch(_){(0,p.$r)()}},Y=async()=>{try{return await(0,s.DE)("/api/community/v1/hot_color_icons")}catch(_){(0,p.$r)()}},O=_=>{let{category:A="combo_group",keyword:M=""}=_;return fetchGetJSON("/api/community/v1/es/basic_resource/search_"+A+"?q="+encodeURIComponent(M))},N={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo",file:"proto"},b=_=>{let{projectUpperType:A="",projectUpperCid:M="",itemCid:k=""}=_;const P=A==="file"?{project_upper_type:N[A]||A,project_upper_cid:M}:{project_upper_type:N[A]||A,project_upper_cid:M,item_cid:k};return(0,s.Ds)("/api/community/v1/recent_template",P)},w=async _=>{const{sdkStore:A}=await(0,I.O3)({flpakKey:_});return A},g=async function(_){_===void 0&&(_="mobile");try{return(await(0,s.DE)("/api/market_template/v4/workspace/new_page_types?platform="+_)).types}catch(A){return console.error(A),[]}},x=async function(_){_===void 0&&(_="mobile");try{return await(0,s.DE)("/api/community/v1/workspace/recommend_page?platform="+_)}catch(A){return(0,p.$r)({onClick:M=>M({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:_,isReRequest:!0}})}),{}}},h=async _=>{let{platform:A,firstTypeCid:M,secondTypeCid:k=null,isPopup:P=!1}=_;const ne={first_type_cid:M,second_type_cid:k,platform:A,is_popup:P};let fe=new URLSearchParams;fe=Object.assign(fe,ne);for(const[Ie,xe]of Object.entries(fe))xe?xe==="default"?fe.delete(Ie):fe.set(Ie,xe):fe.delete(Ie),Ie==="is_popup"&&xe===!1&&fe.delete(Ie);try{return await(0,s.DE)("/flpak/ww-p2pagemkt?"+fe.toString())}catch(Ie){return(0,p.$r)({onClick:xe=>xe({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:A,isReRequest:!0}})}),{}}},v=async()=>{try{const{color_icon_groups:_}=await(0,s.DE)("/api/community/v1/color_icon_groups");return _&&_.length>0?_.reduce((A,M)=>(A[M.source_upper_cid]=M,A),{}):{}}catch(_){return(0,p.$r)(),{}}},j=async(_,A)=>{let M=[];try{var k;const $e=await(0,s.DE)("/api/community/v1/market_template/star_list?user_cid="+MB.user.cid);if($e&&($e==null||(k=$e.market_templates)==null?void 0:k.length)>0&&(M=[...$e==null?void 0:$e.market_templates.filter(Me=>(Me==null?void 0:Me.version)!=="v1"&&(_===te.t_?!(A!=null&&A.has(Me.cid)):!0)&&(Me==null?void 0:Me.category)===_).map(Me=>({...Me,is_star:!0}))]),_!==te.C){var P,ne,fe,Ie;const Me=(P=MB.getRootProject())!=null&&P.is_org_project?(ne=MB)==null||(ne=ne.currentOrg)==null?void 0:ne.cid:"";let ue=[];try{ue=Me?await(0,s.DE)("/api/web/v3/market_template/mt_vip/org_used_vip_templates?org_cid="+Me):await(0,s.DE)("/api/web/v3/market_template/mt_vip/used_vip_templates")}catch(_e){}const pe=await(0,s.DE)("/api/community/v1/community/purchased");if(ue&&((fe=ue)==null||(fe=fe.market_templates)==null?void 0:fe.length)>0){var xe;const _e=(xe=ue)==null||(xe=xe.market_templates)==null?void 0:xe.sort((ke,Ae)=>B()(Ae.date_month).valueOf()-B()(ke.date_month).valueOf());M=[...M.map(ke=>{const Ae=_e.find(qe=>qe.cid===ke.cid);return Ae?{...ke,is_purchased:!0,download_expired:B()(Ae.date_month).format("YYYY-MM")!==B()().format("YYYY-MM")}:{...ke}}),..._e==null?void 0:_e.map(ke=>({...ke,umt_created_at:ke.created_at,is_purchased:!0,download_expired:B()(ke.date_month).format("YYYY-MM")!==B()().format("YYYY-MM")})).filter(ke=>ke.category===_&&M.findIndex(Ae=>Ae.cid===ke.cid)===-1)]}if(pe&&(pe==null||(Ie=pe.market_templates)==null?void 0:Ie.length)>0){var je;M=[...M.map(_e=>(pe==null?void 0:pe.market_templates.find(Ae=>Ae.cid===_e.cid))?{..._e,is_purchased:!0}:{..._e}),...pe==null||(je=pe.market_templates)==null?void 0:je.map(_e=>({..._e,umt_created_at:_e.created_at,is_purchased:!0})).filter(_e=>_e.category===_&&M.findIndex(ke=>ke.cid===_e.cid)===-1)]}}}catch($e){(0,p.FY)($e)}return M.sort(($e,Me)=>new Date(Me==null?void 0:Me.umt_created_at).getTime()-new Date($e==null?void 0:$e.umt_created_at).getTime())},U="/api/community/v1/market_template/star/:cid",K="/api/community/v1/market_template/like/:cid",c=_=>{try{return(0,s.Ds)(K.replace(":cid",_),{})}catch(A){console.log(A)}},G=async _=>{try{return(0,s.DW)(K.replace(":cid",_))}catch(A){console.log(A)}},F=_=>{try{return(0,s.Ds)(U.replace(":cid",_),{})}catch(A){console.log(A)}},se=_=>{try{return(0,s.DW)(U.replace(":cid",_))}catch(A){console.log(A)}},f=async(_,A)=>{try{const M=await(0,s.DE)("/api/market_template/v4/workspace/new_combo_group_types?version="+_+"&platform="+A);return M!=null&&M.types?M==null?void 0:M.types:[]}catch(M){return[]}}},16615:(Ne,ie,n)=>{"use strict";n.d(ie,{qk:()=>O,I2:()=>J,ZI:()=>de});const s={set:function(N,b,w,g){g===void 0&&(g="/");let x="";if(x+=N+"="+encodeURIComponent(b),g&&(x+=";path="+g),w){const h=new Date;h&&(h.setTime(h.getTime()+w*1e3),x+=";expires="+h.toUTCString())}document.cookie=x},get:function(N){const b=document.cookie.split(";");let w="";for(let g=0;g<b.length;g++){const x=b[g].indexOf(N);if(x!==-1){w=b[g].substring(x+N.length+1,b[g].length);break}}return w}},p=function(N,b){if(N!=="visit")return;const w="visit_id",g=60*24*3600;return s.set(w,b,g,"/"),b},I=function(){const N=s.get("visit_id");if(N&&N!="")return N;const b=new Date,w=b.getFullYear().toString().substr(2,2),g=b.getMonth()+1,x=b.getDate(),h=b.getHours(),v=b.getMinutes(),j=b.getSeconds(),U=b.getMilliseconds();let K=Math.round(Math.random()*Math.random()*1e4).toString();const c=K.length;c===1?K=K+"000":c===2?K=K+"00":c===3&&(K=K+"0");let G="2_"+w;return G+=g<10?"0"+g:g,G+=x<10?"0"+x:x,G+=h<10?"0"+h:h,G+=v<10?"0"+v:v,G+=j<10?"0"+j:j,U<10?G+="00"+U:U<100?G+="0"+U:G+=U,G+="_"+K,p("visit",G),G};var u=function(N){return N.WWW="www",N.WWW_TEST="www-test",N.OVERSEA="oversea",N.OVERSEA_TEST="oversea-test",N}(u||{});const B={www:"https://sc.bosyun.cn","www-test":"https://sc.bosyun.cn",oversea:"https://sc.bosyun.net","oversea-test":"https://sc.bosyun.net"},te="MD_",$="modao",Z=()=>{let N=u.WWW;return/^([a-z0-9]+\.)*mockitt\.com$/.test(location.host)&&(N=u.OVERSEA),N},Q=()=>{const N=window.sensorsDataAnalytic201505;if(!N)return;const b=Z();N.init({name:"sensors",server_url:B[b]+"/sa.gif?project=production",is_track_single_page:!1,use_client_time:!0,show_log:!1,send_type:"beacon",heatmap:{clickmap:"not_collect",scroll_notice_map:"not_collect"}}),N.identify(I(),!0),N.registerPage({product:$}),window.sensors=N},E=function(N){var b;if(window.sensors){N=""+te+N;for(var w=arguments.length,g=new Array(w>1?w-1:0),x=1;x<w;x++)g[x-1]=arguments[x];(b=window.sensors)==null||b.track(N,...g)}},V=function(){return window.sensors&&window.sensors.setOnceProfile(...arguments)},ee=function(){return window.sensors&&window.sensors.setProfile(...arguments)},J=ENV.NO_TRACK?()=>{}:Q,de=ENV.NO_TRACK?()=>{}:E,Y=ENV.NO_TRACK?()=>{}:V,O=ENV.IS_MO?N=>{if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:N,transport_type:"beacon"})}:()=>{}},18833:(Ne,ie,n)=>{"use strict";n.d(ie,{$r:()=>Q,AG:()=>B,FY:()=>u,K7:()=>Z,ai:()=>te,m0:()=>$});var s=n(19249),p=n(87612),I=n(88856);const u=async(E,V)=>{if((0,p.p)("[alertAsyncBlocked]",E,{url:E.url,status:E.status}),E.status===403||/403/.test(E.message)){var ee;(ee=MB)==null||(ee=ee.messageBucket)==null||ee.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>V?V():MB.global.onBackButtonClick())}else if(E.status===401||/401/.test(E.message))Z(),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>V?V():B());else{var J;const de=String(E.status||E.message||"UNKNOWN").replace(/\s/g,"").slice(0,16);(J=MB)==null||(J=J.messageBucket)==null||J.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,de)}),await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,de),isHTML:!0})}},B=async()=>{try{await(0,s.DE)("/api/web/v3/initial"),location.reload()}catch(E){const V=location.origin+"/signin?next="+location.pathname;location.href=V}},te=E=>{E.status===404&&E.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},$=async(E,V)=>{E.status===403||/403/.test(E.message)?V():(E.status===401||/401/.test(E.message))&&await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>B())},Z=()=>{window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")},Q=function(E){let{onClick:V}=E===void 0?{}:E;V&&!ENV.IS_MO?MB.notice({text:window.I18N.dModule.network_api_error_1,CustomChildComponent:(0,I.DV)({onClick:V}),type:"error",duration:5e3}):MB.notice({text:window.I18N.dModule.network_api_error,type:"error"})}},18941:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>p});var s=n(22756);function p(I,u){I.prototype=Object.create(u.prototype),I.prototype.constructor=I,(0,s.A)(I,u)}},19481:(Ne,ie,n)=>{"use strict";n.d(ie,{FU:()=>u,OO:()=>$,Z8:()=>p,au:()=>te,lY:()=>B,p_:()=>I,zB:()=>s});const s={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},p={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},I={org_owner:s.OWNER,org_manager:s.SUPERMANAGER,org_admin:s.MANAGER,org_member:s.MEMBER,org_viewer:s.VIEWER},u={space_owner:s.MANAGER,space_manager:s.MANAGER,space_member:s.MEMBER,space_viewer:s.VIEWER,space_limiter:s.LIMITER},B={team_owner:s.MANAGER,team_manager:s.MANAGER,team_member:s.MEMBER,team_viewer:s.VIEWER,team_none:s.VIEWER,team_ban_viewer:s.BANNED},te=Object.assign({project_owner:s.MANAGER,project_team_owner:s.MANAGER,project_manager:s.MANAGER,project_member:s.MEMBER,project_viewer:s.VIEWER,project_none:s.VIEWER,project_ban_viewer:s.BANNED},B),$={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},Z={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",team_none:"team_viewer",team_owner:"team_manager"}},19631:(Ne,ie,n)=>{var s=n(5995),p=n(60820),I=n(59696),u=n(96411);function B(te,$,Z){return te=I(te),$=Z?void 0:$,$===void 0?p(te)?u(te):s(te):te.match($)||[]}Ne.exports=B},21066:(Ne,ie,n)=>{"use strict";n.d(ie,{m:()=>fe,cG:()=>$e,Dr:()=>Ie,aM:()=>xe,Ay:()=>ne});var s=n(25582),p=n.n(s),I=n(38502),u=n(69623),B=n(67787),te=n(53732),$=n.n(te),Z=n(51582);class Q{constructor(ue,pe){ue===void 0&&(ue=0),pe===void 0&&(pe=0),this.x=ue,this.y=pe}inside(ue){const{left:pe,right:_e,top:ke,bottom:Ae}=ue;return this.x>=pe&&this.x<=_e&&this.y>=ke&&this.y<=Ae}}const E=(0,I.createContext)(""),V=Me=>{if(!Me)return;const ue=Me.getBoundingClientRect(),pe=Me.classList.contains("sub-menu"),_e=1/.8,ke=1/(.8*.9);if(pe){const qe=document.getElementById("root-menu").getBoundingClientRect();qe.top+(ue.top-qe.top)*_e+ue.height*ke>window.innerHeight-28&&Me.classList.add("top"),qe.left+(ue.left-qe.left)*_e+ue.width*ke>window.innerWidth&&Me.classList.add("left");return}if(ue.left+ue.width*_e>window.innerWidth-28&&Me.classList.add("left"),ue.height>window.innerHeight){Me.style.height=window.innerHeight+"px",Me.style.overflow="auto",Me.style.overflowX="hidden",Me.style.marginTop=-ue.top+"px";return}ue.top+ue.height<window.innerHeight||(Me.style.marginTop=window.innerHeight-(ue.top+ue.height)+"px")},ee=function(Me,ue,pe,_e,ke,Ae){let{subMenuLeftOffset:qe,subMenuTopOffset:ze}=ke;if(Ae===void 0&&(Ae=!1),!Me||!ue)return;const Ke=ue.getBoundingClientRect(),mt=ue.getBoundingClientRect(),gt=1/.9,{left:St,top:Et}=pe;Ke.top+Ke.height*gt>window.innerHeight-28?Ke.top-Ke.height*gt>0?(Me.style.bottom="-4px",Me.style.top="unset"):Me.style.marginTop=window.innerHeight-28-(Ke.top+Ke.height*gt)+"px":Me.style.top=Ke.top-Et-11+"px",Ke.left+Ke.width*gt>window.innerWidth?(Me.style.right=Ke.left+"px",Me.style.left="unset"):Me.style.left=Ke.right-St-1+12*Ae+"px",_e==="left"&&(Me.style.left=-2*Ke.width-12-22*Ae+"px"),qe&&(Me.style.left=parseInt(Me.style.left)+qe+4*Ae+"px"),ze&&(Me.style.top=parseInt(Me.style.top)+ze+"px"),Me.style.maxHeight=window.innerHeight-mt.top+"px"},J=function(Me,ue,pe,_e,ke,Ae,qe){let{subMenuLeftOffset:ze,subMenuTopOffset:Ke}=ke;if(Ae===void 0&&(Ae=!1),!Me||!ue)return;const mt=qe.getBoundingClientRect(),gt=ue.getBoundingClientRect(),St=ue.getBoundingClientRect(),{left:Et,top:Ut}=pe,{top:Ot}=mt;Me.style.top=gt.top-Ot-11+"px",Me.style.left=gt.right-Et-1+12*Ae+"px",_e==="left"&&(Me.style.left=-2*gt.width-12-22*Ae+"px"),ze&&(Me.style.left=parseInt(Me.style.left)+ze+4*Ae+"px"),Me.style.maxHeight=window.innerHeight-St.top+"px"},de=(Me,ue)=>{let{x:pe,y:_e}=Me,ke=!1;for(let Ae=0,qe=ue.length-1;Ae<ue.length;qe=Ae++){let{x:ze,y:Ke}=ue[Ae],{x:mt,y:gt}=ue[qe];Ke>_e!=gt>_e&&pe<(mt-ze)*(_e-Ke)/(gt-Ke)+ze&&(ke=!ke)}return ke};var Y=n(60719);const O=(0,B.AH)(["background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;color:#fff;border:1px solid #454647;"]),N=B.Ay.div.withConfig({displayName:"styles__StyledMask",componentId:"sc-h83js-0"})(["position:fixed;top:0;left:0;right:0;width:100vw;height:100vh;z-index:199;"]),b=B.Ay.div.withConfig({displayName:"styles__StyledContextMenu",componentId:"sc-h83js-1"})(["position:fixed;z-index:200;&.size-small > ul{min-width:120px;}ul{list-style:none;}& > ul{position:absolute;top:0;left:0;padding:8px 0;min-width:200px;margin:0;",";&.top{top:initial !important;bottom:-8px;}&.left{left:initial;right:100%;}&.top.left{}&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}}"],O),w=B.Ay.ul.withConfig({displayName:"styles__StyledSubMenu",componentId:"sc-h83js-2"})(["position:absolute;min-width:200px;max-height:500px;padding:4px 0;",";opacity:0;pointer-events:none;overflow-x:hidden;margin:0;&:lang(ja){min-width:260px;}&.is-show{opacity:1;pointer-events:auto;}&.inner-sub{overflow-x:unset;}&.is-normal{li.MenuItem{& > a{padding-left:32px;}&.hasIcon{> a{padding-left:15px;}}}}&.is-airy{li.MenuItem{& > a{padding-left:29px;}&.hasIcon{> a{padding-left:12px;}}}}"],O),g=B.Ay.li.withConfig({displayName:"styles__StyledMenuItem",componentId:"sc-h83js-3"})(["position:relative;a{height:28px;padding-left:16px;display:flex;align-items:center;color:#fff;padding-right:10px;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}}& > span{white-space:nowrap;margin-right:16px;.invisible{width:20px;height:20px;display:inline-block;color:",";margin-top:-3px;}}.selected-icon{width:8px;margin-right:9px;}.right-arrow{margin-left:auto;margin-right:-4px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}.shortcut{display:flex;align-items:center;color:#999;.mac{font-size:16px;margin-right:2px;}}.shortfont{display:flex;margin-left:auto;kbd{display:inline-block;text-align:center;min-width:12px;color:rgba(255,255,255,0.7);font-family:Inter;&.key-cmd{width:13px;text-align:right;}&:first-child{margin-left:0;}&:last-child{margin-right:0;}}}}&.hasDivider{a{margin-bottom:4px;}}&:not(.disabled).active{a{background:#666;}}&.disabled{*{cursor:not-allowed;}a{color:rgba(255,255,255,0.22);.right-arrow svg > path{fill:rgba(255,255,255,0.22);}.shortfont kbd{color:rgba(255,255,255,0.22);}}}"],Y.f.color_text_L2.value_dark),x=B.Ay.li.withConfig({displayName:"styles__StyledMenuItemFont",componentId:"sc-h83js-4"})(["position:relative;a{height:28px;display:flex;align-items:center;color:#fff;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;&.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}&.is-svg{height:14px;}}& > span{white-space:nowrap;margin-left:20px;}.selected-icon{width:16px;position:absolute;}.right-arrow{margin-right:8px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}}&:not(.disabled).active{a{background:#666;}}"]);var h=n(72214);function v(Me,ue,pe){return(ue=j(ue))in Me?Object.defineProperty(Me,ue,{value:pe,enumerable:!0,configurable:!0,writable:!0}):Me[ue]=pe,Me}function j(Me){var ue=U(Me,"string");return typeof ue=="symbol"?ue:ue+""}function U(Me,ue){if(typeof Me!="object"||!Me)return Me;var pe=Me[Symbol.toPrimitive];if(pe!==void 0){var _e=pe.call(Me,ue||"default");if(typeof _e!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ue==="string"?String:Number)(Me)}const K=(0,h.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M5.5 5.04031L5.5 10.9597C5.5 11.3789 5.98497 11.612 6.31235 11.3501L10.012 8.39043C10.2622 8.19027 10.2622 7.80973 10.012 7.60957L6.31235 4.64988C5.98497 4.38797 5.5 4.62106 5.5 5.04031Z",fill:"white",fillOpacity:"0.9"})}),c="M1016 416L1016 -1856L328 -1856L328 416ZM512 -320L832 -320L832 -64L512 -64ZM512 -704L576 -704L576 -512L768 -512L768 -640L704 -640L704 -576L640 -576L640 -704L832 -704L832 -448L512 -448ZM512 192L728 64L512 64L512 0L832 0L832 65L617 192L832 192L832 256L512 256ZM512 -1408L704 -1408L704 -1248L832 -1248L832 -1184L512 -1184ZM512 -1536L624 -1536L624 -1632L512 -1632L512 -1696L832 -1696L832 -1632L688 -1632L688 -1536L832 -1536L832 -1472L512 -1472ZM512 -960L640 -960L640 -1056L512 -1056L512 -1120L832 -1120L832 -1056L704 -1056L704 -896L512 -896ZM512 -832L768 -832L768 -992L832 -992L832 -768L512 -768ZM768 -128L768 -256L576 -256L576 -128ZM640 -1248L640 -1344L576 -1344L576 -1248Z",G="M800 -800L800 -1240L1240 -1240L1240 -800Z",F="M860 416L172 416L548 -1856L1236 -1856ZM478 -320L436 -64L756 -64L798 -320ZM542 -704L499 -448L819 -448L862 -704L670 -704L648 -576L712 -576L723 -640L787 -640L766 -512L574 -512L606 -704ZM393 192L383 256L703 256L713 192L498 192L734 65L745 0L425 0L414 64L630 64ZM658 -1408L621 -1184L941 -1184L952 -1248L824 -1248L850 -1408ZM679 -1536L669 -1472L989 -1472L999 -1536L855 -1536L871 -1632L1015 -1632L1026 -1696L706 -1696L695 -1632L807 -1632L791 -1536ZM584 -960L573 -896L765 -896L792 -1056L920 -1056L930 -1120L610 -1120L600 -1056L728 -1056L712 -960ZM563 -832L552 -768L872 -768L909 -992L845 -992L819 -832ZM702 -128L510 -128L531 -256L723 -256ZM760 -1248L696 -1248L711 -1344L775 -1344Z",se="M1016 416L328 416L328 -1856L1016 -1856ZM512 -320L512 -64L832 -64L832 -320ZM512 -704L512 -448L832 -448L832 -704L640 -704L640 -576L704 -576L704 -640L768 -640L768 -512L576 -512L576 -704ZM512 192L512 256L832 256L832 192L617 192L832 65L832 0L512 0L512 64L728 64ZM512 -1408L512 -1184L832 -1184L832 -1248L704 -1248L704 -1408ZM512 -1536L512 -1472L832 -1472L832 -1536L688 -1536L688 -1632L832 -1632L832 -1696L512 -1696L512 -1632L624 -1632L624 -1536ZM512 -960L512 -896L704 -896L704 -1056L832 -1056L832 -1120L512 -1120L512 -1056L640 -1056L640 -960ZM512 -832L512 -768L832 -768L832 -992L768 -992L768 -832ZM768 -128L576 -128L576 -256L768 -256ZM640 -1248L576 -1248L576 -1344L640 -1344Z",f=3;let _=[],A=!1;const M=new Map,k=Me=>{_.push(Me),_.length>f&&_.shift()},P=Me=>{Me.ctrlKey===!0&&Me.preventDefault()};class ne extends I.PureComponent{constructor(ue){super(ue),v(this,"setMenuRef",pe=>this.$menu=pe),v(this,"createContextMenuRef",pe=>this.$mountRoot=pe),v(this,"mousewheelHandle",pe=>{const _e=pe.deltaX||pe.wheelDeltaX;if(!_e||!this.$elem)return;const ke=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&_e>0,Ae=this.$elem.scrollLeft===0&&_e<0;(ke||Ae)&&pe.preventDefault()}),v(this,"handleClose",pe=>{const{onClose:_e}=this.props;_e&&_e(pe)}),v(this,"handleCloseMouse",pe=>{pe.button===2&&this.handleClose(pe)}),v(this,"handleClickMenu",pe=>{const{alwaysOpen:_e}=this.props;_e||this.handleClose(pe)}),v(this,"handleUpdateState",pe=>this.setState({...pe})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),!this.props.style&&V(this.$menu),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle),this.$elem&&this.$elem.addEventListener("wheel",P)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),this.$elem&&this.$elem.removeEventListener("wheel",P,{capture:!0}),_=[],A=!1,this.$elem&&document.body.contains(this.$elem)&&document.body.removeChild(this.$elem)}preventDefault(ue){ue.preventDefault()}render(){const{position:ue,children:pe,className:_e,style:ke={}}=this.props,{top:Ae,left:qe}=ue,{activePath:ze,showSubMenu:Ke}=this.state;return(0,u.createPortal)((0,h.jsx)(N,{className:"context-menu-mask",onMouseDown:this.handleClose,onClick:this.handleClickMenu,children:(0,h.jsx)(b,{ref:this.createContextMenuRef,style:{top:Ae+2,left:qe+2,...ke},className:_e,onContextMenu:this.preventDefault,children:(0,h.jsx)("ul",{ref:this.setMenuRef,children:(0,h.jsx)(E.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:ue,activePath:ze,showSubMenu:Ke,onUpdateState:this.handleUpdateState},children:pe})})})}),this.$elem)}}v(ne,"propTypes",{className:p().string,position:p().object,children:p().oneOfType([p().element,p().array]),style:p().object,onClose:p().func,alwaysOpen:p().bool});class fe extends I.PureComponent{constructor(ue){super(ue),v(this,"setMenuRef",pe=>this.$menu=pe),v(this,"createContextMenuRef",pe=>this.$mountRoot=pe),v(this,"mousewheelHandle",pe=>{const _e=pe.deltaX||pe.wheelDeltaX;if(!_e||!this.$elem)return;const ke=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&_e>0,Ae=this.$elem.scrollLeft===0&&_e<0;(ke||Ae)&&pe.preventDefault()}),v(this,"handleClose",pe=>{const{onClose:_e}=this.props;_e&&_e(pe)}),v(this,"handleCloseMouse",pe=>{pe.button===2&&this.handleClose(pe)}),v(this,"handleClickMenu",pe=>{const{alwaysOpen:_e}=this.props;_e||this.handleClose(pe)}),v(this,"handleUpdateState",pe=>this.setState({...pe})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),_=[],A=!1,this.$elem&&document.body.contains(this.$elem)&&document.body.removeChild(this.$elem)}preventDefault(ue){ue.preventDefault()}render(){const{position:ue,children:pe,className:_e,style:ke={}}=this.props,{top:Ae,left:qe}=ue,{activePath:ze,showSubMenu:Ke}=this.state;return(0,h.jsx)(b,{ref:this.createContextMenuRef,style:{top:Ae+2,left:qe+2,...ke},className:_e,onContextMenu:this.preventDefault,children:(0,h.jsx)("ul",{ref:this.setMenuRef,children:(0,h.jsx)(E.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:ue,activePath:ze,showSubMenu:Ke,onUpdateState:this.handleUpdateState,containerRef:this.$elem,isEmbed:!0},children:pe})})})}}v(fe,"propTypes",{className:p().string,position:p().object,children:p().oneOfType([p().element,p().array]),style:p().object,onClose:p().func,alwaysOpen:p().bool});class Ie extends I.PureComponent{constructor(){super(...arguments),v(this,"createMenuItemRef",ue=>this.$menuItemRef=ue),v(this,"createSubMenuRef",ue=>this.$subMenuRef=ue),v(this,"handleActiveItem",(ue,pe)=>{const{children:_e}=this.props;pe({activePath:ue,showSubMenu:!!_e})}),v(this,"handleMouseEnter",(ue,pe,_e)=>{const{onMouseEnter:ke}=this.props;ke&&ke(ue),A?setTimeout(()=>{if(this.$menuItemRef&&_.length>0){const Ae=this.$menuItemRef.getBoundingClientRect();_.slice(-1)[0].inside(Ae)&&this.handleActiveItem(pe,_e)}},200):this.handleActiveItem(pe,_e)}),v(this,"handleMouseLeave",async(ue,pe,_e,ke)=>{const{onMouseLeave:Ae}=this.props;if(Ae&&Ae(ue),_e&&this.$subMenuRef){const qe=this.$subMenuRef.getBoundingClientRect();if(qe&&_.length>0){const{left:ze,top:Ke,bottom:mt}=qe,gt=new Q(ze,Ke),St=new Q(ze,mt),Et=[_[0],gt,St],Ut=new Q(ue.clientX,ue.clientY);if(de(Ut,Et)){A=!0;return}}}if(pe){ke({activePath:pe.dataset.index.split(","),showSubMenu:!0}),A=!1;return}ke({activePath:[],showSubMenu:!1}),A=!1}),v(this,"handleMouseMove",ue=>{const pe=new Q(ue.clientX,ue.clientY);k(pe)}),v(this,"handleMouseDown",ue=>ue.stopPropagation()),v(this,"handleGetCanActiveSubMenu",(ue,pe,_e)=>{let ke=!1;return pe&&(ue&&pe.join("")===_e.join("")||pe.slice(0,_e.length).join("")===_e.join(""))&&(ke=!0),ke}),v(this,"handleGetPath",ue=>{const{dataIndex:pe,text:_e}=this.props,ke=pe!==void 0?pe:_e;return ue?ue.dataset.index.split(",").concat(ke):[ke]}),v(this,"handleClick",ue=>{const{disabled:pe,onClick:_e,canClick:ke,children:Ae}=this.props;(ke||!pe)&&_e&&_e(ue),(Ae||pe)&&ue.stopPropagation()})}render(){const{icon:ue,text:pe,children:_e,disabled:ke,hotKeyText:Ae,className:qe,dataType:ze,subMenuClassName:Ke,subMenuDirection:mt,subMenuLeftOffset:gt,subMenuTopOffset:St,isVisible:Et,isAiry:Ut=!1}=this.props;return(0,h.jsx)(E.Consumer,{children:Ot=>{const{contextMenuPosition:r,mountRoot:me,activePath:Se,showSubMenu:De,parentRef:Ge,onUpdateState:et,isEmbed:ft=!1}=Ot,Pt=this.handleGetPath(Ge),Qt=this.handleGetCanActiveSubMenu(De,Se,Pt);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g,{ref:this.createMenuItemRef,className:$()("MenuItem",{disabled:ke,hasIcon:ue},qe,{active:Qt}),"data-type":ze,"data-index":Pt,onMouseEnter:Zt=>this.handleMouseEnter(Zt,Pt,et),onMouseLeave:Zt=>this.handleMouseLeave(Zt,Ge,De,et),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:(0,h.jsxs)("a",{children:[ue,(0,h.jsxs)("span",{children:[(0,h.jsx)("span",{className:"text",children:pe}),Et?(0,h.jsx)(Z.A,{className:"invisible",name:"eyeinvisible"}):null]}),_e&&(0,h.jsx)("div",{className:"right-arrow",children:K}),Ae&&Ae.length>0&&(0,h.jsx)("div",{className:"shortfont",children:Ae.map((Zt,ln)=>(0,h.jsx)("kbd",{children:Zt},ln))})]})}),_e&&Qt&&!ke&&(0,u.createPortal)((0,h.jsx)(je,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:r,subMenuDirection:mt,subMenuLeftOffset:gt,subMenuTopOffset:St,className:Ke,mountRoot:me,isEmbed:ft,isAiry:Ut,children:(0,h.jsx)(E.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:me,contextMenuPosition:r,activePath:Se,showSubMenu:De,onUpdateState:et},children:_e})}),me)]})}})}}v(Ie,"propTypes",{icon:p().object,text:p().string.isRequired,className:p().string,disabled:p().bool,canClick:p().bool,children:p().oneOfType([p().element,p().array]),hotKeyText:p().array,onClick:p().func,onMouseEnter:p().func,onMouseLeave:p().func,dataType:p().number,dataIndex:p().oneOfType([p().number,p().string]),subMenuClassName:p().string,subMenuDirection:p().string,subMenuLeftOffset:p().number,subMenuTopOffset:p().number,isVisible:p().bool,isAiry:p().bool}),v(Ie,"defaultProps",{subMenuClassName:""});class xe extends I.PureComponent{constructor(ue){super(ue),v(this,"createMenuItemRef",ze=>this.$menuItemRef=ze),v(this,"createSubMenuRef",ze=>this.$subMenuRef=ze),v(this,"spanRef",ze=>this.$spanRef=ze),v(this,"handleActiveItem",(ze,Ke)=>{const{children:mt}=this.props;Ke({activePath:ze,showSubMenu:!!mt})}),v(this,"handleMouseEnter",(ze,Ke,mt)=>{const{onMouseEnter:gt}=this.props;gt&&gt(ze),A?setTimeout(()=>{if(this.$menuItemRef&&_.length>0){const St=this.$menuItemRef.getBoundingClientRect();_.slice(-1)[0].inside(St)&&this.handleActiveItem(Ke,mt)}},200):this.handleActiveItem(Ke,mt)}),v(this,"handleMouseLeave",async(ze,Ke,mt,gt)=>{const{onMouseLeave:St}=this.props;if(St&&St(ze),mt&&this.$subMenuRef){const Et=this.$subMenuRef.getBoundingClientRect();if(Et&&_.length>0){const{left:Ut,top:Ot,bottom:r}=Et,me=new Q(Ut,Ot),Se=new Q(Ut,r),De=[_[0],me,Se],Ge=new Q(ze.clientX,ze.clientY);if(de(Ge,De)){A=!0;return}}}if(Ke){gt({activePath:Ke.dataset.index.split(","),showSubMenu:!0}),A=!1;return}gt({activePath:[],showSubMenu:!1}),A=!1}),v(this,"handleMouseMove",ze=>{const Ke=new Q(ze.clientX,ze.clientY);k(Ke)}),v(this,"handleMouseDown",ze=>ze.stopPropagation()),v(this,"handleGetCanActiveSubMenu",(ze,Ke,mt)=>{let gt=!1;return Ke&&(ze&&Ke.join("")===mt.join("")||Ke.slice(0,mt.length).join("")===mt.join(""))&&(gt=!0),gt}),v(this,"handleGetPath",ze=>{const{dataIndex:Ke,text:mt}=this.props,gt=Ke!==void 0?Ke:mt;return ze?ze.dataset.index.split(",").concat(gt):[gt]}),v(this,"handleClick",ze=>{const{disabled:Ke,onClick:mt,canClick:gt,children:St}=this.props;(gt||!Ke)&&mt&&mt(ze),(St||Ke)&&ze.stopPropagation()});const{text:pe,fontUrl:_e,usePlainText:ke}=this.props,Ae="U="+_e+"&T="+pe,qe=M.get(Ae);ke?this.state={renderContent:ue.text,contentType:"text"}:this.state={renderContent:(qe==null?void 0:qe.content)||ue.text,contentType:(qe==null?void 0:qe.type)||"text"}}async componentDidMount(){const{text:ue,fontUrl:pe,usePlainText:_e}=this.props;if(_e)return;const ke="U="+pe+"&T="+ue;if(!M.get(ke)){if(!pe){M.set(ke,{type:"text",content:ue});return}try{const Ae=await(await fetch("/flatkiq/fontsvg/sync.svg?"+ke)).text();if(Ae!==""){const qe=[...new DOMParser().parseFromString(Ae,"text/html").querySelectorAll("path")].map(ze=>ze.getAttribute("d"));if(qe.find(ze=>ze===c||ze===G||ze===F||ze===se)){M.set(ke,{type:"text",content:ue});return}qe.filter(Boolean).length!==ue.split("").filter(ze=>ze!==" ").length?M.set(ke,{type:"text",content:ue}):(M.set(ke,{type:"svg",content:Ae}),this.setState({renderContent:Ae,contentType:"svg"}))}else M.set(ke,{type:"text",content:ue})}catch(Ae){console.error(Ae),M.set(ke,{type:"text",content:ue})}}}render(){const{icon:ue,children:pe,disabled:_e,className:ke,dataType:Ae,subMenuClassName:qe,subMenuDirection:ze,subMenuLeftOffset:Ke,subMenuTopOffset:mt,tooltipComponent:gt=null,tooltipWrapper:St=null}=this.props,{renderContent:Et,contentType:Ut}=this.state;return(0,h.jsx)(E.Consumer,{children:Ot=>{const{contextMenuPosition:r,mountRoot:me,activePath:Se,showSubMenu:De,parentRef:Ge,onUpdateState:et,isEmbed:ft=!1}=Ot,Pt=this.handleGetPath(Ge),Qt=this.handleGetCanActiveSubMenu(De,Se,Pt),Zt=(0,h.jsxs)("a",{children:[ue,(0,h.jsx)("span",{dangerouslySetInnerHTML:{__html:Et},className:$()("text",{"is-svg":Ut==="svg"})}),gt,pe&&(0,h.jsx)("div",{className:"right-arrow",children:K})]});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{ref:this.createMenuItemRef,className:$()("MenuItem",{disabled:_e,hasIcon:ue},ke,{active:Qt}),"data-type":Ae,"data-index":Pt,onMouseEnter:ln=>this.handleMouseEnter(ln,Pt,et),onMouseLeave:ln=>this.handleMouseLeave(ln,Ge,De,et),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:St?St(Zt):Zt}),pe&&Qt&&!_e&&(0,u.createPortal)((0,h.jsx)(je,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:r,subMenuDirection:ze,subMenuLeftOffset:Ke,subMenuTopOffset:mt,className:qe,mountRoot:me,isEmbed:ft,isNoraml:!1,isAiry:!1,children:(0,h.jsx)(E.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:me,contextMenuPosition:r,activePath:Se,showSubMenu:De,onUpdateState:et},children:pe})}),me)]})}})}}v(xe,"defaultProps",{subMenuClassName:""});class je extends I.PureComponent{constructor(ue){super(ue),v(this,"createRef",pe=>{const{setRef:_e}=this.props;_e(pe),this.subMenu=pe}),this.state={isTransform:!1}}componentDidMount(){this.setState({isTransform:!0});const{parentRef:ue,contextMenuPosition:pe,subMenuDirection:_e,subMenuLeftOffset:ke,subMenuTopOffset:Ae,isAiry:qe,isEmbed:ze,mountRoot:Ke}=this.props;ze?J(this.subMenu,ue,pe,_e,{subMenuLeftOffset:ke,subMenuTopOffset:Ae},qe,Ke):ee(this.subMenu,ue,pe,_e,{subMenuLeftOffset:ke,subMenuTopOffset:Ae},qe)}render(){const{children:ue,isAiry:pe,className:_e,isNoraml:ke=!0}=this.props,{isTransform:Ae}=this.state;return(0,h.jsx)(w,{className:$()("SubMenu",{"is-show":Ae},{"is-airy":pe},{"is-normal":ke},_e),ref:this.createRef,children:ue})}}v(je,"propTypes",{children:p().oneOfType([p().element,p().array]),className:p().string,parentRef:p().node,contextMenuPosition:p().object,setRef:p().func,subMenuDirection:p().string,subMenuLeftOffset:p().number,subMenuTopOffset:p().number,isAiry:p().bool});const $e=B.Ay.div.withConfig({displayName:"ContextMenu__Divider",componentId:"sc-1802crt-0"})(["margin:8px 0;border-top:1px solid #454546;"])},22460:(Ne,ie,n)=>{"use strict";n.d(ie,{O:()=>I});var s=n(67787),p=n(47507);const I=s.Ay.div.withConfig({displayName:"styles__StyledButton",componentId:"sc-166yiuz-0"})(["border-radius:6px;display:inline-block;justify-content:center;align-items:center;font-family:inherit;font-size:14px;font-weight:500;line-height:18px;user-select:none;cursor:pointer;.btn-icon-text-container{display:flex;justify-content:center;align-items:center;}.btn-icon{display:flex;justify-content:center;align-items:center;.btn-icon-container{margin-right:4px;width:16px;height:16px;overflow:hidden;}}&[class*='is-disabled']{cursor:not-allowed;opacity:0.4;}&[class*='type-linear']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}}&[class*='type-link']{border:1px solid transparent;padding:0;color:",";&:hover:not([class*='is-disabled']){color:",";}&:active:not([class*='is-disabled']){color:",";}&.link-gray{color:",";&:hover{color:",";}&:active{color:",";}}}&[class*='type-danger']{background:",";color:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='size-tiny']{padding:4px 8px;max-height:24px;font-size:12px;line-height:14px;.btn-icon-text-container{min-width:46px;}&[class*='type-link']{padding:0;}}&[class*='size-common']{padding:6px 12px;max-height:32px;.btn-icon-text-container{min-width:54px;}&[class*='type-link']{padding:0;}}&[class*='size-medium']{padding:6px 16px;max-height:32px;.btn-icon-text-container{min-width:60px;}&[class*='type-link']{padding:0;}}&[class*='size-large']{padding:8px 16px;max-height:36px;.btn-icon-text-container{min-width:76px;}&[class*='type-link']{padding:0;}.btn-icon-container{margin-right:6px;}}&[class*='corner-smooth']{border-radius:6px;}&[class*='corner-soft']{border-radius:4px;}&[class*='corner-round']{border-radius:calc(infinity * 1px);}&[class*='only-icon']{padding:0;border:none;background:transparent;.btn-icon-text-container{min-width:0;}.btn-icon-container{margin-right:0;svg > *{fill:",";}}&:hover:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}&:active:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}}"],p.q.color_text_L2,p.q.color_bg_normal,p.q.color_split_line,p.q.color_bg_btn_normal_hover,p.q.color_bg_btn_normal_active,p.q.color_text_white,p.q.color_btn_primary_normal,p.q.color_btn_primary_hover,p.q.color_btn_primary_click,p.q.color_text_L2,p.q.color_bg_secondary_btn,p.q.color_btn_secondary_border_normal,p.q.color_btn_secondary_hover,p.q.color_btn_secondary_border_hover,p.q.color_btn_secondary_click,p.q.color_btn_primary_normal,p.q.color_btn_primary_hover,p.q.color_btn_primary_click,p.q.color_text_L2,p.q.color_text_L3,p.q.color_text_L1,p.q.color_btn_danger_normal,p.q.color_text_white,p.q.color_btn_danger_hover,p.q.color_btn_danger_click,p.q.color_text_L2,p.q.color_text_L3,p.q.color_text_L1)},23089:(Ne,ie,n)=>{"use strict";n.d(ie,{it:()=>B,V0:()=>E,mq:()=>Q});var s=n(38502),p=n(25431),I=n(67787);const u=(0,I.Ay)(p.Ay).withConfig({displayName:"styled__StyledWorkspaceSelectProto",componentId:"sc-32xdp1-0"})(["&.WorkspaceSelect{padding:0px;border-radius:4px;button{width:auto;display:flex;padding:0 6px;align-items:center;color:",";}.caret{flex-shrink:0;width:26px;display:flex;justify-content:center;align-items:center;padding:0;color:",";svg{width:26px;height:26px;}}&:not(.is-disabled):not(.readonly):hover{border-color:",";button{width:calc(100% - 26px);}.caret{padding:0;color:",";}}&.is-open{border-color:transparent;}}"],V=>V.theme.color_text_L1,V=>V.theme.color_text_L3,V=>V.theme.color_bg_border_02,V=>V.theme.color_text_L1),B="select-menu-width-108",te=(0,I.DU)(["#IBOT_SELECT_MENU_ROOT{.SelectMenuPortal{.menu-animation-select{margin-left:-15px;}.WorkspaceSelectMenu{padding:8px;border-radius:8px;color:",";background:",";box-shadow:",";&.is-open{border:1px solid ",";border-radius:8px;width:176px;max-width:176px;padding:8px;background-color:",";box-shadow:",";.SelectOption{&:not(.empty-msg):not(.is-disabled):hover{background:",";}}}> .divider{border-bottom:1px solid ",";margin:5px;}.SelectOption{border-radius:4px;height:28px;line-height:28px;&.is-active{color:",";}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:",";color:",";}}}.menu-animation-select .SelectGroup > .title{color:",";}}.autoFillPanelSelectScreenMenu{margin-left:-138px;margin-top:26px;width:175px;}.bdr-width-input-menu{width:88px;}.arrow-setting-menu{width:78px;}.","{width:108px;}}"],V=>V.theme.color_text_L1,V=>V.theme.color_bg_white,V=>V.theme.shadow_m,V=>V.theme.color_bg_border_01,V=>V.theme.color_bg_white,V=>V.theme.shadow_m,V=>V.theme.color_btn_secondary_hover,V=>V.theme.color_bg_border_01,V=>V.theme.color_text_L1,V=>V.theme.color_btn_secondary_hover,V=>V.theme.color_text_L1,V=>V.theme.color_text_L3,B);var $=n(17307),Z=n(72214);class Q extends s.PureComponent{render(){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u,{...this.props,arrowSvg:(0,Z.jsx)($.C,{className:"triangle-icon",name:"common/expand@26"})}),(0,Z.jsx)(te,{})]})}}class E extends s.PureComponent{render(){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(p.eB,{...this.props}),(0,Z.jsx)(te,{})]})}}},24469:(Ne,ie,n)=>{var s=n(35954),p={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},I=s(p);Ne.exports=I},25234:(Ne,ie,n)=>{"use strict";n.d(ie,{Oc:()=>B,Qi:()=>Q,jf:()=>te,jn:()=>$,lV:()=>Y,tA:()=>Z,z9:()=>V});var s=n(38502),p=n(97974),I=n(17307),u=n(72214);const B=(0,s.memo)(O=>{let{type:N="linear",className:b,disabled:w=!1,size:g="common",corner:x="smooth",forceTheme:h,children:v,onClick:j}=O;return(0,u.jsx)(p.Yr,{type:N,className:b,disabled:w,size:g,corner:x,forceTheme:h,onClick:j,children:v})}),te=n.j!=15?(0,s.memo)(O=>{let{type:N="linear",className:b,disabled:w=!1,size:g="common",corner:x="smooth",icon:h,children:v,forceTheme:j,onClick:U}=O;return(0,u.jsx)(p.hE,{type:N,className:b,disabled:w,size:g,corner:x,icon:h,forceTheme:j,onClick:U,children:v})}):null,$=(0,s.memo)(O=>{let{className:N,children:b,disabled:w=!1,onClick:g}=O;return(0,u.jsx)(p.Yr,{type:"primary",size:"common",className:N,disabled:w,onClick:g,children:b})}),Z=O=>{let{className:N,children:b,disabled:w=!1,onClick:g}=O;return(0,u.jsx)(p.Yr,{type:"secondary",size:"common",className:N,disabled:w,onClick:g,children:b})},Q=(0,s.memo)(O=>{let{className:N,children:b,disabled:w=!1,onClick:g}=O;return(0,u.jsx)(p.Yr,{type:"danger",size:"common",className:N,disabled:w,onClick:g,children:b})}),E=null,V=n.j!=15?(0,s.memo)(O=>{let{className:N,children:b,disabled:w=!1,onClick:g}=O;return(0,u.jsx)(p.Yr,{type:"link",className:N,disabled:w,onClick:g,children:b})}):null,ee=null,J=null,de=null,Y=n.j!=15?(0,s.memo)(O=>{let{className:N,isLoading:b=!1,children:w,disabled:g=!1,corner:x="soft",onClick:h}=O;return(0,u.jsx)(p.hE,{type:"secondary",size:"tiny",corner:x,className:N,icon:b?(0,u.jsx)(I.C,{name:"general/loading",className:"btn-loading"}):null,disabled:g,onClick:h,children:w})}):null},25431:(Ne,ie,n)=>{"use strict";n.d(ie,{YJ:()=>se,c$:()=>f,eB:()=>F,Ay:()=>G});var s=n(38502),p=n(69623),I=n(25582),u=n.n(I),B=n(27992),te=n(28322),$=n.n(te),Z=n(89775),Q=n.n(Z),E=n(63986),V=n.n(E),ee=n(37862),J=n.n(ee),de=n(68677),Y=n(69368),O=n(7501),N=n(67787);const b=N.Ay.label.withConfig({displayName:"styles__StyledSelect",componentId:"sc-tgxfzg-0"})(["position:relative;display:inline-flex;align-items:center;max-width:100%;min-width:3em;height:28px;font-size:12px;color:#5b6b73;cursor:pointer;button{display:block;height:100%;color:#1F292E;text-align:start;cursor:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:8px;line-height:26px;}.caret{padding:0 11px;color:#7D8694;height:100%;display:inline-flex;align-items:center;svg{width:10px;height:10px;fill:currentColor;transition:transform 0.2s ease-out;}}&{padding-left:5px;border:1px solid transparent;border-radius:2px;}&.is-open{border-color:transparent;.caret{margin-left:auto;visibility:visible;svg{transform:rotate(180deg);}}}&:not(.is-disabled):not(.readonly):hover{border:1px solid transparent;.caret{padding:0 11px;}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default;}"]),w=N.Ay.div.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-tgxfzg-1"})(["position:fixed;pointer-events:none;z-index:1100;.WorkspaceSelectMenu{position:absolute;padding:8px 0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;list-style:none;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);color:#fff;border-radius:2px;background-color:#1f292e;pointer-events:all;transition-property:transform,opacity;transform-origin:50% 0;margin:0;&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}&::-webkit-scrollbar-track{background-color:rgba(#fff,0.5);}&.is-empty{width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;border-radius:4px;background-color:#333;width:160px;padding:8px 0px;}> .divider{border-bottom:1px solid rgba(255,255,255,.1);margin:5px;}.SelectOption{display:flex;align-items:center;height:24px;line-height:24px;cursor:pointer;font-size:12px;font-weight:400;& > .Ellipsis{padding:0 16px 0 32px;min-width:160px;}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#fff;mix-blend-mode:normal;position:relative;}.shortcutkey{color:#999;float:right;}.svg-icon3 svg{color:#f2f4f5;width:12px;height:12px;position:relative;top:2px;}&.is-active .svg-icon2 svg{width:8px;height:6px;position:absolute;left:12px;top:9px;}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:#666;color:#fff;}&.empty-msg{padding:0 0.5em;color:#8d9ea6;cursor:not-allowed;}}&.cant-select .SelectOption{cursor:default;}.SelectGroup{.divider{height:1px;margin:4px 16px;background:#7d8694;}& > .title{font-size:12px;padding:0 8px 0 16px;width:100%;height:30px;line-height:30px;color:rgba(255,255,255,0.7);span{display:block;}}& > ul{margin:0;padding:0;}}}.font-select-menu-tip{position:absolute;margin-top:-1px;padding:8px 16px;font-size:10px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#fff;background-color:#1f292e;border-radius:0 0 2px 2px;pointer-events:auto;transition:opacity 0.2s ease-in;.font-link{color:#fff;margin-left:10px;text-decoration:underline;}&:not(.is-show){opacity:0;}&.is-show{opacity:1;color:rgba(255,255,255,1);}}"]);var g=n(51582),x=n(72214);function h(_,A,M){return(A=v(A))in _?Object.defineProperty(_,A,{value:M,enumerable:!0,configurable:!0,writable:!0}):_[A]=M,_}function v(_){var A=j(_,"string");return typeof A=="symbol"?A:A+""}function j(_,A){if(typeof _!="object"||!_)return _;var M=_[Symbol.toPrimitive];if(M!==void 0){var k=M.call(_,A||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(_)}const U="IBOT_SELECT_MENU_ROOT",K=document.getElementById(U)||Object.assign(document.createElement("div"),{id:U}),c=document.body;c.contains(K)||c.appendChild(K);class G extends s.PureComponent{constructor(){super(...arguments),h(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),h(this,"set$select",A=>this.setState({$select:A})),h(this,"open",()=>this.setState({isOpen:!0})),h(this,"close",()=>this.setState({isOpen:!1})),h(this,"toggle",()=>{const A=!this.state.isOpen;this.setState({isOpen:A}),A?this.props.onOpen():this.props.onClose()}),h(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),h(this,"onChange",A=>this.setState({value:A},()=>{this.close(),this.props.onChange(A,this.props.attr)})),h(this,"onSelect",A=>{let{currentTarget:M}=A;const{value:k}=this.props,{canSelect:P}=this;return this.onChange(P?M.dataset.value:k)})}static getDerivedStateFromProps(A,M){let{prevProps:k,value:P}=M;return V()(k,A)?null:{prevProps:A,value:A.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}componentWillUnmount(){window.removeEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:A,disabled:M}=this.props;return A||M}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:A,readOnly:M}=this;return!A&&!M}get displayText(){const{optionList:A,placeholder:M,optionLabelProp:k}=this.props,{value:P}=this.state,fe=(A.find(Ie=>Q()(Ie)&&Ie.slice(0).some(xe=>(0,O.o3)(xe,P)))||A).find(Ie=>!Q()(Ie)&&(0,O.o3)(Ie,P));return fe?(0,O.Oi)(fe,k):M}render(){const{size:A,unstyled:M,className:k,onMouseEnter:P,onMouseLeave:ne,arrowSvg:fe}=this.props,{isOpen:Ie,$select:xe,value:je}=this.state,{isDisabled:$e,readOnly:Me,canSelect:ue}=this,pe=(0,Y.Hn)(["WorkspaceSelect",A,M&&"unstyled",k,Ie&&"is-open",$e&&"is-disabled",Me&&"readonly"]);return(0,x.jsxs)(b,{className:pe,role:"listbox",ref:this.set$select,children:[(0,x.jsx)("button",{onClick:this.toggle,disabled:$e,children:this.displayText}),typeof fe=="string"?(0,x.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:fe}}):(0,x.jsx)("span",{className:"caret",children:fe}),Ie&&(0,x.jsx)(F,{isOpen:Ie,...this.props,value:je,$select:xe,canSelect:ue,onChange:this.onSelect,onMouseEnter:P,onMouseLeave:ne,onClose:this.close})]})}}h(G,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),menuTheme:u().oneOf(["core","plain","check"]),unstyled:u().bool,className:u().string,menuClassName:u().string,placeholder:u().string,optionList:u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,shortcutKey:u().node,tooltipWrapper:u().func,ItemIcon:u().node,value:u().any,isDisabled:u().bool}),u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,ItemIcon:u().node,value:u().any,shortcutKey:u().node,tooltipWrapper:u().func,isDisabled:u().bool})]))])).isRequired,value:u().oneOfType([u().number,u().string]),isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func,onMouseEnter:u().func,onMouseLeave:u().func,onOpen:u().func,onClose:u().func,optionLabelProp:u().string,arrowSvg:u().oneOfType([u().string,u().node])}),h(G,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",placeholder:"Choose one\u2026",emptyMsg:"Nothing to display\u2026",optionList:[],isDisabled:!1,arrowSvg:O.rH,onChange:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onOpen:()=>null,onClose:()=>null});class F extends s.PureComponent{constructor(){super(...arguments),h(this,"state",{isDownward:!0}),h(this,"portal",(0,Y.ep)(K,"SelectMenuPortal")),h(this,"menuBaseRef",(0,s.createRef)()),h(this,"menuContainerRef",(0,s.createRef)()),h(this,"position",A=>{const{$select:M}=this.props,{menuBaseRef:{current:k},menuContainerRef:{current:P}}=this;if(A){const fe=$()(A,"target");if(fe&&J()(fe)&&fe.matches(".WorkspaceSelectMenu"))return}const{isDownward:ne}=(0,O.d2)({$menuBase:k,$opener:M,shouldSetMaxHeight:!1,$menuContainer:P});this.setState({isDownward:ne,isTransform:!0})}),h(this,"onChange",A=>{const{onChange:M}=this.props,{isDownward:k}=this.state,P=A.currentTarget,ne=P.closest(".WorkspaceSelectMenu");if(!P||!ne)return this.onlose();const{top:fe,bottom:Ie}=P.getBoundingClientRect(),{top:xe,bottom:je}=ne.getBoundingClientRect();return k&&fe>=xe||!k&&Ie<=je?P.classList.contains("title")?void 0:M(A):this.onClose()}),h(this,"onClose",()=>{const{onClose:A}=this.props;A()}),h(this,"onClickOutside",A=>{let{target:M}=A;const{$select:k}=this.props,P=!K.contains(M),ne=M.closest("label"),fe=ne&&ne.contains(k);P&&!fe&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:A}}=this;(0,Y.sA)((0,Y.$)(".WorkspaceSelectMenu",A)),this.position()}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,p.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:A,isDisabled:M,menuTheme:k,menuClassName:P,optionList:ne,emptyMsg:fe,value:Ie,canSelect:xe,onMouseEnter:je,onMouseLeave:$e}=this.props,{isDownward:Me,isTransform:ue}=this.state,pe=ne.length===0,_e=(0,Y.Hn)(["WorkspaceSelectMenu",P,ue&&"is-open",Me?"is-downward":"is-upward",M&&"is-disabled",pe&&"is-empty",xe?"can-select":"cant-select"]);return(0,x.jsxs)(w,{ref:this.menuBaseRef,children:[(0,x.jsx)("ul",{className:_e,ref:this.menuContainerRef,children:pe?(0,x.jsx)("li",{className:"SelectOption empty-msg",role:"empty-msg",children:fe}):ne.map((ke,Ae)=>Q()(ke)?(0,x.jsx)(se,{menuTheme:k,optionList:ke,value:Ie,onChange:this.onChange,onMouseEnter:je,onMouseLeave:$e},Ae):(0,x.jsx)(f,{menuTheme:k,isActive:(0,O.o3)(ke,Ie),option:ke,isDisabled:ke.isDisabled,onChange:this.onChange,onMouseEnter:je,onMouseLeave:$e},Ae))}),A&&(0,x.jsx)(B.A,{target:document,onClick:this.onClickOutside})]})}}h(F,"propTypes",{...G.propTypes,isOpen:u().bool,canSelect:u().bool,onChange:u().func,onClose:u().func,$select:u().instanceOf(Element)}),h(F,"defaultProps",{isOpen:!1,isTransform:!1});function se(_){let{value:A,optionList:[M,...k],menuTheme:P,onChange:ne,onMouseEnter:fe,onMouseLeave:Ie}=_;return(0,x.jsxs)("li",{className:"SelectGroup",children:[M==="HIDDELINE"?null:M==="DIVIDER"?(0,x.jsx)("div",{className:"divider"}):(0,x.jsx)(de.A,{className:"title",onClick:ne,children:M}),(0,x.jsx)("ul",{children:k.map((xe,je)=>(0,x.jsx)(f,{menuTheme:P,option:xe,isActive:(0,O.o3)(xe,A),isDisabled:xe.isDisabled,onChange:ne,onMouseEnter:fe,onMouseLeave:Ie},je))})]})}se.propTypes={value:u().oneOfType([u().string,u().number]),optionList:u().array,onChange:u().func,menuTheme:u().string,onMouseEnter:u().func,onMouseLeave:u().func};function f(_){let{option:A,isActive:M,isDisabled:k,menuTheme:P,onChange:ne,onMouseEnter:fe,onMouseLeave:Ie}=_;const xe=(0,Y.Hn)(["SelectOption",M&&"is-active",k&&"is-disabled"]),je=(0,O.Oi)(A),$e=(0,O.nE)(A),Me=(0,O.mq)(A),ue=(0,O.lP)(A),{tooltipWrapper:pe}=A;if(A.type==="divider")return(0,x.jsx)("li",{className:"divider"});const _e=(0,x.jsxs)("li",{role:"option","data-value":$e,className:xe,onClick:k?void 0:ne,onMouseEnter:fe,onMouseLeave:Ie,children:[M&&(0,x.jsx)("span",{className:"svg-icon2",children:(0,x.jsx)(g.A,{name:"select_right"})}),(0,x.jsxs)(de.A,{children:[(0,x.jsxs)("span",{className:"svg-icon3",children:[(0,x.jsx)(g.A,{name:Me})," "]})," ",je,"  ",(0,x.jsxs)("span",{className:"shortcutkey",children:[ue," "]})]})]});return pe?pe(_e):_e}f.propTypes={isActive:u().bool,option:u().oneOfType([u().node,u().object]),isDisabled:u().bool,menuTheme:u().string,onChange:u().func,onMouseEnter:u().func,onMouseLeave:u().func}},25942:(Ne,ie)=>{"use strict";var n;n={value:!0};var s=Object.assign||function(te){for(var $=1;$<arguments.length;$++){var Z=arguments[$];for(var Q in Z)Object.prototype.hasOwnProperty.call(Z,Q)&&(te[Q]=Z[Q])}return te},p=function(){var $=null,Z={},Q=function(de){var Y=Z[de.type];return Y&&Y($,de)},E=function(de){if(typeof de.getState!="function"||typeof de.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if($!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return $=de,function(Y){return function(O){return Q(O)===!0||Y(O)}}},V=function(de,Y){if(typeof de!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+de);if(typeof Y!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+de+", "+Y);Z[de]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+de),Z[de]=Y},ee=function(de){return Object.keys(de).forEach(function(Y){return V(Y,de[Y])})};return{middleware:E,setEntry:V,setEntryMap:ee}},I=function($){if($===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return $},setState:function(Q){return $=Q},wrapEntry:function(Q){return function(E,V){return Q($,E,V)}}}},u=function($,Z){var Q=Z.getState,E=Z.setState;return function(V,ee){var J=ee.type,de=ee.payload;return J===$&&E(de),Q()}},B=function($,Z){var Q=Z.getState,E=Z.setState;return function(V,ee){var J=ee.type,de=ee.payload;return J===$&&E(s({},Q(),de)),Q()}};ie.RZ=p,ie.J$=I,ie.Tf=u,n=B},29152:(Ne,ie,n)=>{"use strict";n.d(ie,{IE:()=>te,M0:()=>E,WR:()=>u,XW:()=>ee,_B:()=>J,cb:()=>de,hG:()=>N,iF:()=>V,il:()=>Q,kG:()=>Z,oV:()=>O,q7:()=>w,wA:()=>B,yZ:()=>Y});var s=n(12211),p=n(76844),I=n(12603);const u=g=>{var x;return(x=g.projectAccess.user)==null?void 0:x.user_id},B=g=>g.projectAccess.org,te=g=>{var x;return((x=g.projectAccess.org)==null?void 0:x.cid)||""},$=g=>{var x;return((x=g.projectAccess.org)==null?void 0:x.members)||[]},Z=g=>{var x;return((x=g.projectAccess.org)==null?void 0:x.permissions)||[]},Q=g=>g.projectAccess.space,E=g=>g.projectAccess.space.cid,V=g=>g.projectAccess.space.permissions||[],ee=g=>g.projectAccess.folderListMap||new Map,J=g=>g.projectAccess.projectListMap||new Map,de=(0,s.Mz)(u,Z,(g,x)=>(0,p.oE)({userId:g,orgPermissions:x})),Y=(0,s.Mz)(u,V,(g,x)=>(0,p.sq)({userId:g,spacePermissions:x})),O=(0,s.Mz)(V,g=>{const x=(0,p.Rc)(g);return g.reduce((h,v)=>{const{user_id:j}=v,U=(0,p.CF)({userId:j,permissionsMap:x,permissionScope:I.W.OrgSpace});return h.set(Number(j),U)},new Map)}),N=(0,s.Mz)(V,g=>g.filter(h=>h.role==="space_limiter").reduce((h,v)=>{const{user_id:j}=v;return h.set(Number(j),v)},new Map)),b=(0,s.Mz)($,g=>g.reduce((x,h)=>{const{user_id:v,user_cid:j,email:U,mobile:K}=h;return v&&j?x.set(Number(v)||v,{...h}):(U&&x.set(U,{...h}),K&&x.set(K,{...h}),x)},new Map)),w=(0,s.Mz)(Z,b,(g,x)=>g.reduce((h,v)=>{const{user_id:j,unsign_remark:U}=v,K=j||U,c=x.get(K)||{},G=(0,p.Sc)(v);return h.set(K,{...c,permission:G})},new Map))},29523:(Ne,ie,n)=>{"use strict";n.d(ie,{f:()=>B});const B={...{color_modao:{description:"\u54C1\u724C\u8272-\u58A8\u5200",value_light:"#FF3333",value_dark:"#FF3333"},color_proto:{description:"\u5DE5\u5177\u8272-\u539F\u578B\u5DE5\u5177",value_light:"#266FFF",value_dark:"#266FFF"},color_mindmap:{description:"\u5DE5\u5177\u8272-\u601D\u7EF4\u5BFC\u56FE",value_light:"#39CCBC",value_dark:"#39CCBC"},color_flowchart:{description:"\u5DE5\u5177\u8272-\u6D41\u7A0B\u56FE",value_light:"#FF1D47",value_dark:"#FF1D47"},color_cooperation:{description:"\u5DE5\u5177\u8272-\u8BBE\u8BA1\u534F\u4F5C",value_light:"#FF6915",value_dark:"#FF6915"},color_mockitt:{description:"\u5DE5\u5177\u8272-MOCKITT",value_light:"#4257FF",value_dark:"#4257FF"}},...{color_btn_primary_disabled:{description:"\u5E38\u89C4\u6309\u94AE disabled",value_light:"#A8C6FF",value_dark:"#234381"},color_btn_primary_normal:{description:"\u5E38\u89C4\u6309\u94AE normal",value_light:"#266FFF",value_dark:"#266BF3"},color_btn_primary_hover:{description:"\u5E38\u89C4\u6309\u94AE hover",value_light:"#4080FF",value_dark:"#3C7DFF"},color_btn_primary_clicked:{description:"\u5E38\u89C4\u6309\u94AE clicked",value_light:"#2264E5",value_dark:"#255BC7"},color_btn_danger_disabled:{description:"\u5371\u9669\u6309\u94AE disabled",value_light:"#FFB3B3",value_dark:"#682B2B"},color_btn_danger_normal:{description:"\u5371\u9669\u6309\u94AE normal",value_light:"#FF4040",value_dark:"#D33B3B"},color_btn_danger_hover:{description:"\u5371\u9669\u6309\u94AE hover",value_light:"#FF7575",value_dark:"#D74F4F"},color_btn_danger_clicked:{description:"\u5371\u9669\u6309\u94AE clicked",value_light:"#E53A3A",value_dark:"#A23434"},color_info:{description:"\u53CD\u9988-\u4FE1\u606F",value_light:"#266FFF",value_dark:"#266BF3"},color_info_bg:{description:"\u53CD\u9988\u4FE1\u606F-\u80CC\u666F\u8272",value_light:"#EFF4FF",value_dark:"#222A3A"},color_success:{description:"\u53CD\u9988-\u6210\u529F",value_light:"#39BF50",value_dark:"#61CC73"},color_success_bg:{description:"\u53CD\u9988\u6210\u529F-\u80CC\u666F\u8272",value_light:"#F0FAF2",value_dark:"#232D24"},color_warning:{description:"\u53CD\u9988-\u8B66\u544A",value_light:"#FF8C19",value_dark:"#FFA347"},color_warning_bg:{description:"\u53CD\u9988\u8B66\u544A-\u80CC\u666F\u8272",value_light:"#FFF7EE",value_dark:"#312B24"},color_error:{description:"\u53CD\u9988-\u51FA\u9519",value_light:"#FF4040",value_dark:"#D33B3B"},color_error_bg:{description:"\u53CD\u9988\u51FA\u9519-\u80CC\u666F\u8272",value_light:"#FFF1F1",value_dark:"#2E2323"},color_polyline_normal:{description:"\u6807\u5C3A\u8F85\u52A9\u7EBF-normal",value_light:"rgba(255, 64, 64, 0.5)",value_dark:"rgba(255, 64, 64, 0.5)"},color_polyline_hover:{description:"\u6807\u5C3A\u8F85\u52A9\u7EBF-hover",value_light:"#FF4040",value_dark:"#D33B3B"},color_polyline_select:{description:"\u6807\u5C3A\u8F85\u52A9\u7EBF-\u9009\u4E2D",value_light:"#266FFF",value_dark:"#266FFF"},color_bg_tab:{description:"tab \u9009\u4E2D\u7684\u5E95\u8272",value_light:"#E6EFFF",value_dark:"#223252"},color_bg_select03:{description:"\u5217\u8868\u9009\u4E2D\u5B50\u7EA7",value_light:"#F2F6FF",value_dark:"#222937"},color_bg_select02:{description:"\u5217\u8868\u9009\u4E2D\u7236\u7EA7/\u6846\u9009\u80CC\u666F\u8272",value_light:"#D8E5FF",value_dark:"#223252"},color_bg_select01:{description:"\u9875\u9762\u6807\u8BC6 hover \u8272",value_light:"#A8C6FF",value_dark:"#234381"},color_textarea:{description:"\u6587\u5B57\u533A\u57DF\u80CC\u666F\u8272",value_light:"rgba(5, 88, 255, 0.24)",value_dark:"rgba(6, 92, 255, 0.35)"},color_grid:{description:"\u5E03\u5C40\u6805\u683C\u80CC\u666F\u8272/\u753B\u677F\u9AD8\u5EA6\u62D6\u62FD\u533A\u57DF\u80CC\u666F\u8272",value_light:"rgba(11, 93, 255, 0.16)",value_dark:"rgba(11, 93, 255, 0.16)"},color_smartline:{description:"\u667A\u80FD\u6D4B\u8DDD\u53C2\u8003\u7EBF\u989C\u8272",value_light:"#F23DD1",value_dark:"#F23DD1"},color_spacing:{description:"\u7B49\u95F4\u8DDD\u5757\u80CC\u666F\u53CA\u6570\u5B57\u8272",value_light:"rgba(242, 61, 209, 0.3)",value_dark:"rgba(245, 78, 219, 0.3)"},color_comments:{description:"\u6807\u6CE8\u6A21\u5F0F\u6D4B\u8DDD\u989C\u8272/\u8BC4\u8BBA\u6C14\u6CE1\u8272/\u70ED\u533A\u533A\u57DF\u63CF\u8FB9\u8272 ",value_light:"#FF8C19",value_dark:"#FF8C19"},color_hotspot:{description:"\u6807\u6CE8\u6A21\u5F0F\u70ED\u533A\u533A\u57DF\u586B\u5145\u8272 ",value_light:"rgba(255, 140, 25, 0.15)",value_dark:"rgba(255, 140, 25, 0.15)"},color_master:{description:"\u6BCD\u7248\u8272",value_light:"#7146FE",value_dark:"#7146FE"}},...{color_bg_white:{description:"\u56FA\u5B9A\u5C42\u80CC\u666F\u8272",value_light:"#ffffff",value_dark:"#212121"},color_bg_canvas:{description:"\u753B\u5E03\u80CC\u666F\u8272",value_light:"#EFEFEF",value_dark:"#1A1A1A"},color_btn_secondary_hover:{description:"\u6B21\u8981\u6309\u94AE/icon-hover\u80CC\u666F\u8272",value_light:"#F3F3F4",value_dark:"#333333"},color_btn_secondary_active:{description:"\u6B21\u8981\u6309\u94AE/icon-\u9009\u4E2D\u80CC\u666F\u8272",value_light:"#EEEEF0",value_dark:"#3C3C3C"},color_grid_line:{description:"\u56FE\u6807\u9009\u4E2D\u80CC\u666F\u8272/\u4E8C\u7EA7\u5206\u5272\u7EBF",value_light:"#E5E5E5",value_dark:"#454647"},color_bg_line:{description:"\u63A7\u4EF6\u63CF\u8FB9/\u4E00\u7EA7\u5206\u5272\u7EBF/\u83DC\u5355/default\u6309\u94AE\u63CF\u8FB9/\u5F39\u7A97\u63CF\u8FB9",value_light:"#DBDBDB",value_dark:"#4F5052"},color_bg_border_01:{description:"\u5206\u9694\u7EBF/\u83DC\u5355/\u5F39\u7A97\u5916\u63CF\u8FB9",value_light:"rgba(18, 17, 42, 0.07)",value_dark:"rgba(255, 255, 255, 0.08)"},color_bg_border_02:{description:"\u6B21\u8981\u6309\u94AE\u63CF\u8FB9/\u8F93\u5165\u6846/\u641C\u7D22\u6846",value_light:"rgba(2, 9, 16, 0.13)",value_dark:"rgba(255, 255, 255, 0.19)"},color_bg_split_hover:{description:"\u4E00\u7EA7\u5206\u5272\u7EBF hover \u6548\u679C",value_light:"#CCCCCC",value_dark:"#CCCCCC"},color_bg_card:{description:"\u7D20\u6750\u9762\u677F\u5361\u7247/tab\u80CC\u666F\u8272",value_light:"#F7F7F9",value_dark:"#303030"},color_navigation_hover:{description:"\u5DE6\u4FA7\u5BFC\u822A\u60AC\u505C",value_light:"rgba(18, 17, 42, 0.03)",value_dark:"rgba(255, 255, 255, 0.04)"},color_navigation_active:{description:"\u5DE6\u4FA7\u5BFC\u822A\u9009\u4E2D",value_light:"rgba(18, 17, 42, 0.05)",value_dark:"rgba(255, 255, 255, 0.08)"},color_directory_hover:{description:"\u76EE\u5F55\u9009\u9879\u60AC\u505C",value_light:"#FAFAFC",value_dark:"rgba(255, 255, 255, 0.05)"},color_directory_active:{description:"\u76EE\u5F55\u9009\u9879\u9009\u4E2D",value_light:"#F3F3F5",value_dark:"rgba(255, 255, 255, 0.08)"},color_bg_menu:{description:"\u83DC\u5355\u80CC\u666F\u8272",value_light:"#ffffff",value_dark:"#303030"},color_bg_tips:{description:"\u6C14\u6CE1/\u5168\u5C40\u63D0\u793A\u80CC\u666F\u8272",value_light:"#303030",value_dark:"#303030"},color_bg_mask:{description:"\u5F39\u7A97\u8499\u5C42\u8272",value_light:"rgba(18, 17, 42, 0.4)",value_dark:"rgba(0, 0, 0, 0.5)"},color_slider_normal:{description:"\u6ED1\u6746 normal \u8272",value_light:"rgba(18, 17, 42, 0.15)",value_dark:"rgba(255, 255, 255, 0.25)"},color_slider_hover:{description:"\u6ED1\u6746 hover \u8272",value_light:"rgba(18, 17, 42, 0.3)",value_dark:"rgba(255, 255, 255, 0.35)"}},...{color_text_btn:{description:"\u6309\u94AE\u5185normal\u6001\u6587\u672C\u8272",value_light:"#FFFFFF",value_dark:"rgba(255, 255, 255, 0.91)"},color_text_L0:{description:"\u6807\u9898\u6587\u672C\u8272/\u4E00\u7EA7\u6587\u672C\u8272",value_light:"#19191A",value_dark:"rgba(255, 255, 255, 0.91)"},color_text_L1:{description:"\u6807\u9898\u6587\u672C\u8272/\u4E00\u7EA7\u6587\u672C\u8272",value_light:"#19191A",value_dark:"rgba(255, 255, 255, 0.91)"},color_text_L2:{description:"\u4E8C\u7EA7\u6587\u672C\u8272",value_light:"#555557",value_dark:"rgba(255, 255, 255, 0.64)"},color_text_L3:{description:"\u5360\u4F4D\u7B26\u6587\u672C\u8272",value_light:"#8B8C8F",value_dark:"rgba(255, 255, 255, 0.45)"},color_text_disabled01:{description:"\u9ED1\u8272\u6587\u672C\u7981\u7528\u8272",value_light:"#B7B9BD",value_dark:"rgba(255, 255, 255, 0.19)"},color_text_disabled02:{description:"\u767D\u8272\u6587\u672C\u7981\u7528\u8272",value_light:"rgba(255, 255, 255, 0.82)",value_dark:"rgba(255, 255, 255, 0.19)"},color_text_link_normal:{description:"\u94FE\u63A5/\u6587\u672C\u6309\u94AE\u8272 normal",value_light:"#2264E5",value_dark:"#88B0FF"},color_text_link_hover:{description:"\u94FE\u63A5/\u6587\u672C\u6309\u94AE\u8272 hover",value_light:"#6297FF",value_dark:"#93B7FF"},color_text_tips_normal:{description:"\u63D0\u793A\u5185\u84DD\u8272\u6587\u672C\u8272 normal",value_light:"#88B0FF",value_dark:"#88B0FF"},color_text_tips_hover:{description:"\u63D0\u793A\u5185\u84DD\u8272\u6587\u672C\u8272 hover",value_light:"#A8C6FF",value_dark:"#A8C6FF"},color_text_error:{description:"\u51FA\u9519\u6587\u672C\u8272",value_light:"#D34444",value_dark:"#FF7575"}}}},33236:(Ne,ie,n)=>{"use strict";n.d(ie,{l:()=>I,r:()=>p});var s=n(67787);const p=(0,s.DU)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:4px;height:4px;border-radius:4px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],u=>u.theme.color_bg_border_02,u=>u.theme.color_background_split_hover,u=>u.theme.color_background_split_hover),I=(0,s.DU)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},35428:(Ne,ie,n)=>{"use strict";n.d(ie,{_:()=>I});var s=n(5209);const p=u=>{let{exposure_reason:B}=u;try{saTrack("trial_watermark_exposure",{exposure_reason:B})}catch(te){console.log(te.message)}},I=u=>{let{click_button:B}=u;try{(0,s.kH)("trial_watermark_click",{click_button:B})}catch(te){console.log(te.message)}}},35603:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>j,d:()=>ee});var s=n(18250),p=n.n(s),I=n(63986),u=n.n(I),B=n(38502),te=n(69623),$=n(25582),Z=n.n($),Q=n(27992),E=n(69368);const V=9;function ee(K){let{$opener:c,$menuBase:G,menuX:F="left",menuY:se="bottom",menuBaseStyle:f={},inflexible:_=!1,shouldSetMaxHeight:A=!1}=K;if(!c||!G)return{};const M=G.querySelector("*"),k={styleFor$menuBase:{},styleFor$menu:{}},P=mt=>Object.assign(k.styleFor$menuBase,mt),ne=mt=>Object.assign(k.styleFor$menu,mt),{offsetHeight:fe}=M,Ie=f.width||c.offsetWidth,xe=f.height||c.offsetHeight,je=c.getBoundingClientRect(),{top:$e,bottom:Me,left:ue}=Object.assign({top:je.top,right:je.right,bottom:je.bottom,left:je.left},f);P({top:$e+"px",left:ue+"px",width:Ie+"px",height:xe+"px"});const{innerHeight:pe}=window,_e=10,ke=pe-10,Ae=se==="top"?1/3:2/3,qe=pe*Ae,ze=$e+xe/2,Ke=$e+xe;return(_&&se==="bottom"||!_&&qe>=ze)&&Ke+fe+V<pe?(k.isDownward=!0,A&&Me+fe>ke&&ne({maxHeight:ke-Me+"px"})):(k.isDownward=!1,A&&$e-fe<_e&&ne({maxHeight:$e-_e+"px"})),Object.assign(G.style,k.styleFor$menuBase),Object.assign(M.style,k.styleFor$menu),k}var J=n(67787);const de=J.Ay.label.withConfig({displayName:"styled__StyledDropDown",componentId:"sc-665wv9-0"})(["&.is-disabled{opacity:0.5;> button{cursor:not-allowed;}}"]),Y=J.Ay.div.withConfig({displayName:"styled__StyledDropDownMenu",componentId:"sc-665wv9-1"})(["position:absolute;margin:0.25em 0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;min-width:7em;font-size:12px;filter:drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));pointer-events:none;opacity:0;transition:0.2s ease-in-out;transition-property:transform,opacity;transform-origin:50% 0;transform:scale(0.9);&.is-open{pointer-events:initial;opacity:1;transform:scale(1);}&.x-left{left:0;}&.x-right{left:initial;right:0;}&.x-center{left:50%;transform:scale(0.9) translateX(-50%);&.is-open{transform:scale(1) translateX(-50%);}}&.is-downward{top:100%;bottom:initial;}&.is-upward{top:initial;bottom:100%;}&.arrowed{margin-top:0.75em;margin-bottom:0.75em;&.x-left.x-arrow-based{left:50%;margin-left:-14px;}&.x-right.x-arrow-based{left:initial;right:50%;margin-right:-14px;}}.arrow{position:absolute;top:0;left:calc(50% - 0.5em);width:1em;height:0.375em;font-size:14px;line-height:0;fill:currentColor;fill-rule:evenodd;color:#fff;svg{position:absolute;width:auto;height:5px;transform:translateY(-100%);}}&.dark .arrow{color:rgba(30,41,46,.9);}&.x-left .arrow{left:0.5em;right:initial;}&.x-right .arrow{left:initial;right:0.5em;}&.is-upward .arrow{transform:rotate(180deg);top:initial;bottom:0;}.content{padding:0.75em 0.5em;min-height:32px;background-color:#fff;border-radius:4px;}&.dark .content{background-color:rgba(30,41,46,.9);color:#fff;}ul.MenuList{margin:0;padding:0;list-style:none;text-align:center;color:#5b6b73;li{line-height:32px;border-radius:2px;cursor:pointer;&:not(.is-disabled):hover{background-color:#f6f7f8;}&.is-active{color:#298df8;}&.is-disabled{cursor:not-allowed;opacity:0.5;}}}"]),O=J.Ay.div.withConfig({displayName:"styled__StyledDropDownBase",componentId:"sc-665wv9-2"})(["position:fixed;z-index:1100;pointer-events:none;"]);var N=n(72214);function b(K,c,G){return(c=w(c))in K?Object.defineProperty(K,c,{value:G,enumerable:!0,configurable:!0,writable:!0}):K[c]=G,K}function w(K){var c=g(K,"string");return typeof c=="symbol"?c:c+""}function g(K,c){if(typeof K!="object"||!K)return K;var G=K[Symbol.toPrimitive];if(G!==void 0){var F=G.call(K,c||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(K)}const x="IBOT_DROPDOWN_MENU_ROOT",h=document.getElementById(x)||Object.assign(document.createElement("div"),{id:x}),v=document.body;v.contains(h)||v.appendChild(h);class j extends B.PureComponent{constructor(){super(...arguments),b(this,"state",{prevProps:this.props,isOpen:this.props.isOpen,$opener:null,currentMenuListItemIdx:this.props.currentMenuListItemIdx}),b(this,"leaveTimeoutList",[]),b(this,"createMenuRef",c=>this.$menuRef=c),b(this,"toggle",c=>this.setState({isOpen:p()(c)?c:!this.state.isOpen})),b(this,"open",()=>this.toggle(!0)),b(this,"close",()=>this.toggle(!1)),b(this,"onMouseEnter",()=>{const{shouldOpenOnHover:c}=this.props;c&&(clearTimeout(this.closeTimeout),!this.hoverTimeout&&Object.assign(this,{hoverTimeout:setTimeout(this.open,this.props.hoverDelay)}))}),b(this,"onMouseLeave",()=>{const{shouldOpenOnHover:c}=this.props;c&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=null)}),b(this,"onMouseMove",c=>{var G;let{clientX:F,clientY:se}=c;const{shouldOpenOnHover:f,hoverDelay:_,hoverCloseDelay:A}=this.props,{$opener:M}=this.state;if(!f)return;clearTimeout(this.hoverTimeout),this.hoverTimeout=null;const k=document.elementFromPoint(F,se),P=!M.contains(k),ne=!((G=this.$menuRef)!=null&&(G=G.menuBaseRef)!=null&&(G=G.current)!=null&&G.contains(k));ne?P&&ne&&this.leaveTimeoutList.push(setTimeout(this.close,A!==void 0?A:Math.max(_,300))):(this.leaveTimeoutList.map(clearTimeout),Object.assign(this,{leaveTimeoutList:[]}))}),b(this,"set$opener",c=>this.setState({$opener:c})),b(this,"onSelect",c=>{let{currentTarget:G}=c;const{menuList:F,onSelect:se,shouldCloseOnSelect:f}=this.props;if(typeof se!="function")return;const _=G.dataset.idx,A=F[_],M=typeof A=="string"?A:A&&A.value;se(_,M),this.setState({currentMenuListItemIdx:_}),f&&this.close()})}static getDerivedStateFromProps(c,G){let{prevProps:F,isOpen:se}=G;return u()(c,F)?null:p()(c.isOpen)?{prevProps:c,isOpen:c.isOpen}:{prevProps:c}}componentDidUpdate(c,G){let{isOpen:F}=G;const{onOpen:se,onClose:f,onToggle:_}=this.props,{isOpen:A}=this.state;F!==A&&(A?(se(),_(!0)):(f(),_(!1)))}render(){const{className:c,opener:G,openerType:F,openerClassName:se,shouldCloseOnClickOutside:f}=this.props,{isOpen:_,$opener:A,currentMenuListItemIdx:M}=this.state,k=this.props.isDisabled||this.props.disabled,P=(0,E.Hn)(["Dropdown",_&&"is-open",k&&"is-disabled",c]),ne={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseEnter,disabled:k,className:se};return(0,N.jsxs)(de,{ref:this.set$opener,className:P,children:[F!=="button"&&(0,B.isValidElement)(G)?(0,B.cloneElement)(G,ne):(0,N.jsx)("button",{type:"button",...ne,children:G}),(0,N.jsx)(U,{ref:this.createMenuRef,...this.props,isOpen:_,$opener:A,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:f,currentMenuListItemIdx:M}),_&&(0,N.jsx)(Q.A,{target:document,onMouseMove:this.onMouseMove})]})}}b(j,"positionMenu",ee),b(j,"propTypes",{isOpen:Z().bool,mode:Z().oneOf(["light","dark"]),opener:Z().node,openerType:Z().oneOf(["button","custom"]),className:Z().string,portalClassName:Z().string,menuBaseClassName:Z().string,openerClassName:Z().string,menuClassName:Z().string,menuBaseStyle:Z().shape({top:Z().number,right:Z().number,bottom:Z().number,width:Z().number,height:Z().number}),menu:Z().node,menuList:Z().arrayOf(Z().oneOfType([Z().node,Z().shape({label:Z().node,value:Z().any,isDisabled:Z().bool})])),currentMenuListItemIdx:Z().oneOfType([Z().number,Z().string]),shouldPreventScrollingPropagation:Z().bool,shouldOpenOnHover:Z().bool,shouldCloseOnClickOutside:Z().bool,hoverDelay:Z().oneOfType([Z().number,Z().string]),hoverCloseDelay:Z().oneOfType([Z().number,Z().string]),arrowed:Z().bool,inflexible:Z().bool,menuX:Z().oneOf(["left","center","right"]),menuY:Z().oneOf(["top","bottom"]),menuBasedX:Z().bool,isDisabled:Z().bool,disabled:Z().bool,onSelect:Z().func,shouldCloseOnSelect:Z().bool,onOpen:Z().func.isRequired,onClose:Z().func.isRequired,onToggle:Z().func.isRequired}),b(j,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:()=>null,onClose:()=>null,onToggle:()=>null});class U extends B.PureComponent{constructor(){super(...arguments),b(this,"state",{isDownward:this.props.position==="bottom"}),b(this,"portal",(0,E.ep)(h,(0,E.Hn)(["DropdownMenuPortal",this.props.portalClassName]))),b(this,"menuBaseRef",(0,B.createRef)()),b(this,"onResizeWindow",()=>this.props.isOpen&&this.position()),b(this,"onClickOutside",c=>{let{target:G}=c;const{$opener:F,onClose:se,shouldCloseOnClickOutside:f}=this.props;if(!f)return;const _=!h.contains(G),A=G.closest("label"),M=A&&A.contains(F),k=!!(0,E.$)(".SelectMenu.is-open");_&&!M&&!k&&se()}),b(this,"position",()=>{const{$opener:c,menuX:G,menuY:F,menuBaseStyle:se,inflexible:f}=this.props,{menuBaseRef:{current:_}}=this,{isDownward:A}=ee({$menuBase:_,$opener:c,menuX:G,menuY:F,menuBaseStyle:se,inflexible:f});this.setState({isDownward:A})})}componentDidMount(){const{isOpen:c,shouldPreventScrollingPropagation:G}=this.props,{menuBaseRef:{current:F}}=this;c&&setTimeout(this.position),G&&(0,E.sA)((0,E.$)(".content",F)),window.addEventListener("resize",this.onResizeWindow)}componentDidUpdate(c){let{isOpen:G}=c;const{isOpen:F}=this.props;!G&&F&&this.position()}componentWillUnmount(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}render(){const{portal:c,menu:G}=this;return(0,te.createPortal)(G,c)}get menu(){const{isOpen:c,mode:G,menuBaseClassName:F,menuClassName:se,menu:f,menuList:_,arrowed:A,menuX:M,menuBasedX:k,currentMenuListItemIdx:P,onSelect:ne}=this.props,{isDownward:fe}=this.state,Ie=(0,E.Hn)(["DropdownMenu",G,c&&"is-open",fe?"is-downward":"is-upward","x-"+M,A&&"arrowed "+(k?"x-menu-based":"x-arrow-based"),se]);return(0,N.jsx)(O,{ref:this.menuBaseRef,className:(0,E.Hn)(["DropdownMenuBase",F]),children:(0,N.jsxs)(Y,{className:Ie,children:[A&&(0,N.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:E.t4.mr}}),(0,N.jsx)("div",{className:"content",children:_?(0,N.jsx)("ul",{className:"MenuList",children:_.map((xe,je)=>(0,N.jsx)("li",{role:"option","data-idx":je,className:(0,E.Hn)([xe.isDisabled&&"is-disabled",je===Number(P)&&"is-active"]),onClick:xe.isDisabled?void 0:ne,children:xe.label||xe},je))}):f}),c&&(0,N.jsx)(Q.A,{target:document,onClick:(0,Q.t)(this.onClickOutside,{capture:!0})}),c&&(0,N.jsx)(Q.A,{target:document,onScroll:(0,Q.t)(this.position,{capture:!0})})]})})}}b(U,"propTypes",{...j.propTypes,isOpen:Z().bool,$opener:Z().instanceOf(Element),onSelect:Z().func,onClose:Z().func})},35954:Ne=>{function ie(n){return function(s){return n==null?void 0:n[s]}}Ne.exports=ie},37810:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>Z});var s=n(95549),p=n(38502),I=n(19952),u=n(25582),B=n.n(u),te=n(72214);class $ extends p.PureComponent{constructor(E){super(E),(0,s.A)(this,"freshCanvas",()=>{const V=this.canvasWrapperRef.current,{height:ee,width:J,text:de,foreground:Y,background:O}=this.props,N=(0,I.j)({height:ee,width:J,text:de,foreground:Y,background:O});V.hasChildNodes()?V.replaceChild(N,V.firstChild):V.appendChild(N)}),this.canvasWrapperRef=(0,p.createRef)()}componentDidMount(){this.freshCanvas()}componentDidUpdate(){this.freshCanvas()}render(){const{className:E}=this.props;return(0,te.jsx)("div",{className:E,ref:this.canvasWrapperRef})}}$.propTypes={width:B().number,height:B().number,text:B().string.isRequired,foreground:B().string,background:B().string,className:B().string},$.defaultProps={width:150,height:150};const Z=$},37862:(Ne,ie,n)=>{var s=n(70168),p=n(43293);function I(u){return s(u)&&u.nodeType===1&&!p(u)}Ne.exports=I},39303:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>u});var s=n(15207),p=n(67787);const u=(0,p.Ay)(s.f).withConfig({displayName:"ThemeLoading",componentId:"sc-1f7bkn3-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],B=>B.theme.color_btn_secondary_active,B=>B.theme.color_text_disabled01)},39572:(Ne,ie,n)=>{"use strict";n.d(ie,{F:()=>Z,I:()=>$});var s=n(38502),p=n(67787);const I=p.Ay.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"sc-k8kmsm-0"})(["display:flex;background-color:",";height:28px;&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:focus{border:1px solid #ff6161;}}}.divider{height:100%;width:1px;background-color:",";}.password-input-wrapper{position:relative;display:flex;align-items:center;width:100px;.password-input{position:relative;width:100%;font-size:12px;padding-right:22px;padding-left:8px;overflow:hidden;white-space:nowrap;text-overflow:clip;color:",";border:1px solid ",";border-radius:6px;height:100%;&:focus{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;}&:hover{border:1px solid ",";}}.reset-pwd{width:20px;height:20px;position:absolute;border-radius:4px;right:4px;color:",";cursor:pointer;&:hover{path{fill:",";}color:",";background-color:",";}&:active{path{fill:",";}color:",";background-color:",";}}}.password-button{width:72px;padding:8px 12px;color:",";font-size:12px;line-height:16px;white-space:nowrap;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&.saved{background-color:",";color:#999;pointer-events:none;}}"],Q=>Q.theme.color_bg_white,Q=>Q.theme.color_btn_secondary_active,Q=>Q.theme.color_text_L1,Q=>Q.theme.color_bg_border_02,Q=>Q.theme.color_proto,Q=>Q.theme.color_proto,Q=>Q.theme.color_proto,Q=>Q.theme.color_text_L3,Q=>Q.theme.color_text_L2,Q=>Q.theme.color_text_L2,Q=>Q.theme.color_btn_secondary_hover,Q=>Q.theme.color_text_L2,Q=>Q.theme.color_text_L2,Q=>Q.theme.color_btn_secondary_active,Q=>Q.theme.color_text_L1,Q=>Q.theme.color_bg_border_02,Q=>Q.theme.color_bg_canvas,Q=>Q.theme.color_bg_canvas);var u=n(17307),B=n(83199),te=n(72214);function $(Q){return Math.random().toString(36).slice(-Q)}function Z(Q){const{onSubmit:E,value:V}=Q,[ee,J]=(0,s.useState)(Q.value),de=(0,s.useRef)(null),Y=w=>{J(w.target.value)},O=()=>{const w=$(6);J(w),E(w)},N=()=>{if(!E(ee)){J(V);try{MB.notice({text:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF0C\u4E0D\u5F97\u4E3A\u7A7A\u6216\u7279\u6B8A\u5B57\u7B26",type:"warning"})}catch(g){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}}},b=w=>{w.key==="Enter"&&(N(),de.current.blur())};return(0,te.jsx)(I,{children:(0,te.jsxs)("div",{className:"password-input-wrapper",children:[(0,te.jsx)("input",{ref:de,type:"text",className:"password-input",value:ee,onChange:Y,onBlur:N,onKeyPress:b}),(0,te.jsx)(B.A,{content:I18N.imockSharing.gen_pwd_randomly,direction:"down",children:(0,te.jsx)(u.C,{className:"reset-pwd",name:"common/spinner",onClick:O})})]})})}},41440:(Ne,ie,n)=>{var s=n(43293);function p(I){return s(I)?void 0:I}Ne.exports=p},41946:(Ne,ie,n)=>{var s=n(73597),p=s(function(I,u,B){return I+(B?"_":"")+u.toLowerCase()});Ne.exports=p},43293:(Ne,ie,n)=>{var s=n(41678),p=n(41413),I=n(70168),u="[object Object]",B=Function.prototype,te=Object.prototype,$=B.toString,Z=te.hasOwnProperty,Q=$.call(Object);function E(V){if(!I(V)||s(V)!=u)return!1;var ee=p(V);if(ee===null)return!0;var J=Z.call(ee,"constructor")&&ee.constructor;return typeof J=="function"&&J instanceof J&&$.call(J)==Q}Ne.exports=E},45308:(Ne,ie,n)=>{var s=n(71602);function p(I){var u=I==null?0:I.length;return u?s(I,1):[]}Ne.exports=p},45525:(Ne,ie,n)=>{var s=n(32554),p=n(86789),I=n(48605),u=n(68151),B=n(31493),te=n(41440),$=n(85378),Z=n(24235),Q=1,E=2,V=4,ee=$(function(J,de){var Y={};if(J==null)return Y;var O=!1;de=s(de,function(b){return b=u(b,J),O||(O=b.length>1),b}),B(J,Z(J),Y),O&&(Y=p(Y,Q|E|V,te));for(var N=de.length;N--;)I(Y,de[N]);return Y});Ne.exports=ee},47507:(Ne,ie,n)=>{"use strict";n.d(ie,{q:()=>p});const s={common_white:"#FFFFFF",common_black:"#000000",primary_blue_01:"#126ACA",primary_blue_02:"#1684FC",primary_blue_03:"#459DFD",primary_blue_04:"#8AC1FD",primary_blue_05:"#B9DAFE",primary_blue_06:"#D0E6FE",primary_blue_07:"#E8F3FF",primary_blue_08:"#F5F8FD",primary_gray_01:"#19191A",primary_gray_02:"#555557",primary_gray_03:"#7D8CA5",primary_gray_04:"#9EA9BC",primary_gray_05:"#BEC5D2",primary_gray_06:"#D2D9E4",primary_gray_07:"#E1E6EF",primary_gray_08:"#F0F2F7",primary_gray_09:"#F3F5F9",primary_red_01:"#DD4747",primary_red_02:"#F85050",primary_red_03:"#F97373",primary_red_04:"#FDC2C2",primary_red_05:"#FEE5E5"},p={color_btn_primary_normal:s.primary_blue_02,color_btn_primary_hover:s.primary_blue_03,color_btn_primary_click:s.primary_blue_01,color_btn_primary_disable:s.primary_blue_05,color_btn_secondary_click:s.primary_blue_06,color_btn_secondary_normal:s.primary_blue_08,color_btn_secondary_hover:s.primary_blue_07,color_btn_outline_click:s.primary_gray_07,color_btn_outline_normal:s.common_white,color_btn_outline_hover:s.primary_gray_08,color_bg_normal:s.common_white,color_bg_card:s.primary_blue_08,color_bg_menu_click:s.primary_blue_06,color_bg_card_hover:s.primary_gray_07,color_bg_menu_hover:s.primary_blue_07,color_bg_input_hover:s.primary_gray_08,color_bg_input_normal:s.primary_gray_09,color_bg_item_gray:s.primary_gray_08,color_bg_item_hover:s.primary_gray_09,color_bg_fill_common_blue:s.primary_blue_02,color_bg_menu_drag_border:s.primary_blue_06,color_bg_card_hover_fusion_gray:s.primary_gray_06,color_bg_card_hover_fusion_blue:s.primary_blue_05,color_bg_card_hover_fusion:s.primary_gray_06,color_bg_secondary_btn:s.primary_blue_08,color_bg_btn_normal_hover:s.primary_gray_08,color_bg_btn_normal_active:s.primary_gray_07,color_bg_icon_gray:s.primary_gray_04,color_bg_icon_hover:s.primary_gray_03,color_text_L1:s.primary_gray_01,color_text_L2:s.primary_gray_02,color_text_L3:s.primary_gray_03,color_text_L4:s.primary_gray_04,color_text_L5:s.primary_blue_02,color_text_white:s.common_white,color_text_blue:s.primary_blue_02,color_text_blue_hover:s.primary_blue_01,color_text_blue_active:s.primary_blue_03,color_text_disable_01:s.primary_gray_05,color_tab_line:s.primary_gray_06,color_split_line:s.primary_gray_07,color_border_blue_common:s.primary_blue_02,color_btn_border_normal:s.primary_blue_05,color_btn_border_disable:s.primary_blue_07,color_btn_secondary_border_normal:s.primary_blue_06,color_btn_secondary_border_hover:s.primary_blue_07,color_btn_danger_normal:s.primary_red_02,color_btn_danger_hover:s.primary_red_03,color_btn_danger_click:s.primary_red_01,color_btn_danger_disable:s.primary_red_04,color_bg_modal_item_header:s.primary_gray_09,color_bg_light_red:s.primary_red_05,color_alarm_common:s.primary_red_02}},47946:(Ne,ie,n)=>{"use strict";n.d(ie,{pX:()=>Po,O3:()=>hs,tr:()=>Zs,ur:()=>Bo});var s={};if(n.r(s),n.d(s,{Decoder:()=>Tn,Encoder:()=>es,PacketType:()=>dt,protocol:()=>oo}),n.j!=15)var p=n(76805);if(n.j!=15)var I=n(60892);const u=Object.create(null);u.open="0",u.close="1",u.ping="2",u.pong="3",u.message="4",u.upgrade="5",u.noop="6";const B=Object.create(null);Object.keys(u).forEach(a=>{B[u[a]]=a});const te={type:"error",data:"parser error"},$=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Z=typeof ArrayBuffer=="function",Q=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,E=(a,t,o)=>{let{type:m,data:z}=a;return $&&z instanceof Blob?t?o(z):V(z,o):Z&&(z instanceof ArrayBuffer||Q(z))?t?o(z):V(new Blob([z]),o):o(u[m]+(z||""))},V=(a,t)=>{const o=new FileReader;return o.onload=function(){const m=o.result.split(",")[1];t("b"+(m||""))},o.readAsDataURL(a)};function ee(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let J;function de(a,t){if($&&a.data instanceof Blob)return a.data.arrayBuffer().then(ee).then(t);if(Z&&(a.data instanceof ArrayBuffer||Q(a.data)))return t(ee(a.data));E(a,!1,o=>{J||(J=new TextEncoder),t(J.encode(o))})}const Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<Y.length;a++)O[Y.charCodeAt(a)]=a;const N=a=>{let t=new Uint8Array(a),o,m=t.length,z="";for(o=0;o<m;o+=3)z+=Y[t[o]>>2],z+=Y[(t[o]&3)<<4|t[o+1]>>4],z+=Y[(t[o+1]&15)<<2|t[o+2]>>6],z+=Y[t[o+2]&63];return m%3===2?z=z.substring(0,z.length-1)+"=":m%3===1&&(z=z.substring(0,z.length-2)+"=="),z},b=a=>{let t=a.length*.75,o=a.length,m,z=0,ce,Te,Le,Fe;a[a.length-1]==="="&&(t--,a[a.length-2]==="="&&t--);const Ve=new ArrayBuffer(t),Be=new Uint8Array(Ve);for(m=0;m<o;m+=4)ce=O[a.charCodeAt(m)],Te=O[a.charCodeAt(m+1)],Le=O[a.charCodeAt(m+2)],Fe=O[a.charCodeAt(m+3)],Be[z++]=ce<<2|Te>>4,Be[z++]=(Te&15)<<4|Le>>2,Be[z++]=(Le&3)<<6|Fe&63;return Ve},w=typeof ArrayBuffer=="function",g=(a,t)=>{if(typeof a!="string")return{type:"message",data:h(a,t)};const o=a.charAt(0);return o==="b"?{type:"message",data:x(a.substring(1),t)}:B[o]?a.length>1?{type:B[o],data:a.substring(1)}:{type:B[o]}:te},x=(a,t)=>{if(w){const o=b(a);return h(o,t)}else return{base64:!0,data:a}},h=(a,t)=>{switch(t){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},v="",j=(a,t)=>{const o=a.length,m=new Array(o);let z=0;a.forEach((ce,Te)=>{E(ce,!1,Le=>{m[Te]=Le,++z===o&&t(m.join(v))})})},U=(a,t)=>{const o=a.split(v),m=[];for(let z=0;z<o.length;z++){const ce=g(o[z],t);if(m.push(ce),ce.type==="error")break}return m};function K(){return new TransformStream({transform(a,t){de(a,o=>{const m=o.length;let z;if(m<126)z=new Uint8Array(1),new DataView(z.buffer).setUint8(0,m);else if(m<65536){z=new Uint8Array(3);const ce=new DataView(z.buffer);ce.setUint8(0,126),ce.setUint16(1,m)}else{z=new Uint8Array(9);const ce=new DataView(z.buffer);ce.setUint8(0,127),ce.setBigUint64(1,BigInt(m))}a.data&&typeof a.data!="string"&&(z[0]|=128),t.enqueue(z),t.enqueue(o)})}})}let c;function G(a){return a.reduce((t,o)=>t+o.length,0)}function F(a,t){if(a[0].length===t)return a.shift();const o=new Uint8Array(t);let m=0;for(let z=0;z<t;z++)o[z]=a[0][m++],m===a[0].length&&(a.shift(),m=0);return a.length&&m<a[0].length&&(a[0]=a[0].slice(m)),o}function se(a,t){c||(c=new TextDecoder);const o=[];let m=0,z=-1,ce=!1;return new TransformStream({transform(Te,Le){for(o.push(Te);;){if(m===0){if(G(o)<1)break;const Fe=F(o,1);ce=(Fe[0]&128)===128,z=Fe[0]&127,z<126?m=3:z===126?m=1:m=2}else if(m===1){if(G(o)<2)break;const Fe=F(o,2);z=new DataView(Fe.buffer,Fe.byteOffset,Fe.length).getUint16(0),m=3}else if(m===2){if(G(o)<8)break;const Fe=F(o,8),Ve=new DataView(Fe.buffer,Fe.byteOffset,Fe.length),Be=Ve.getUint32(0);if(Be>Math.pow(2,21)-1){Le.enqueue(te);break}z=Be*Math.pow(2,32)+Ve.getUint32(4),m=3}else{if(G(o)<z)break;const Fe=F(o,z);Le.enqueue(g(ce?Fe:c.decode(Fe),t)),m=0}if(z===0||z>a){Le.enqueue(te);break}}}})}const f=4;function _(a){if(a)return A(a)}function A(a){for(var t in _.prototype)a[t]=_.prototype[t];return a}_.prototype.on=_.prototype.addEventListener=function(a,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(t),this},_.prototype.once=function(a,t){function o(){this.off(a,o),t.apply(this,arguments)}return o.fn=t,this.on(a,o),this},_.prototype.off=_.prototype.removeListener=_.prototype.removeAllListeners=_.prototype.removeEventListener=function(a,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+a];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var m,z=0;z<o.length;z++)if(m=o[z],m===t||m.fn===t){o.splice(z,1);break}return o.length===0&&delete this._callbacks["$"+a],this},_.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),o=this._callbacks["$"+a],m=1;m<arguments.length;m++)t[m-1]=arguments[m];if(o){o=o.slice(0);for(var m=0,z=o.length;m<z;++m)o[m].apply(this,t)}return this},_.prototype.emitReserved=_.prototype.emit,_.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},_.prototype.hasListeners=function(a){return!!this.listeners(a).length};const M=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function k(a){for(var t=arguments.length,o=new Array(t>1?t-1:0),m=1;m<t;m++)o[m-1]=arguments[m];return o.reduce((z,ce)=>(a.hasOwnProperty(ce)&&(z[ce]=a[ce]),z),{})}const P=M.setTimeout,ne=M.clearTimeout;function fe(a,t){t.useNativeTimers?(a.setTimeoutFn=P.bind(M),a.clearTimeoutFn=ne.bind(M)):(a.setTimeoutFn=M.setTimeout.bind(M),a.clearTimeoutFn=M.clearTimeout.bind(M))}const Ie=1.33;function xe(a){return typeof a=="string"?je(a):Math.ceil((a.byteLength||a.size)*Ie)}function je(a){let t=0,o=0;for(let m=0,z=a.length;m<z;m++)t=a.charCodeAt(m),t<128?o+=1:t<2048?o+=2:t<55296||t>=57344?o+=3:(m++,o+=4);return o}function $e(a){let t="";for(let o in a)a.hasOwnProperty(o)&&(t.length&&(t+="&"),t+=encodeURIComponent(o)+"="+encodeURIComponent(a[o]));return t}function Me(a){let t={},o=a.split("&");for(let m=0,z=o.length;m<z;m++){let ce=o[m].split("=");t[decodeURIComponent(ce[0])]=decodeURIComponent(ce[1])}return t}class ue extends Error{constructor(t,o,m){super(t),this.description=o,this.context=m,this.type="TransportError"}}class pe extends _{constructor(t){super(),this.writable=!1,fe(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,o,m){return super.emitReserved("error",new ue(t,o,m)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const o=g(t,this.socket.binaryType);this.onPacket(o)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,o){return o===void 0&&(o={}),t+"://"+this._hostname()+this._port()+this.opts.path+this._query(o)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const o=$e(t);return o.length?"?"+o:""}}const _e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ke=64,Ae={};let qe=0,ze=0,Ke;function mt(a){let t="";do t=_e[a%ke]+t,a=Math.floor(a/ke);while(a>0);return t}function gt(a){let t=0;for(ze=0;ze<a.length;ze++)t=t*ke+Ae[a.charAt(ze)];return t}function St(){const a=mt(+new Date);return a!==Ke?(qe=0,Ke=a):a+"."+mt(qe++)}for(;ze<ke;ze++)Ae[_e[ze]]=ze;let Et=!1;try{Et=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(a){}const Ut=Et;function Ot(a){const t=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Ut))return new XMLHttpRequest}catch(o){}if(!t)try{return new M[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(o){}}function r(){}function me(){}const Se=function(){return new Ot({xdomain:!1}).responseType!=null}();class De extends pe{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const m=location.protocol==="https:";let z=location.port;z||(z=m?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||z!==t.port}const o=t&&t.forceBase64;this.supportsBinary=Se&&!o,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const o=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let m=0;this.polling&&(m++,this.once("pollComplete",function(){--m||o()})),this.writable||(m++,this.once("drain",function(){--m||o()}))}else o()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const o=m=>{if(this.readyState==="opening"&&m.type==="open"&&this.onOpen(),m.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(m)};U(t,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,j(t,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",o=this.query||{};return this.opts.timestampRequests!==!1&&(o[this.opts.timestampParam]=St()),!this.supportsBinary&&!o.sid&&(o.b64=1),this.createUri(t,o)}request(t){return t===void 0&&(t={}),Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ge(this.uri(),t)}doWrite(t,o){const m=this.request({method:"POST",data:t});m.on("success",o),m.on("error",(z,ce)=>{this.onError("xhr post error",z,ce)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(o,m)=>{this.onError("xhr poll error",o,m)}),this.pollXhr=t}}class Ge extends _{constructor(t,o){super(),fe(this,o),this.opts=o,this.method=o.method||"GET",this.uri=t,this.data=o.data!==void 0?o.data:null,this.create()}create(){var t;const o=k(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this.opts.xd;const m=this.xhr=new Ot(o);try{m.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){m.setDisableHeaderCheck&&m.setDisableHeaderCheck(!0);for(let z in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(z)&&m.setRequestHeader(z,this.opts.extraHeaders[z])}}catch(z){}if(this.method==="POST")try{m.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(z){}try{m.setRequestHeader("Accept","*/*")}catch(z){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(m),"withCredentials"in m&&(m.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(m.timeout=this.opts.requestTimeout),m.onreadystatechange=()=>{var z;m.readyState===3&&((z=this.opts.cookieJar)===null||z===void 0||z.parseCookies(m)),m.readyState===4&&(m.status===200||m.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof m.status=="number"?m.status:0)},0))},m.send(this.data)}catch(z){this.setTimeoutFn(()=>{this.onError(z)},0);return}typeof document<"u"&&(this.index=Ge.requestsCount++,Ge.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=me,t)try{this.xhr.abort()}catch(o){}typeof document<"u"&&delete Ge.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Ge.requestsCount=0,Ge.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",et);else if(typeof addEventListener=="function"){const a="onpagehide"in M?"pagehide":"unload";addEventListener(a,et,!1)}}function et(){for(let a in Ge.requests)Ge.requests.hasOwnProperty(a)&&Ge.requests[a].abort()}const ft=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,o)=>o(t,0),Pt=M.WebSocket||M.MozWebSocket,Qt=!0,Zt="arraybuffer",ln=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Qs extends pe{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),o=this.opts.protocols,m=ln?{}:k(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(m.headers=this.opts.extraHeaders);try{this.ws=Qt&&!ln?o?new Pt(t,o):new Pt(t):new Pt(t,o,m)}catch(z){return this.emitReserved("error",z)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const m=t[o],z=o===t.length-1;E(m,this.supportsBinary,ce=>{const Te={};Qt||(m.options&&(Te.compress=m.options.compress),this.opts.perMessageDeflate&&(typeof ce=="string"?Buffer.byteLength(ce):ce.length)<this.opts.perMessageDeflate.threshold&&(Te.compress=!1));try{Qt?this.ws.send(ce):this.ws.send(ce,Te)}catch(Le){}z&&ft(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",o=this.query||{};return this.opts.timestampRequests&&(o[this.opts.timestampParam]=St()),this.supportsBinary||(o.b64=1),this.createUri(t,o)}check(){return!!Pt}}class bn extends pe{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const o=se(Number.MAX_SAFE_INTEGER,this.socket.binaryType),m=t.readable.pipeThrough(o).getReader(),z=K();z.readable.pipeTo(t.writable),this.writer=z.writable.getWriter();const ce=()=>{m.read().then(Le=>{let{done:Fe,value:Ve}=Le;Fe||(this.onPacket(Ve),ce())}).catch(Le=>{})};ce();const Te={type:"open"};this.query.sid&&(Te.data='{"sid":"'+this.query.sid+'"}'),this.writer.write(Te).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const m=t[o],z=o===t.length-1;this.writer.write(m).then(()=>{z&&ft(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Jn={websocket:Qs,webtransport:bn,polling:De},Js=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Xs=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function En(a){if(a.length>2e3)throw"URI too long";const t=a,o=a.indexOf("["),m=a.indexOf("]");o!=-1&&m!=-1&&(a=a.substring(0,o)+a.substring(o,m).replace(/:/g,";")+a.substring(m,a.length));let z=Js.exec(a||""),ce={},Te=14;for(;Te--;)ce[Xs[Te]]=z[Te]||"";return o!=-1&&m!=-1&&(ce.source=t,ce.host=ce.host.substring(1,ce.host.length-1).replace(/;/g,":"),ce.authority=ce.authority.replace("[","").replace("]","").replace(/;/g,":"),ce.ipv6uri=!0),ce.pathNames=ys(ce,ce.path),ce.queryKey=Xn(ce,ce.query),ce}function ys(a,t){const o=/\/{2,9}/g,m=t.replace(o,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&m.splice(0,1),t.slice(-1)=="/"&&m.splice(m.length-1,1),m}function Xn(a,t){const o={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(m,z,ce){z&&(o[z]=ce)}),o}class hn extends _{constructor(t,o){o===void 0&&(o={}),super(),this.binaryType=Zt,this.writeBuffer=[],t&&typeof t=="object"&&(o=t,t=null),t?(t=En(t),o.hostname=t.host,o.secure=t.protocol==="https"||t.protocol==="wss",o.port=t.port,t.query&&(o.query=t.query)):o.host&&(o.hostname=En(o.host).host),fe(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=o.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Me(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const o=Object.assign({},this.opts.query);o.EIO=f,o.transport=t,this.id&&(o.sid=this.id);const m=Object.assign({},this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Jn[t](m)}open(){let t;if(this.opts.rememberUpgrade&&hn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(o){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",o=>this.onClose("transport close",o))}probe(t){let o=this.createTransport(t),m=!1;hn.priorWebsocketSuccess=!1;const z=()=>{m||(o.send([{type:"ping",data:"probe"}]),o.once("packet",Je=>{if(!m)if(Je.type==="pong"&&Je.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;hn.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{m||this.readyState!=="closed"&&(Be(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{const Ce=new Error("probe error");Ce.transport=o.name,this.emitReserved("upgradeError",Ce)}}))};function ce(){m||(m=!0,Be(),o.close(),o=null)}const Te=Je=>{const Ce=new Error("probe error: "+Je);Ce.transport=o.name,ce(),this.emitReserved("upgradeError",Ce)};function Le(){Te("transport closed")}function Fe(){Te("socket closed")}function Ve(Je){o&&Je.name!==o.name&&ce()}const Be=()=>{o.removeListener("open",z),o.removeListener("error",Te),o.removeListener("close",Le),this.off("close",Fe),this.off("upgrading",Ve)};o.once("open",z),o.once("error",Te),o.once("close",Le),this.once("close",Fe),this.once("upgrading",Ve),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{m||o.open()},200):o.open()}onOpen(){if(this.readyState="open",hn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const o=this.upgrades.length;for(;t<o;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const o=new Error("server error");o.code=t.data,this.onError(o);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let m=0;m<this.writeBuffer.length;m++){const z=this.writeBuffer[m].data;if(z&&(o+=xe(z)),m>0&&o>this.maxPayload)return this.writeBuffer.slice(0,m);o+=2}return this.writeBuffer}write(t,o,m){return this.sendPacket("message",t,o,m),this}send(t,o,m){return this.sendPacket("message",t,o,m),this}sendPacket(t,o,m,z){if(typeof o=="function"&&(z=o,o=void 0),typeof m=="function"&&(z=m,m=null),this.readyState==="closing"||this.readyState==="closed")return;m=m||{},m.compress=m.compress!==!1;const ce={type:t,data:o,options:m};this.emitReserved("packetCreate",ce),this.writeBuffer.push(ce),z&&this.once("flush",z),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),t()},m=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?m():t()}):this.upgrading?m():t()),this}onError(t){hn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,o){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,o),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const o=[];let m=0;const z=t.length;for(;m<z;m++)~this.transports.indexOf(t[m])&&o.push(t[m]);return o}}hn.protocol=f;const qs=hn.protocol;function Bt(a,t,o){t===void 0&&(t="");let m=a;o=o||typeof location<"u"&&location,a==null&&(a=o.protocol+"//"+o.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=o.protocol+a:a=o.host+a),/^(https?|wss?):\/\//.test(a)||(typeof o<"u"?a=o.protocol+"//"+a:a="https://"+a),m=En(a)),m.port||(/^(http|ws)$/.test(m.protocol)?m.port="80":/^(http|ws)s$/.test(m.protocol)&&(m.port="443")),m.path=m.path||"/";const ce=m.host.indexOf(":")!==-1?"["+m.host+"]":m.host;return m.id=m.protocol+"://"+ce+":"+m.port+t,m.href=m.protocol+"://"+ce+(o&&o.port===m.port?"":":"+m.port),m}const eo=typeof ArrayBuffer=="function",_n=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,xs=Object.prototype.toString,to=typeof Blob=="function"||typeof Blob<"u"&&xs.call(Blob)==="[object BlobConstructor]",no=typeof File=="function"||typeof File<"u"&&xs.call(File)==="[object FileConstructor]";function Bn(a){return eo&&(a instanceof ArrayBuffer||_n(a))||to&&a instanceof Blob||no&&a instanceof File}function zn(a,t){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let o=0,m=a.length;o<m;o++)if(zn(a[o]))return!0;return!1}if(Bn(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return zn(a.toJSON(),!0);for(const o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&zn(a[o]))return!0;return!1}function qn(a){const t=[],o=a.data,m=a;return m.data=kn(o,t),m.attachments=t.length,{packet:m,buffers:t}}function kn(a,t){if(!a)return a;if(Bn(a)){const o={_placeholder:!0,num:t.length};return t.push(a),o}else if(Array.isArray(a)){const o=new Array(a.length);for(let m=0;m<a.length;m++)o[m]=kn(a[m],t);return o}else if(typeof a=="object"&&!(a instanceof Date)){const o={};for(const m in a)Object.prototype.hasOwnProperty.call(a,m)&&(o[m]=kn(a[m],t));return o}return a}function cn(a,t){return a.data=jn(a.data,t),delete a.attachments,a}function jn(a,t){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<t.length)return t[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let o=0;o<a.length;o++)a[o]=jn(a[o],t);else if(typeof a=="object")for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(a[o]=jn(a[o],t));return a}const so=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],oo=5;var dt;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(dt||(dt={}));class es{constructor(t){this.replacer=t}encode(t){return(t.type===dt.EVENT||t.type===dt.ACK)&&zn(t)?this.encodeAsBinary({type:t.type===dt.EVENT?dt.BINARY_EVENT:dt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let o=""+t.type;return(t.type===dt.BINARY_EVENT||t.type===dt.BINARY_ACK)&&(o+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(o+=t.nsp+","),t.id!=null&&(o+=t.id),t.data!=null&&(o+=JSON.stringify(t.data,this.replacer)),o}encodeAsBinary(t){const o=qn(t),m=this.encodeAsString(o.packet),z=o.buffers;return z.unshift(m),z}}function wn(a){return Object.prototype.toString.call(a)==="[object Object]"}class Tn extends _{constructor(t){super(),this.reviver=t}add(t){let o;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(t);const m=o.type===dt.BINARY_EVENT;m||o.type===dt.BINARY_ACK?(o.type=m?dt.EVENT:dt.ACK,this.reconstructor=new ts(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(Bn(t)||t.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(t),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let o=0;const m={type:Number(t.charAt(0))};if(dt[m.type]===void 0)throw new Error("unknown packet type "+m.type);if(m.type===dt.BINARY_EVENT||m.type===dt.BINARY_ACK){const ce=o+1;for(;t.charAt(++o)!=="-"&&o!=t.length;);const Te=t.substring(ce,o);if(Te!=Number(Te)||t.charAt(o)!=="-")throw new Error("Illegal attachments");m.attachments=Number(Te)}if(t.charAt(o+1)==="/"){const ce=o+1;for(;++o&&!(t.charAt(o)===","||o===t.length););m.nsp=t.substring(ce,o)}else m.nsp="/";const z=t.charAt(o+1);if(z!==""&&Number(z)==z){const ce=o+1;for(;++o;){const Te=t.charAt(o);if(Te==null||Number(Te)!=Te){--o;break}if(o===t.length)break}m.id=Number(t.substring(ce,o+1))}if(t.charAt(++o)){const ce=this.tryParse(t.substr(o));if(Tn.isPayloadValid(m.type,ce))m.data=ce;else throw new Error("invalid payload")}return m}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(o){return!1}}static isPayloadValid(t,o){switch(t){case dt.CONNECT:return wn(o);case dt.DISCONNECT:return o===void 0;case dt.CONNECT_ERROR:return typeof o=="string"||wn(o);case dt.EVENT:case dt.BINARY_EVENT:return Array.isArray(o)&&(typeof o[0]=="number"||typeof o[0]=="string"&&so.indexOf(o[0])===-1);case dt.ACK:case dt.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ts{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const o=cn(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function sn(a,t,o){return a.on(t,o),function(){a.off(t,o)}}const ro=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class vs extends _{constructor(t,o,m){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=o,m&&m.auth&&(this.auth=m.auth),this._opts=Object.assign({},m),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[sn(t,"open",this.onopen.bind(this)),sn(t,"packet",this.onpacket.bind(this)),sn(t,"error",this.onerror.bind(this)),sn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(){for(var t=arguments.length,o=new Array(t),m=0;m<t;m++)o[m]=arguments[m];return o.unshift("message"),this.emit.apply(this,o),this}emit(t){if(ro.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var o=arguments.length,m=new Array(o>1?o-1:0),z=1;z<o;z++)m[z-1]=arguments[z];if(m.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(m),this;const ce={type:dt.EVENT,data:m};if(ce.options={},ce.options.compress=this.flags.compress!==!1,typeof m[m.length-1]=="function"){const Fe=this.ids++,Ve=m.pop();this._registerAckCallback(Fe,Ve),ce.id=Fe}const Te=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!Te||!this.connected)||(this.connected?(this.notifyOutgoingListeners(ce),this.packet(ce)):this.sendBuffer.push(ce)),this.flags={},this}_registerAckCallback(t,o){var m=this,z;const ce=(z=this.flags.timeout)!==null&&z!==void 0?z:this._opts.ackTimeout;if(ce===void 0){this.acks[t]=o;return}const Te=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let Fe=0;Fe<this.sendBuffer.length;Fe++)this.sendBuffer[Fe].id===t&&this.sendBuffer.splice(Fe,1);o.call(this,new Error("operation has timed out"))},ce),Le=function(){m.io.clearTimeoutFn(Te);for(var Fe=arguments.length,Ve=new Array(Fe),Be=0;Be<Fe;Be++)Ve[Be]=arguments[Be];o.apply(m,Ve)};Le.withError=!0,this.acks[t]=Le}emitWithAck(t){for(var o=arguments.length,m=new Array(o>1?o-1:0),z=1;z<o;z++)m[z-1]=arguments[z];return new Promise((ce,Te)=>{const Le=(Fe,Ve)=>Fe?Te(Fe):ce(Ve);Le.withError=!0,m.push(Le),this.emit(t,...m)})}_addToQueue(t){var o=this;let m;typeof t[t.length-1]=="function"&&(m=t.pop());const z={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(function(ce){if(z!==o._queue[0])return;if(ce!==null)z.tryCount>o._opts.retries&&(o._queue.shift(),m&&m(ce));else if(o._queue.shift(),m){for(var Le=arguments.length,Fe=new Array(Le>1?Le-1:0),Ve=1;Ve<Le;Ve++)Fe[Ve-1]=arguments[Ve];m(null,...Fe)}return z.pending=!1,o._drainQueue()}),this._queue.push(z),this._drainQueue()}_drainQueue(t){if(t===void 0&&(t=!1),!this.connected||this._queue.length===0)return;const o=this._queue[0];o.pending&&!t||(o.pending=!0,o.tryCount++,this.flags=o.flags,this.emit.apply(this,o.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:dt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,o),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(m=>String(m.id)===t)){const m=this.acks[t];delete this.acks[t],m.withError&&m.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case dt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dt.EVENT:case dt.BINARY_EVENT:this.onevent(t);break;case dt.ACK:case dt.BINARY_ACK:this.onack(t);break;case dt.DISCONNECT:this.ondisconnect();break;case dt.CONNECT_ERROR:this.destroy();const m=new Error(t.data.message);m.data=t.data.data,this.emitReserved("connect_error",m);break}}onevent(t){const o=t.data||[];t.id!=null&&o.push(this.ack(t.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const m of o)m.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const o=this;let m=!1;return function(){if(!m){m=!0;for(var z=arguments.length,ce=new Array(z),Te=0;Te<z;Te++)ce[Te]=arguments[Te];o.packet({type:dt.ACK,id:t,data:ce})}}}onack(t){const o=this.acks[t.id];typeof o=="function"&&(delete this.acks[t.id],o.withError&&t.data.unshift(null),o.apply(this,t.data))}onconnect(t,o){this.id=t,this.recovered=o&&this._pid===o,this._pid=o,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const o=this._anyListeners;for(let m=0;m<o.length;m++)if(t===o[m])return o.splice(m,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const o=this._anyOutgoingListeners;for(let m=0;m<o.length;m++)if(t===o[m])return o.splice(m,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const o=this._anyOutgoingListeners.slice();for(const m of o)m.apply(this,t.data)}}}function Cn(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}Cn.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),o=Math.floor(t*this.jitter*a);a=(Math.floor(t*10)&1)==0?a-o:a+o}return Math.min(a,this.max)|0},Cn.prototype.reset=function(){this.attempts=0},Cn.prototype.setMin=function(a){this.ms=a},Cn.prototype.setMax=function(a){this.max=a},Cn.prototype.setJitter=function(a){this.jitter=a};class Un extends _{constructor(t,o){var m;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(o=t,t=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,fe(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((m=o.randomizationFactor)!==null&&m!==void 0?m:.5),this.backoff=new Cn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=t;const z=o.parser||s;this.encoder=new z.Encoder,this.decoder=new z.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var o;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(o=this.backoff)===null||o===void 0||o.setMin(t),this)}randomizationFactor(t){var o;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(o=this.backoff)===null||o===void 0||o.setJitter(t),this)}reconnectionDelayMax(t){var o;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(o=this.backoff)===null||o===void 0||o.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new hn(this.uri,this.opts);const o=this.engine,m=this;this._readyState="opening",this.skipReconnect=!1;const z=sn(o,"open",function(){m.onopen(),t&&t()}),ce=Le=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",Le),t?t(Le):this.maybeReconnectOnOpen()},Te=sn(o,"error",ce);if(this._timeout!==!1){const Le=this._timeout,Fe=this.setTimeoutFn(()=>{z(),ce(new Error("timeout")),o.close()},Le);this.opts.autoUnref&&Fe.unref(),this.subs.push(()=>{this.clearTimeoutFn(Fe)})}return this.subs.push(z),this.subs.push(Te),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(sn(t,"ping",this.onping.bind(this)),sn(t,"data",this.ondata.bind(this)),sn(t,"error",this.onerror.bind(this)),sn(t,"close",this.onclose.bind(this)),sn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(o){this.onclose("parse error",o)}}ondecoded(t){ft(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,o){let m=this.nsps[t];return m?this._autoConnect&&!m.active&&m.connect():(m=new vs(this,t,o),this.nsps[t]=m),m}_destroy(t){const o=Object.keys(this.nsps);for(const m of o)if(this.nsps[m].active)return;this._close()}_packet(t){const o=this.encoder.encode(t);for(let m=0;m<o.length;m++)this.engine.write(o[m],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,o){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const m=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(z=>{z?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",z)):t.onreconnect()}))},o);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const An={};function ns(a,t){typeof a=="object"&&(t=a,a=void 0),t=t||{};const o=Bt(a,t.path||"/socket.io"),m=o.source,z=o.id,ce=o.path,Te=An[z]&&ce in An[z].nsps,Le=t.forceNew||t["force new connection"]||t.multiplex===!1||Te;let Fe;return Le?Fe=new Un(m,t):(An[z]||(An[z]=new Un(m,t)),Fe=An[z]),o.query&&!t.query&&(t.query=o.queryKey),Fe.socket(o.path,t)}if(Object.assign(ns,{Manager:Un,Socket:vs,io:ns,connect:ns}),n.j!=15)var ss=n(51326);if(n.j!=15)var vt=n(47437);if(n.j!=15)var on=n(87612);if(n.j!=15)var bs=n(27814);const os=n.j!=15?2*1e3:null,rs=n.j!=15?24*1e3:null,Wn=n.j!=15?48*1e3:null,Hn=()=>{},io=()=>({destroy:Hn,reset:Hn,emitAsync:ao,emitLossy:Hn,getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),ao=async(a,t)=>({type:a,payload:t,isDummy:!0}),lo=a=>{let{query:{uId:t,fURL:o=globalThis.location.href.slice(0,128),uTag:m=vt.CH,vTag:z=bs.r,rKey:ce},lossyListenerMap:Te={},queueListenerMap:Le={},socketUrl:Fe=globalThis.location.origin,socketPath:Ve=vt.$r,usePolling:Be=!1}=a;if(!t||!ce)throw new Error("SKT bad query");const Je=(0,ss.I6)();let Ce,Ee=(0,p.wT)(),Re=0,Qe=null;const rt=()=>{Ce!==void 0&&(Ce.close(),Ce=void 0,Ee=(0,p.wT)(),jt=!1,Qe&&clearTimeout(Qe),Qe=null)},Ct=()=>{rt();const lt=new Un(Fe,{path:Ve,query:{uId:t,fURL:o,uTag:m,vTag:z,rKey:ce},transports:Be?["polling","websocket"]:["websocket"],timeout:Wn,reconnectionDelay:Math.round((os+rs)/2),reconnectionDelayMax:Wn,randomizationFactor:(rs-os)/(rs+os),closeOnBeforeunload:!1}).socket(vt.I4);lt.on("connect_error",We=>{console.log("[socket] connect_error",We),We.message.includes(vt.uB)&&(rt(),Je.dispatchEvent({type:vt.VU,payload:{error:We}})),Je.dispatchEvent({type:vt.Ei,payload:{error:We}})}),lt.on("connect",async()=>{console.log("[socket] connect");{const We=Date.now(),tt=await(0,p.hq)(Yt(vt.Ip),10*1e3,vt.Ip).catch(async ot=>{throw(0,I.et)(Ct,2*1e3),console.warn(vt.Ip,ot),Ee.reject(ot),ot}),Xe=Date.now();Re=tt-(We+Xe)*.5}Qe=(0,I.et)(()=>{!Ce||!Ce.connected||jt||Ct()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),Je.dispatchEvent({type:vt.zS}),Ee.resolve()});{let We=Promise.resolve();const tt=(Xe,ot)=>{const ct=We.then(Xe);return We=ct.then(Hn,kt=>{(0,on.p)("SKT-QA-"+ot,kt)}),ct};Je.clear();for(const[Xe,ot]of Object.entries(Te))lt.on(Xe,ct=>ot({type:Xe,payload:ct})),Je.addEventListener(Xe,ct=>{let{payload:kt}=ct;return ot({type:Xe,payload:kt})});for(const[Xe,ot]of Object.entries(Le))lt.on(Xe,ct=>tt(()=>ot({type:Xe,payload:ct}),Xe)),Je.addEventListener(Xe,ct=>{let{payload:kt}=ct;return tt(()=>ot({type:Xe,payload:kt}),Xe)})}Ce=lt};let jt=!1;const Yt=async(Xt,lt)=>{jt=!0;const{error:We,result:tt}=await(0,p.hq)(new Promise(Xe=>Ce.emit(Xt,lt,Xe)),42*1e3,"SKT-USR "+Xt).finally(()=>{jt=!1});if(We!==void 0)throw Object.assign(new Error(typeof We=="object"&&We.message||"SKT-USR "+Xt),We);return tt},wt=(Xt,lt)=>{Ce.volatile.emit(Xt,lt)};return Ct(),{destroy:rt,reset:Ct,emitAsync:Yt,emitLossy:wt,getIsConnected:()=>Ce&&Ce.connected||!1,getSocketId:()=>Ce&&Ce.id||"",getReadyPromise:()=>Ee.promise,getOffsetMsec:()=>Re}};var gn=n(41011),Jt=n(29158),Sn=n(26812),zt=n(38047);if(n.j!=15)var Mt=n(69415);if(n.j!=15)var Ht=n(86033);var fn=n(8984);const Ln=0,_s={cDebugMin:Ln,cCmtPack:Ln+1,cCmtThread:Ln+2,cCmtContent:Ln+3,cDebugMax:35},Mn=(0,fn.W)("cmt-type",_s),ws=Mn.pack("cCmtPack"),Vn=Mn.pack("cCmtThread"),On=Mn.pack("cCmtContent"),Yo=new Set(["cCmtPack","cCmtThread","cCmtContent"]),$o=new Set([ws,Vn,On]);if(n.j!=15)var Cs=n(40093);const Ss={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},Ms=(0,fn.W)("DraftBlockType",Ss),co={left:0,center:1,right:2,justify:3},Kn=(0,fn.W)("DraftAlignment",co),uo={LINK:0,IMAGE:1},is=(0,fn.W)("DraftEntityMapType",uo),Ns={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},Is=(0,fn.W)("DraftEntityMapMutability",Ns),po={_blank:0,_self:1},Es=(0,fn.W)("DraftLinkTargetOption",po),ks=a=>{const t={};return Object.keys(a).forEach(o=>{const{type:m,mutability:z,data:ce}=a[o],Te=[is.pack(m),Is.pack(z)],Le=[];m==="LINK"?(Te.push(Es.pack(ce.targetOption)),Le.push(ce.url||"")):m==="IMAGE"&&(Te.push((0,Mt.c5)(ce.width),Kn.pack(ce.alignment)),Le.push(ce.src||"",ce.alt||"")),t["e/"+o]=[Te.join(Ht.xi),...Le]}),t},js=a=>{const t={};for(const o of Object.keys(a)){if(!o.startsWith("e/"))continue;const m=o.split("e/")[1],[z,...ce]=a[o],[Te,Le,Fe,Ve]=z.split(Ht.xi),Be=is.parse(Te),Je=Is.parse(Le);t[m]=Be==="LINK"?{type:Be,mutability:Je,data:{url:ce[0],targetOption:Es.parse(Fe)}}:{type:Be,mutability:Je,data:{src:ce[0],alt:ce[1],width:(0,Mt._3)(Fe),alignment:Kn.parse(Ve)}}}return t},ho=a=>{const t={};return Object.keys(a).forEach(o=>{const{text:m,type:z,depth:ce,inlineStyleRanges:Te,entityRanges:Le,data:{textAlign:Fe,textIndent:Ve,paraSpacing:Be}}=a[o],Je=[Ms.packDef(z,"unstyled"),(0,Mt.c5)(ce),Fe?Kn.pack(Fe):"",Ve!==void 0?(0,Mt.c5)(Ve):"",Be!==void 0?(0,zt.ZI)(Be):""];t["b/"+o]=[Je.join(Ht.xi),m,Te.map(Ce=>{let{offset:Ee,length:Re,style:Qe}=Ce;return xt(Ee,Re,Qe)}),Le.map(Ce=>{let{offset:Ee,length:Re,key:Qe}=Ce;return dn(Ee,Re,Qe)})]}),t},dn=(a,t,o)=>""+(0,Mt.c5)(a)+Ht.xi+(0,Mt.c5)(t)+Ht.xi+(0,Mt.c5)(o),mo=a=>{const t=a.indexOf(Ht.xi),o=a.indexOf(Ht.xi,t+1);return[(0,Mt._3)(a.slice(0,t)),(0,Mt._3)(a.slice(t+1,o)),(0,Mt._3)(a.slice(o+1))]},xt=(a,t,o)=>""+(0,Mt.c5)(a)+Ht.xi+(0,Mt.c5)(t)+Ht.xi+o,go=a=>{const t=a.indexOf(Ht.xi),o=a.indexOf(Ht.xi,t+1);return[(0,Mt._3)(a.slice(0,t)),(0,Mt._3)(a.slice(t+1,o)),a.slice(o+1)]},as=a=>{const t={};for(const o of Object.keys(a)){if(!o.startsWith("b/"))continue;const m=o.split("b/")[1],[z,ce,Te,Le]=a[o],[Fe,Ve,Be,Je,Ce]=z.split(Ht.xi),Ee={};Be!==""&&(Ee.textAlign=Kn.parse(Be)),Je!==""&&(Ee.textIndent=(0,Mt._3)(Je)),Ce!==""&&Ce!==void 0&&(Ee.paraSpacing=(0,zt.bp)(Ce)),t[m]={text:ce,type:Ms.parse(Fe),depth:(0,Mt._3)(Ve),inlineStyleRanges:Te.map(Re=>{const[Qe,rt,Ct]=go(Re);return{offset:Qe,length:rt,style:Ct}}),entityRanges:Le.map(Re=>{const[Qe,rt,Ct]=mo(Re);return{offset:Qe,length:rt,key:Ct}}),data:Ee}}return t},Ts=a=>{let{message:t}=a;const{blocks:o={},entityMap:m={}}=t;return{...ho(o),...ks(m)}},As=a=>({message:{blocks:as(a),entityMap:js(a)}}),Gn=a=>({T:Mn.pack(a.type),IC:[(0,Mt.c5)(a.index),(0,Mt.vH)(a.ctime)].join(Ht.xi)}),ls=a=>{const[t,o]=a.IC.split(Ht.xi);return{type:Mn.parse(a.T),index:(0,Mt._3)(t),ctime:(0,Mt.TT)(o)}},Ls=a=>({...Gn(a),R:a.refKey}),Os=a=>({...ls(a),refKey:a.R}),Zn=a=>({...Gn(a),...Ts(a),xy:(0,zt.x3)(a.x,a.y),wh:(0,zt.x3)(a.w,a.h),z:(0,zt.ZI)(a.z),userInfo:a.userInfo,userId:(0,zt.ZI)(a.userId),mtime:(0,Mt.vH)(a.mtime),isCompleted:(0,Cs.rK)(a.isCompleted),canvasVec2:a.canvasVec2?{x:(0,zt.ZI)(a.canvasVec2.x),y:(0,zt.ZI)(a.canvasVec2.y)}:a.canvasVec2,canvasCid:a.canvasCid,threadType:a.threadType}),Ps=a=>{const[t,o]=(0,zt.fm)(a.xy),[m,z]=(0,zt.fm)(a.wh),ce=a.canvasVec2?(0,zt.bp)(a.canvasVec2.x):void 0,Te=a.canvasVec2?(0,zt.bp)(a.canvasVec2.y):void 0,Le=(0,zt.bp)(a.z);return{...ls(a),...As(a),x:t,y:o,w:m,h:z,z:Le,mtime:(0,Mt.TT)(a.mtime),userInfo:a.userInfo,userId:(0,zt.bp)(a.userId),isCompleted:(0,Cs.Vf)(a.isCompleted),canvasCid:a.canvasCid,threadType:a.threadType,canvasVec2:ce&&Te?{x:ce,y:Te}:void 0}},fo=a=>({...Gn(a),...Ts(a),mtime:(0,Mt.vH)(a.mtime),userInfo:a.userInfo}),yo=a=>({...ls(a),...As(a),mtime:(0,Mt.TT)(a.mtime),userInfo:a.userInfo}),xo=a=>{try{switch(a.T){case void 0:return a;case ws:return Os(a);case Vn:return Ps(a);case On:return yo(a);default:throw new Error("invalid attr: "+a.T+" -> "+Mn.parse(a.T))}}catch(t){throw(0,on.p)("toP2CHA badDat",t,a),t}},Ds=a=>{try{switch(a.type){case void 0:return a;case"cCmtPack":return Ls(a);case"cCmtThread":return Zn(a);case"cCmtContent":return fo(a);default:throw new Error("invalid attr: "+a.type)}}catch(t){throw(0,on.p)("toP2CCA badDat",t,a),t}};if(n.j!=15)var vo=n(43972);const Rs=(a,t)=>{const o=Le=>{const Fe=a(Le);return Fe===void 0?[]:Fe.sub.map(Ve=>a(Ve))},m=(0,vo.MX)(Le=>Le.sub.map(Fe=>a(Fe))),z=(Le,Fe)=>{const Ve=a(Le);Ve!==void 0&&(Fe(Ve)||Ve.sub.length!==0&&m(Ve,Fe))};return{getHotItem:a,getSubHotItemList:o,walkHotItemSubtree:z,isTrashed:Le=>(0,Jt.DM)(Le,t.getFlatTree()),__devHotTree:function(Le){Le===void 0&&(Le=Jt.gT);const Fe=new Map,Ve=Be=>{let Je=Fe.get(Be);return Je===void 0&&Fe.set(Be,Je={}),Je};return z(Le,Be=>{Ve(Be.sup)[Be.key]=Be.hotAttr,Be.sub.length!==0&&(Ve(Be.sup)[Be.key+" SUB"]=Ve(Be.key))}),Ve(a(Le).sup)}}};if(n.j!=15)var Fs=n(97529);if(n.j!=15)var cs=n(78235);var bo=n(62124),tn=n(25037);if(n.j!=15)var _o=n(89989);const wo=(a,t,o)=>{const m=Ce=>{if(Ce===void 0||Ce.length===0)return;const Ee=new Set;for(const Qe of Ce)Ee.add(Qe.key),Qe.type==="I"&&Ee.add(Qe.keySup);const Re=(0,Jt.CF)([...Ee].filter(Jt.xe),o.getFlatTree());a({type:_o.a,payload:Re})},z=Ce=>{const Ee=[],Re=Ce(Ee);return m(o.applyDiff(Ee)),Re},ce=Ce=>z(Ee=>{const Re=[],Qe=Ce(Re);for(const rt of Re)rt.type==="update"?Ve(rt.hotItem,Ee):rt.type==="delete"&&Be(rt.key,Ee);return Qe}),Te=function(){const Ce=[],Ee=[];let Re,Qe=!1;for(var rt=arguments.length,Ct=new Array(rt),jt=0;jt<rt;jt++)Ct[jt]=arguments[jt];for(const Yt of Ct){Re=Yt(Ce);const wt=o.applyDiff(Ce);wt!==void 0&&(Ee.push(...wt),Qe?o.combineLastUndo():Qe=!0)}return m(Ee),Re},Le=function(){for(var Ce=arguments.length,Ee=new Array(Ce),Re=0;Re<Ce;Re++)Ee[Re]=arguments[Re];const Qe=Ee.map(rt=>Ct=>{const jt=[],Yt=rt(jt);for(const wt of jt)wt.type==="update"?Ve(wt.hotItem,Ct):wt.type==="delete"&&Be(wt.key,Ct);return Yt});return Te(...Qe)},Fe=(Ce,Ee)=>{for(const Re of Object.keys(Ce)){const Qe=Ce[Re],rt=Ee[Re];Qe!==rt&&(0,Fs.sw)(Qe)&&(0,Fs.sw)(rt)&&JSON.stringify(Qe)===JSON.stringify(rt)&&(Ce[Re]=rt)}},Ve=(Ce,Ee)=>{const Re=(0,Jt.PV)(Ce.key,o.getFlatTree());if(Re===void 0)Ee.push({type:tn.UF,key:Ce.key,keySup:Ce.sup}),Ee.push({type:tn.qC,key:Ce.key,attrDiff:Ds(Ce.hotAttr)});else{Re.sup!==Ce.sup&&Ee.push({type:tn.UF,key:Ce.key,keySup:Ce.sup});const Qe=Ds(Ce.hotAttr);Fe(Qe,Re.attr);const rt=(0,bo.m)(Qe,Re.attr);rt!==void 0&&Ee.push({type:tn.qC,key:Ce.key,attrDiff:rt})}},Be=(Ce,Ee)=>{o.getFlatItem(Ce)&&Ee.push({type:tn.UF,key:Ce,keySup:Jt.Ri})},Je=(Ce,Ee,Re)=>{o.getFlatItem(Ce)&&o.getFlatItem(Ee)&&Re.push({type:tn.UF,key:Ce,keySup:Ee})};return{_edit:z,_editAction:ce,_editBatch:Te,_editActionBatch:Le,onRemotePatchList:Ce=>{const Ee=[];for(const Re of Ce){const Qe=o.applyDiffRemote(Re.diffList,Re.clock);Qe!==void 0&&Ee.push(...Qe)}m(Ee)},updateHotItem:Ce=>z(Ee=>{Ve(Ce,Ee)}),updateHotItemBatch:Ce=>z(Ee=>{for(const Re of Ce)Ve(Re,Ee)}),deleteHotItem:Ce=>z(Ee=>{Be(Ce,Ee)}),deleteHotItemBatch:Ce=>z(Ee=>{for(const Re of Ce)Be(Re,Ee)}),moveHotItem:(Ce,Ee)=>z(Re=>{Je(Ce,Ee,Re)}),moveHotItemBatch:Ce=>z(Ee=>{for(const[Re,Qe]of Ce)Je(Re,Qe,Ee)}),editHotItemBatch:Ce=>z(Ee=>{for(const Re of Ce)Re.type==="update"?Ve(Re.hotItem,Ee):Re.type==="delete"&&Be(Re.key,Ee)}),updateHotAttrMerge:(Ce,Ee)=>z(Re=>{const Qe=t(Ce);if(Qe===void 0)throw new Error("no item: "+Ce);Ve((0,cs.MK)(Qe,"hotAttr",{...Qe.hotAttr,...Ee}),Re)}),updateHotAttrKV:(Ce,Ee,Re)=>z(Qe=>{const rt=t(Ce);if(rt===void 0)throw new Error("no item: "+Ce);Ve((0,cs.MK)(rt,"hotAttr",(0,cs.MK)(rt.hotAttr,Ee,Re)),Qe)}),canUndo:o.canUndo,canRedo:o.canRedo,combineMergeMark:o.combineMergeMark,combineMerge:o.combineMerge,undo:()=>{m(o.undo())},redo:()=>{m(o.redo())}}};var Pn=n(96737);const Co=a=>{const t=(0,ss.wz)(),o=t.subscribe,m=t.unsubscribe,z=Bs(a),ce=Rs(z,a),Te=()=>So(a.getFlatTree),Le=wo(t.send,z,a),{_edit:Fe,_editAction:Ve,_editBatch:Be,_editActionBatch:Je,...Ce}=Le;return{subscribe:o,unsubscribe:m,...ce,createRoCmtStore:Te,...Ce}},Bs=a=>t=>{const o=a.getFlatTree().get(t);if(o===void 0)return;const m=a.getOCI(o);return m.hotItem===void 0&&(m.hotItem={key:o.key,sup:o.sup,sub:o.sub,hotAttr:xo(o.attr)}),m.hotItem},So=a=>{const t=(0,Pn.b$)(a(),(0,gn.aF)({})),o=()=>t.getFlatTree()!==a(),m=()=>t.sync(a()),z=Bs(t),ce=Rs(z,t);return{hasUpdate:o,syncUpdate:m,...ce}};var Mo=n(83557),ds=n(8445);if(n.j!=15)var No=n(80730);if(n.j!=15)var Io=n(32182);var yn=n(51933),Nn=n(62732),In=n(55338);const us=a=>{const[t,o,m]=a,z=async()=>(0,Nn.BT)(In.r,t.tre),ce=async function(Be){Be===void 0&&(Be=-1);const Je=[];for(const{pbx:Ce,t10s:Ee}of o){if(Ee<Be)continue;const Re=(0,Io.CE)(await In.r.gunzipU8AAsync(new Uint8Array(Ce)));for(const Qe of(0,yn.Pb)(Re))Je.push(Qe)}for(const{pch:Ce,t10s:Ee}of m)Ee<Be||Je.push(Ce);return Je},Te=async function(Be){Be===void 0&&(Be=-1);const Je=[];for(const Ce of await ce(Be))Je.push((0,tn.iz)(Ce));return Je},Le=async function(Be){Be===void 0&&(Be=-1);const Je=[];for(const Ce of await ce(Be)){const{clock:Ee,diffList:Re}=(0,tn.iz)(Ce);Je.push([(0,gn._r)(Ee).slice(5),Re,Ce])}return Je};return{getParsedTre:z,getPchList:ce,getPatchList:Te,getReadablePatchList:Le,filterReadablePatchList:async function(Be,Je){return Je===void 0&&(Je=-1),(await Le(Je)).filter(Ce=>{let[,,Ee]=Ce;return Ee.includes(Be)})},getMergedReadablePatchList:async function(Be,Je){Be===void 0&&(Be=-1),Je===void 0&&(Je=16);const Ce=[];let Ee={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const Re=Qe=>{Ee.timePrefix!==Qe&&(Ee.timePrefix!==""&&Ce.push(Ee.timePrefix.slice(5)+"..Z I*"+(Ee.countDI||"-")+" A*"+(Ee.countDA||"-")+" ["+[...Ee.userIdSet].join(",")+"]"),Ee={timePrefix:Qe,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[Qe,rt],diffList:Ct}of await Te(Be)){const jt=new Date(Qe).toISOString().slice(0,Je);Re(jt),Ee.userIdSet.add(rt);for(const{type:Yt}of Ct)Yt===tn.UF?Ee.countDI++:Ee.countDA++}return Re(""),Ce},flpak:a}},zs=a=>Math.floor(a/10/1e3),Eo=a=>{const[t]=(0,tn.cx)(a);return zs(t)},Dn=a=>{let[t,o,m]=a;return m.length!==0?m[m.length-1].t10s:o.length!==0?o[o.length-1].t10s:t.t10s};if(n.j!=15)var Us=n(8113);if(n.j!=15)var ko=n(11311);if(n.j!=15)var jo=n(36272);const Yn=(a,t,o)=>{let m=!1,z=0,ce=0;const Te=new Map;let Le=[],Fe,Ve,Be,Je;const Ce=We=>{let[tt,,Xe]=We;if(tt!==a)return!1;const ot=(0,yn.vZ)(Xe);for(const ct of ot)Le.push([ct,Eo(ct),!1]);return Be!==void 0&&Be(ot.map(ct=>(0,tn.iz)(ct))),!0},Ee=async(We,tt,Xe)=>{if(Ve!==void 0)throw new Error("no re-init flatStore");Fe=We,Je=tt;let ot,ct,kt;if(Xe)try{kt=new Worker(new URL(n.p+n.u(338),n.b))}catch(Tt){console.error("[NotSupportWorker]",Tt)}if(kt){const Tt=location.hash.includes("INSP-INIT-FLPAK");ot=(0,jo.of)();const{token:Dt,passwd:Rt,onFetchError:un,onTransferItems:He,...ut}=Xe,{remote:Vt,destory:Kt}=(0,ko.B)(kt,{...ut,onTransferItems:(ms,zo,Uo)=>{ms.forEach((gs,Wo)=>{ot.set(Wo,gs)}),zo&&(He==null||He(zo,Uo))}}),nn=await Vt("initFlpakData",{token:Dt,passwd:Rt,flpakKey:a,inspectFlpak:Tt,skipVertify:location.hash.includes("BYPASS-FLPAK")||o!==!0}),{FetchError:xn,VertifyError:mn,flatTreeSize:Fn,fixedDiffMap:Ys}=nn;if(xn){const ms=Object.assign(new Error(xn.message),{status:xn.status});throw await un(ms),ms}if(mn)throw new Error(mn.message);if(Fn!==ot.getMap().size)throw new Error("flatTree lost items, expected: "+Fn+", got: "+ot.getMap().size);Tt||Kt(),ct=(0,Pn.OR)(Ys)}else{ct=(0,Pn.OR)();const Tt=await Je(a);{const Rt="INSP-INIT-FLPAK";location.hash.includes(Rt)&&Object.assign(globalThis,{[Rt+"/"+a]:{...us(Tt),__flpakKey:a,__name:t}})}z=Dn(Tt),ot=await(0,Nn.TN)(In.r,Tt,(Rt,un)=>(0,yn.qG)(Rt,un,ct.mutateTFAAFNB));let Dt=Jt.xL;{const Rt="BYPASS-FLPAK";location.hash.includes(Rt)&&(Dt=un=>console.warn("["+Rt+"|vFT]",un))}o===!0&&Dt(ot)}for(const[Tt,Dt,Rt]of Le)!Rt&&z>=Dt||(0,yn.qG)(ot,Tt,ct.mutateTFAAFNB);Ve=(0,Pn.b$)(ot,We,(Tt,Dt,Rt)=>{if(m&&console.log("flat|onPatch",{diffList:Tt,clock:Dt,isLocal:Rt}),Le.push([(0,tn.AO)({diffList:Tt,clock:Dt}),zs(Dt[0]),Rt]),Rt)return;const[un,He,ut,Vt]=Dt;ce=Math.max(ce,un);const Kt=(0,gn.au)(He,ut);if(Fe.selfCCK===Kt)throw new Error("unexpected selfCck: "+Kt);const nn=Te.get(Kt)||-1;nn>Vt&&console.warn("bad editId for cck: "+Kt+", last: "+nn+", new: "+Vt),Te.set(Kt,Vt)},(Tt,Dt)=>{console.warn("flat|requestResync",{error:Tt,message:Dt})}),Be=Tt=>{for(const Dt of Tt)Ve.applyDiffRemote(Dt.diffList,Dt.clock)};const Wt=ct.getFixDiffList(ot);Wt.length&&(Ve.applyDiff(Wt),Ve.resetUndo())},Re=We=>{Be=We},Qe=()=>Fe,rt=()=>Ve,Ct=async function(We){if(We===void 0&&(We=""),o===!0)try{if(!Ve||!z||!wt())return;const tt=Ve.getFlatTree(),[Xe,ot]=await(0,Nn.Vz)(In.r,tt);await(0,Us.hp)("//FSS/"+t+"/"+a,new Blob([ot],{type:"application/octet-stream"}),{message:We,treRawSize:Xe,treSize:ot.byteLength})}catch(tt){console.warn("saveSOS",We,tt)}},jt=async()=>{if(o===!0)try{const We=await(0,Us.Ey)("//FSS/"+t+"/"+a);if(We.length){console.warn("[loadSOS] found "+We.length+" record");const{data:tt,extra:Xe}=We[0];console.warn("[loadSOS] load record from "+new Date(Xe.time).toISOString());const ot=await(0,No.WL)(tt),ct=await(0,Nn.BT)(In.r,ot);return console.warn("[loadSOS] record tree: "+ct.slowSize()),{tree:ct,...Xe}}}catch(We){console.warn("loadSOS",We)}},Yt=async()=>{if(o===!0)try{return await(0,Us.EP)("//FSS/"+t+"/"+a)}catch(We){console.warn("freeSOS",We)}},wt=()=>{if(o!==!0)return!1;for(const[,,We]of Le)if(We)return!0;return!1};return{flpakKey:a,name:t,__setIsDev:We=>{m=We},onRemotePayloadSave:Ce,bind:Ee,useExtORPL:Re,getClockStore:Qe,getFlatStore:rt,saveSOS:Ct,loadSOS:jt,freeSOS:Yt,hasPatch:wt,preSettlePatch:()=>{if(o!==!0)return[];const We=[];for(const[tt,,Xe]of Le)Xe&&We.push(tt);return We},postSettlePatch:We=>{o===!0&&(Le=Le.filter(tt=>{let[Xe,ot,ct]=tt;return!ct||!We.includes(Xe)}))}}},Ws=(a,t,o)=>{let m,z;return{flpakKey:a,name:"[DUMMY]"+t,__setIsDev:ce=>{},onRemotePayloadSave:ce=>{let[Te,,Le]=ce;return!1},bind:async(ce,Te)=>{if(z!==void 0)throw new Error("no re-init flatStore");m=ce,z=(0,Pn.b$)((0,Jt.Id)(),ce)},useExtORPL:ce=>{},getClockStore:()=>m,getFlatStore:()=>z,saveSOS:async ce=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:ce=>{}}};if(n.j!=15)var To=n(45246);const Hs=n.j!=15?zt.x3:null,Ao=n.j!=15?zt.fm:null,Lo=a=>{const t=new Map;let o=!1,m=!1,z,ce,Te=()=>"";const Le=()=>{t.clear(),Be()};let Fe=0;const Ve=lt=>{const We={socketId:lt,index:Fe++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return t.set(lt,We),o=!0,We},Be=(0,p.Ds)(async()=>{if(await(0,I.Y_)(2*1e3),z===void 0)return;const lt=[];for(const{socketId:ot,lastStatAt:ct}of t.values())ct!==0&&lt.push(ot);for(const[ot,ct,kt]of await z([a,lt])){const Wt=t.get(ot)||Ve(ot);Wt.lastStatAt=Date.now(),Wt.stat=[ct,kt]}const[We,tt,Xe]=Ee;We&&ce&&ce([a,We,Hs(tt,Xe)])},lt=>{console.warn("_tPS",lt)}).trigger,Je=lt=>{let[We,tt,Xe]=lt;const[ot,ct]=Ao(Xe),kt=[ot,ct,tt],Wt=t.get(We)||Ve(We);Wt.lastCurAt=Date.now(),Wt.cur=kt,Wt.lastStatAt===0?Be():m=!0},Ce=lt=>{let[We,tt]=lt;const Xe=t.has(tt);We===0&&Xe&&(t.delete(tt),o=!0)};let Ee=["",NaN,NaN],Re=0;const Qe=function(lt){lt===void 0&&(lt=Ee[0]);const We=Te();if(We==="")return!1;for(const{socketId:tt,cur:Xe}of t.values())if(Xe&&Xe[2]===lt&&tt!==We)return!0;return!1},rt=function(lt,We,tt){We===void 0&&(We=zt.Ni),tt===void 0&&(tt=zt.Ni),!(Ee[0]===lt&&Ee[1]===We&&Ee[2]===tt)&&(Ee[0]!==lt&&(Re=1),!(!Re&&(t.size<2||!Qe(lt)))&&(Ee=[lt,We,tt],Re&&Re--,ce&&ce([a,lt,Hs(We,tt)])))},Ct=async(lt,We,tt)=>{if(z!==void 0)throw new Error("no re-init fetchCurStat");z=lt,ce=We,Te=tt},jt=()=>{const lt=Te(),We=[];if(lt==="")return We;for(const{socketId:tt,stat:Xe}of t.values()){if(Xe===void 0)continue;const[ot,ct]=Xe;lt===tt?We.unshift([tt,ot,ct]):We.push([tt,ot,ct])}return We},Yt=lt=>{const We=Te(),tt=[];if(We==="")return tt;for(const{socketId:Xe,index:ot,cur:ct,stat:kt}of t.values()){if(We===Xe||ct===void 0||kt===void 0)continue;const[Wt,Tt,Dt]=ct;if(Dt!==lt||Wt===zt.Ni)continue;const[Rt,un]=kt;tt.push([ot,Wt,Tt,Rt,un])}return tt},wt=()=>o?(o=!1,!0):!1,Xt=()=>m?(m=!1,!0):!1;return{flpakKey:a,__curStatMap:t,onSocketConnect:Le,onRemoteCur:Je,onRemoteSocket:Ce,hasOtherUser:Qe,tryPackCur:rt,bind:Ct,getRoomStat:jt,getSocketStat:jt,getCurStat:Yt,pollRoomChg:wt,pollCurChg:Xt,pollChange:Xt}},Oo=a=>{const t=()=>{},o=Be=>{let[Je,Ce,Ee]=Be},m=Be=>{let[Je,Ce]=Be},z=Be=>!1,ce=(Be,Je,Ce)=>{},Te=async(Be,Je,Ce)=>{},Le=()=>[],Fe=Be=>[],Ve=()=>!1;return{flpakKey:a,onSocketConnect:t,onRemoteCur:o,onRemoteSocket:m,hasOtherUser:z,tryPackCur:ce,bind:Te,getRoomStat:Le,getSocketStat:Le,getCurStat:Fe,pollRoomChg:Ve,pollCurChg:Ve,pollChange:Ve}},Vs=()=>{};let Ks=!1;const Po=a=>{Ks=a},Gs="dat",Do="cmt",Ro="mkt:dat",Fo="sclib:dat",Bo=async a=>{let{flpakKey:t,userId:o,uTag:m,token:z,passwd:ce,isDummyCmt:Te=!1,isAllowDat:Le=!1,isAllowCmt:Fe=!1,isAllowCur:Ve=!1,afterStoreCreate:Be=Vs,__fetchFlpakAsync:Je=ds.TP,onTransferError:Ce=Vs,workerOptions:Ee}=a;const Re=Yn(t,Gs,Le),Qe=(Te?Ws:Yn)((0,To.J6)(t),Do,Fe),rt=(Ve?Lo:Oo)(t);await Be({fssDat:Re});const Ct=async(He,ut)=>{await Re.saveSOS("OTE|"+He+"|"+ut),await Ce(He,ut)},jt=async He=>{const ut=ps(He);Rn(He)!=="Fch"&&(0,on.p)("fFS "+Rn(He),He),await Ct(ut,He)},Yt=(0,vt.LZ)({flpakKey:t,needDat:!!Le,needCmt:!!Fe,needCur:!!Ve}),wt=!o||!Yt?io():lo({query:{uId:String(o),uTag:m,rKey:Yt},usePolling:Ks,lossyListenerMap:{[vt.NX]:He=>{const{payload:ut}=He;rt.onRemoteCur(ut)}},queueListenerMap:{[vt.VU]:He=>{const{error:ut}=He;console.log("flat-ws drop-client",ut),Ct("4XX",ut)},[vt.Ei]:He=>{const{error:ut}=He;console.log("flat-ws error",ut),Ct("5XX",ut)},[vt.zS]:()=>{console.log("flat-ws (re)connected"),rt.onSocketConnect()},[vt.sP]:He=>{const{payload:ut}=He;Re.onRemotePayloadSave(ut)||Qe.onRemotePayloadSave(ut)||console.warn("drop save payload:",ut)},[vt.$7]:He=>{const{payload:ut}=He;console.log("flat-ws room cursor:",ut),rt.onRemoteSocket(ut)}}});await wt.getReadyPromise();const Xt=async(He,ut,Vt)=>{try{return await Je(He,{token:z,passwd:ce,skipTTre:String(ut||""),skipTPbxList:(Vt||[]).join("")})}catch(Kt){throw jt(Kt),Kt}},lt=Ee&&{...Ee,token:z,passwd:ce,onFetchError:jt};await Promise.all([Re.bind((0,gn.aF)({userId:o,mtimeOffset:wt.getOffsetMsec()}),Xt,lt).catch(He=>{throw(0,on.p)("bindDat",He),He}),Qe.bind((0,gn.aF)({userId:o,mtimeOffset:wt.getOffsetMsec()}),Xt).catch(He=>{throw(0,on.p)("bindCmt",He),He}),rt.bind(async He=>{try{if(wt.getIsConnected())return await wt.emitAsync(vt.Am,He)}catch(ut){await(0,I.Y_)(42*1e3)}return[]},He=>wt.getIsConnected()&&wt.emitLossy(vt.pL,He),wt.getSocketId).catch(He=>{throw(0,on.p)("bindCur",He),He})]);const We=new Error("[tracked-error]"),tt=async He=>{if(!He.hasPatch())return;const ut=He.preSettlePatch(),Vt=(0,yn.ok)((0,yn.oG)(ut));for(let Kt=0,nn=Vt.length;Kt<nn;Kt++){const xn=Vt[Kt];try{await wt.emitAsync(vt.s5,[He.flpakKey,xn.length,(0,yn.iM)(xn)])}catch(mn){const Fn=ps(mn);throw Fn==="5XX"&&(0,on.p)("saveFss "+Rn(mn),mn,He.name,He.flpakKey,Kt+1+"/"+nn,xn),await Ct(Fn,mn),We}}He.postSettlePatch(ut)},Xe=(0,p.Ds)(async()=>(0,p.g7)(async()=>{await tt(Re),await tt(Qe),await Re.freeSOS()},5*60*1e3,"lFFss.lA"),He=>{if(He===We)return;const ut=ps(He);(0,on.p)("lFFss "+Rn(He),He),Promise.resolve(Ct(ut,He)).catch(Vt=>{(0,on.p)("lFFss "+ut+" Err",Vt)})}),ot=(0,p.Ds)(async()=>{Xe.trigger(),await Xe.getRunningPromise();for(let He=0;He++<16;)!rt.hasOtherUser()&&await(0,I.Y_)(1e3)});setInterval(ot.trigger,2*1e3),Ve&&setInterval(()=>rt.onSocketConnect(),20*60*1e3);const ct=Re.getFlatStore(),kt=(0,Sn.uq)(Re.getFlatStore());Re.useExtORPL(kt.onRemotePatchList);const Wt=Co(Qe.getFlatStore());Qe.useExtORPL(Wt.onRemotePatchList);const Tt=()=>Re.hasPatch()||Qe.hasPatch(),Dt=(0,p.B1)(async()=>(0,p.JN)(async()=>{let He=0;for(;Tt();)await(0,I.Y_)(Math.min(He,5)*1e3),Xe.trigger(),await Xe.getRunningPromise(),He++})),Rt=()=>globalThis.MB.getSelectionItems()[0].key,un=(0,p.J9)(rt.tryPackCur,125);return{fssDat:Re,fssCmt:Qe,cssCur:rt,flatSocket:wt,flatStore:ct,sdkStore:kt,cmtStore:Wt,sendCur:un,hasSave:Tt,saveAsync:Dt,theTree:function(He){return He===void 0&&(He=Jt.gT),console.log((0,Jt.Wr)(ct.getFlatTree(),He))},hotTree:function(He){return He===void 0&&(He=Jt.gT),console.log(kt.__devHotTree(He))},slctTree:function(He){return He===void 0&&(He=Rt()),console.log(kt.__devHotTree(He))},upTree:function(He,ut){return He===void 0&&(He=Rt()),ut===void 0&&(ut=Jt.gT),console.log(kt.findUpHotItemList(He,ut))},newFFT:async function(He,ut,Vt){return Vt===void 0&&(Vt=ut.name+"-\u4FEE\u590D\u6570\u636E"),(0,Mo.Nc)(He,ut.team_cid,{...ut,name:Vt})},cmtTree:function(He){return He===void 0&&(He=Jt.gT),console.log(Wt.__devHotTree(He))}}},ps=a=>{const t=a&&a.status;return t>=400&&t<500?"4XX":String(a).toLowerCase().includes("timeout")?"Tot":"5XX"},Rn=a=>{const t=a&&a.status,o=[];t>=400&&o.push(String(t));const m=String(a).toLowerCase();return m.includes("timeout")&&o.push("Tot"),m.includes("fetch")&&o.push("Fch"),o.join("")||"Err"},hs=async a=>{let{flpakKey:t}=a;const o=Yn(t,Ro,!1),m=async(ce,Te,Le)=>(0,ds.TP)(ce,{skipTTre:String(Te||""),skipTPbxList:(Le||[]).join("")});return await o.bind((0,gn.aF)({}),m),{sdkStore:(0,Sn.uq)(o.getFlatStore())}},Zs=async a=>{let{flpakKey:t}=a;const o=Yn(t,Fo,!1),m=async(ce,Te,Le)=>(0,ds.O0)(ce,{skipTTre:String(Te||""),skipTPbxList:(Le||[]).join("")});return await o.bind((0,gn.aF)({}),m),{sdkStore:(0,Sn.uq)(o.getFlatStore())}}},49612:(Ne,ie,n)=>{"use strict";n.d(ie,{$I:()=>te,Rj:()=>Q,SR:()=>p,Tq:()=>B,UP:()=>Z});var s=n(27660);let p=function(E){return E.AIAssistant="AIAssistant",E.Page="Page",E.Flow="flow",E.Mind="mind",E.Table="table",E.Chart="chart",E.AutoFill="autofill",E.Semantic="semantic",E.Component="Component",E.PageV9="PageV9",E.Chat="Chat",E}({}),I=function(E){return E.page="page",E.component="component",E.other="other",E.semantic="semantic ",E}({}),u=function(E){return E.hot="hot",E.other="other",E.semantic="semantic ",E}({});const B="GENERATE_AI_COMPONENT",te=(0,s.R)(()=>[{label:I18N.ChatGPT.ai_prototype,title:I18N.ChatGPT.ai_prototype_title,type:p.PageV9,points:400,recommends:[I18N.ChatGPT.ai_prototype_label_1,I18N.ChatGPT.ai_prototype_label_2,I18N.ChatGPT.ai_prototype_label_3],aiType:"\u751F\u6210\u539F\u578B\u9875\u9762",source:"",menu:I.page,hotMenu:u.hot,icon:"chatGPT/ai-component-page",desc:I18N.ChatGPT.ai_prototype_desc,className:"ai-page",componentTitle:I18N.ChatGPT.ai_prototype_component_title},{label:B,title:I18N.ChatGPT.ai_component_title,type:p.Component,points:200,aiType:"\u751F\u6210AI\u7EC4\u4EF6",source:"",menu:I.component,hotMenu:u.hot,icon:"chatGPT/ai-component-component",desc:I18N.ChatGPT.ai_component_desc,className:"ai-component",componentTitle:I18N.ChatGPT.ai_component_component_title},{label:I18N.ArtBoard.flow,title:I18N.ChatGPT.ai_flow_title,type:p.Flow,points:200,recommends:[I18N.ChatGPT.ai_flow_label_1,I18N.ChatGPT.ai_flow_label_2,I18N.ChatGPT.ai_flow_label_3],aiType:"\u751F\u6210\u6D41\u7A0B\u56FE",source:"",menu:I.component,hotMenu:u.other,icon:"chatGPT/ai-component-flow",desc:I18N.ChatGPT.ai_flow_desc,className:"ai-flow",componentTitle:I18N.ChatGPT.ai_flow_component_title},{label:I18N.ArtBoard.mind,title:I18N.ChatGPT.ai_mind_title,type:p.Mind,points:200,recommends:[I18N.ChatGPT.ai_mind_label_1,I18N.ChatGPT.ai_mind_label_2,I18N.ChatGPT.ai_mind_label_3],aiType:"\u751F\u6210\u601D\u7EF4\u5BFC\u56FE",source:"",menu:I.component,hotMenu:u.other,icon:"chatGPT/ai-component-mind",desc:I18N.ChatGPT.ai_mind_desc,className:"ai-mind",componentTitle:I18N.ChatGPT.ai_mind_component_title},{label:I18N.w.table,title:I18N.ChatGPT.ai_table_title,type:p.Table,points:200,recommends:[I18N.ChatGPT.ai_table_label_1,I18N.ChatGPT.ai_table_label_2,I18N.ChatGPT.ai_table_label_3],aiType:"\u751F\u6210\u8868\u683C",source:"",menu:I.component,hotMenu:u.other,icon:"chatGPT/ai-component-table",desc:I18N.ChatGPT.ai_table_desc,className:"ai-table",componentTitle:I18N.ChatGPT.ai_table_component_title},{label:I18N.w.wChart,title:I18N.ChatGPT.ai_Chart_title,type:p.Chart,points:200,recommends:[I18N.ChatGPT.ai_wChart_label_1,I18N.ChatGPT.ai_wChart_label_2,I18N.ChatGPT.ai_wChart_label_3],aiType:"\u751F\u6210\u56FE\u8868",source:"",menu:I.component,hotMenu:u.other,icon:"chatGPT/ai-component-chart",desc:I18N.ChatGPT.ai_Chart_desc,className:"ai-chart",componentTitle:I18N.ChatGPT.ai_Chart_component_title},{label:I18N.ChatGPT.magic_fill,title:I18N.ChatGPT.ai_magicFill_title,type:p.AutoFill,points:200,recommends:[I18N.ChatGPT.ai_smart_fill_label_2,I18N.ChatGPT.ai_smart_fill_label_1,I18N.ChatGPT.ai_smart_fill_label_3],aiType:"\u667A\u80FD\u586B\u5145",source:"",menu:I.other,hotMenu:u.other,icon:"chatGPT/ai-component-autofill",desc:I18N.ChatGPT.ai_magicFill_desc,className:"ai-magic-fill"},{label:"\u8BED\u4E49\u5316",title:"AI \u8BED\u4E49\u5316",type:p.Semantic,points:200,recommends:["\u5E2E\u6211\u751F\u6210\u4E00\u4E2A\u7535\u5546\u7C7BAPP\uFF0C\u5E76\u4E14\u8F93\u5165\u4E00\u4EFDprd\u6587\u6863","`\u6211\u7231\u52A0\u73ED`\u3002\u8BF7\u5E2E\u6211\u628A\u4E0A\u9762\u8FD9\u6BB5\u8BDD\u8C03\u6574\u7684\u66F4\u52A0\u4E30\u5BCC\u751F\u52A8\u4E00\u70B9","\u5E2E\u6211\u751F\u6210\u4E00\u4EFD2022\u5E74\u56FD\u5BB6\u7ECF\u6D4E\u66F2\u7EBF\u56FE\u30012022\u5E74\u5404\u7701\u7ECF\u6D4E\u6536\u5165\u8868\u683C"],aiType:"MD\u8BED\u4E49\u5316",source:"AI\u8BED\u4E49\u5316\u9762\u677F",menu:I.semantic,hotMenu:u.semantic,icon:"chatGPT/ai-component-autofill",desc:I18N.ChatGPT.ai_magicFill_desc,className:"ai-magic-fill"}]),$=(0,s.R)(()=>[{title:I18N.ChatGPT.ai_prototype,items:te().filter(V=>V.menu===I.page)},{title:I18N.ChatGPT.ai_advanced_components,items:te().filter(V=>V.menu===I.component)},{title:I18N.ChatGPT.ai_magic_fill,items:te().filter(V=>V.menu===I.other)}]),Z=(0,s.R)(()=>[{title:I18N.ChatGPT.ai_hot_menu,items:te().filter(V=>V.hotMenu===u.hot)},{title:I18N.ChatGPT.ai_other_menu,items:te().filter(V=>V.hotMenu===u.other)}]),Q=(0,s.R)(()=>te().reduce((E,V)=>(E[V.type]=V,E),{}))},50159:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>u,u:()=>I});var s=n(41946),p=n.n(s);const I=(B,te)=>{if(!(B!=null&&B.cid))return-1;let $=0,Z="",Q=B;for(;Q&&!Q.root_project&&($=$+1,Z=Q.parent_cid,!!Z);)Q=te.get(Z);return $};function u(B){return B&&Object.entries(B).reduce((te,$)=>{let[Z,Q]=$;return Object.assign(te,{[p()(Z)]:Q})},{})}},51090:(Ne,ie,n)=>{"use strict";n.d(ie,{Aw:()=>u,L9:()=>p,ZJ:()=>Q,eP:()=>$,n9:()=>te,nw:()=>Z});var s=n(67787);const p=(0,s.AH)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),I=(0,s.AH)(['position:relative;pointer-events:none;&::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;cursor:not-allowed;pointer-events:auto;}']),u=(0,s.AH)(["position:relative;height:32px;padding-left:14px;padding-right:4px;display:flex;align-items:center;border:1px solid transparent;color:",";font-size:12px;cursor:pointer;.expander{width:12px;margin-left:-12px;color:",";}.editable-span,.editable-name{margin-right:14px;line-height:24px;border-radius:2px;&.is-editing{border-bottom-color:transparent;}}.actions{display:none;height:100%;padding-left:6px;.Dropdown > button{display:flex;padding:8px 10px 8px 0;}.action{margin-right:6px;font-size:12px;color:",";&:hover{color:",";}}&.is-active{display:flex;align-items:center;color:",";}}&:hover{.actions{display:flex;align-items:center;}}&:hover,&.hover{color:",";background:",";}&.active,&.is-active{color:",";background:",";}"],E=>E.theme.color_text_L2,E=>E.theme.color_text_disabled01,E=>E.theme.color_text_L2,E=>E.theme.color_text_L2,E=>E.theme.color_text_L1,E=>E.theme.color_text_L1,E=>E.theme.color_btn_secondary_hover,E=>E.theme.color_text_L1,E=>E.theme.color_btn_secondary_active),B=s.Ay.div.withConfig({displayName:"variables__StyledCustomTooltipInner",componentId:"sc-1k65wxr-0"})(["display:flex;align-items:center;height:22px;margin:-3px -7px;.tipsLeft{padding:0 8px;}.tipsRight{width:22px;line-height:22px;background-color:",";border-radius:0 2px 2px 0;color:#f2f4f5;}"],E=>E.theme.color_primary_brand01),te=(0,s.AH)(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;color:",";cursor:pointer;.fore{fill:",";}&:hover{color:",";.fore{fill:",";}}.svg-icon{width:24px;height:24px;}"],E=>E.theme.color_text_L2,E=>E.theme.color_text_L3,E=>E.theme.color_proto,E=>E.theme.color_proto),$=(0,s.AH)(["ul{.active,.select,.hover,li:hover,.rn-list-item:hover{& + li > .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}+ ul > li:first-child > .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}.rn-list-item:has(+ ul > li.active:first-child,+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}li{&:has(+ li.active,+ li.select,+ li.hover,+ li:hover){&.active,&.select,&.hover,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}.rn-list-item{border-radius:6px;&.context-menu-select{border-radius:6px;}}}li.active,li.select,li.dummy-select,li:hover{&:has(> ul > li.dummy-select){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}&:has(+ li.active,+ li.select,+li:hover){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}}ul{li.dummy-select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}&:has(+ li.dummy-select){> .rn-list-item{border-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-radius:0;}}}}}&:last-child,&:first-child{&:has(> ul){> .rn-list-item{border-radius:0;}}}}}}li.active,li.select,li.dummy-select,li:hover{& + li{&.active,&.select,&.dummy-select,&:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li{> .rn-list-item:hover{&:has(+ ul > li.active:first-child,+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}& + ul > li.active:first-child,& + ul > li.select:first-child,& + ul > li.hover:first-child,& + ul > li:first-child:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li:has(+ li:hover,+ li.select,+ li.active){ul > li:last-child{&.active,&.select,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}li:has(ul > li:last-child.active,ul > li:last-child.select,ul > li:last-child:hover){& + li:hover,& + li.select,& + li.active{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}"]),Z=(0,s.AH)(["ul{li{.rn-list-item{border-radius:6px;&.context-menu-select{border-radius:6px;}}}li.select,li.dummy-select,li:hover{&:has(> ul > li.dummy-select){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}&:has(+ li.select,+li:hover){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}}ul{li.dummy-select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}&:has(+ li.dummy-select){> .rn-list-item{border-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-radius:0;}}}}}&:last-child,&:first-child{&:has(> ul){> .rn-list-item{border-radius:0;}}}}}}li.select,li.dummy-select,li:hover{& + li{&.select,&.dummy-select,&:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li{> .rn-list-item:hover{&:has(+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}& + ul > li.select:first-child,& + ul > li.hover:first-child,& + ul > li:first-child:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li:has(+ li:hover,+ li.select){ul > li:last-child{&.select,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}li:has(ul > li:last-child.select,ul > li:last-child:hover){& + li:hover,& + li.select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}"]),Q=(0,s.AH)(["ul{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";li.MenuItem{a{height:28px;border-radius:4px;background:",";color:",";svg:not(.pure-svg-icon) path{fill:",";}.right-arrow svg > path{fill:",";}.shortfont kbd{color:",";}}&:not(.disabled).active{a{background:",";}}&.disabled{a{color:",";svg path{fill:",";}.shortfont kbd{color:",";}}}}}"],E=>E.theme.color_bg_border_01,E=>E.theme.color_text_L1,E=>E.theme.color_bg_white,E=>E.theme.shadow_m,E=>E.theme.color_bg_white,E=>E.theme.color_text_L1,E=>E.theme.color_text_L1,E=>E.theme.color_text_L3,E=>E.theme.color_text_L3,E=>E.theme.color_btn_secondary_hover,E=>E.theme.color_text_disabled01,E=>E.theme.color_text_disabled01,E=>E.theme.color_text_disabled01)},53008:(Ne,ie,n)=>{"use strict";n.d(ie,{CV:()=>V,EL:()=>O,Mb:()=>g,Mj:()=>b,O8:()=>U,R0:()=>E,RF:()=>N,R_:()=>J,Sy:()=>w,Uh:()=>ee,a2:()=>de,eH:()=>v,it:()=>j,jc:()=>K,kv:()=>Y,vt:()=>x,zM:()=>h});var s=n(81717),p=n(78401),I=n(79287),u=n.n(I),B=n(18183),te=n(18833),$=n(74222),Z=n(15515),Q=n(28932);const E=c=>c?[{value:"public",label:I18N.imockSharing.share_anyone_view},{value:"restricted",label:I18N.imockSharing.org_members_only}]:[{value:"public",label:I18N.imockSharing.share_anyone_view}],V=c=>{let{accessToken:G,targetKey:F,pageKey:se,view_mode:f,selection:_,page_begin:A,canvas_begin:M}=c;const k=(ne,fe)=>fe?"&"+ne+"="+fe:"";let P=""+location.origin+B.o$+"/"+G+"/sharing?view_mode="+(f||"read_only");return f==="read_only"?P=""+P+k("screen",se)+k("canvasId",F)+k("selection",_):f==="device"?P=""+P+k("screen",A!=null?A:se)+k("canvasId",M!=null?M:F)+k("selection",_):P=""+P+k("screen",se)+k("selection",_),P},ee=c=>c&&c.length>0?c[0]:"",J=(c,G,F,se)=>{const f=se?"  \u5BC6\u7801\uFF1A"+se:"";return c+" #"+(0,p.qk)(G)+"-"+(0,p.qk)(F||"\u5206\u4EAB")+f},de=c=>""+(["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin)+B.o$+"/"+c,Y=c=>{const{project:G,action:F,linkName:se,isFromScreenList:f}=c;s.Y4.trackShareProjectAction({project_type:"\u539F\u578B V8",source:f?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,s.IQ)(),project_name:G.name,project_cid:G.cid,share_link_action:F,share_link_name:se})},O=c=>{if(!c)return!1;const{created_at:G}=c;return u()(G).isBetween(u()().subtract(3,"days"),u()())},N=c=>Object.entries(c).filter(F=>{let[se,f]=F;return!f.hotAttr.asFolder&&se!==$.$k}).map(F=>F[0]),b=(c,G,F)=>{if(c)return F.length;let se=0;return G==null||G.forEach(f=>{F.find(A=>A===f)&&(se+=1)}),se},w=(c,G)=>{if(G.screen_visible_switch){const{selectedSize:F,pageSize:se}=g(c,G);return F+"/"+se}else return I18N.imockSharing.all},g=(c,G)=>{const F=N(c.pageAttrMap),se=b(!G.screen_visible_switch,G.screen_visible_list,F);return{pageSize:F.length,selectedSize:se}},x=c=>{const G={},F=[],se=new Map;for(const[A,M,k]of c)if(k.type==="rResBunch"){A!==$.$k&&F.push(A),G[A]={hotAttr:k},se.get(A)||se.set(A,[]);const P=se.get(M);Array.isArray(P)&&se.set(M,[...P,A])}const f=A=>{let M=[];for(const P of se.get(A))M.push(f(P));M=M.sort((P,ne)=>P.data.zIndex-ne.data.zIndex);const{hotAttr:k}=G[A];return{cid:A,data:{cid:A,...k},children:M}},_=f("B@main");return{pageAttrMap:G,pageKeyList:F,treeData:_}};function h(c,G,F){let se=I18N.imockSharing.share;return G&&(se=se+" "+(G.length+1)),{project_cid:c,view_access:"public",screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,view_sticky:!0,comment_permission:"org_member",is_default_link:!1,password:"",device_model:"read_only",view_prd:!1,expire_type:"forever",sticky:!1,...F,link_name:se,type:"advanced"}}const v=async c=>{let{updateType:G,org:F,updateFn:se,updatedKV:f,isCustom:_}=c;const A=()=>{const k=(F==null?void 0:F.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:k}),window.top&&window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:k}}),"*")},M=()=>{if(!_&&G==="update"){const k={sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}};try{f!=null&&f.expire_type?MB.notice({text:I18N.imockSharing.sharing_hasRest,type:"success"}):MB.notice({text:I18N.imockSharing.setting_valid})}catch(P){window.top&&window.top.postMessage(JSON.stringify(k),"*")}}};try{const k=await se();if(k)return M(),k}catch(k){await(0,te.m0)(k,A)}},j=c=>{let{value:G,currentSharing:F,sharingList:se}=c,f=!1;for(const _ of se)if(_.cid!==F.cid&&G===_.link_name){f=!0;break}return f},U=(c,G,F,se)=>{let f;if(G.type==="default"){const A=new URLSearchParams(location.search),M=A.get("view_mode")||(0,Z.Yt)(c.cid+"_default_sharing_view_mode","read_only",Z.qW.String),k=A.get("selection"),P=A.get("screen"),ne=A.get("canvasId");f=V({accessToken:G.access_token,view_mode:M,page_begin:G.is_first_canvas_open?"":P,canvas_begin:G.is_first_canvas_open?"":ne,selection:k,pageKey:G.is_first_canvas_open?"":F})}else G.screen_visible_switch?F&&G.screen_visible_list.includes(F)?f=V({accessToken:G.access_token,view_mode:G.device_model,pageKey:G.is_first_canvas_open?"":F}):f=V({accessToken:G.access_token,view_mode:G.device_model}):f=V({accessToken:G.access_token,view_mode:G.device_model,pageKey:G.is_first_canvas_open?"":F});return se?f:J(f,c==null?void 0:c.name,G.link_name||"",G.password)},K=(c,G)=>G&&(G==null?void 0:G.otype)!=="personal"?Q.tz.InitialOrg(G).limitationSdk.prototypeLimit.pLimitation.max_project_share_count:c?Q.tz.InitialUser(c).limitationSdk.prototypeLimit.pLimitation.max_project_share_count:1},54190:(Ne,ie,n)=>{"use strict";n.d(ie,{A1:()=>K,A9:()=>j,CH:()=>mt,Cp:()=>s.Cp,E8:()=>g,F7:()=>Ae,G8:()=>ze,Gx:()=>J,Ip:()=>Et,Jm:()=>G,Kc:()=>Z,OJ:()=>b,PK:()=>r,Qs:()=>ue,Qy:()=>ne,SD:()=>Me,Tf:()=>V,V7:()=>v,Wr:()=>h,XG:()=>_e,Xw:()=>_,Yu:()=>E,bX:()=>O,cn:()=>Q,dC:()=>Ot,hY:()=>f,kZ:()=>k,l9:()=>w,ob:()=>M,qi:()=>de,r3:()=>F,s_:()=>ee,sw:()=>St,ty:()=>xe,up:()=>gt,vS:()=>Ie,vs:()=>qe,wR:()=>c,wZ:()=>Ut,yV:()=>$e,yk:()=>Ke,yr:()=>N});var s=n(16335),p=n(19249),I=n(49903),u=n(18833);if(n.j!=15)var B=n(98033);if(n.j!=15)var te=n(37253);const $=(me,Se)=>{const De=new Error("[NO SENTRY] "+me);return Object.assign(De,Se),De},Z=(me,Se)=>(0,p.DE)("/api/upper/web_v1/design/readonly_initial?access_token="+me+"&password="+Se),Q=async(me,Se)=>{const De=Se==="inspect"?"read_only":Se,Ge="/api/flat/web_v1/preview/initial?access_token="+me+"&view_mode="+De,et=await fetch(Ge,{credentials:"same-origin"}),ft=await et.json();if(et.status!==200)throw $("[fetchGetHead] failed with "+et.status+": "+Ge,{status:et.status,error_type:ft==null?void 0:ft.error_type});return ft},E=(me,Se)=>(0,p.SN)("/api/upper/web_v1/basics/"+me,{...Se}),V=async()=>{let me=[];try{const Se=await(0,p.DE)("/api/library/v4/recent_keywords");Se!=null&&Se.keywords&&(me=Se==null?void 0:Se.keywords)}catch(Se){(0,u.$r)()}return me},ee=()=>(0,p.sM)("/api/library/v4/recent_keywords"),J=me=>(0,p.Ds)("/api/library/v4/recent_keywords",{keyword:me}),de=async()=>{if((0,B.Z)())return Y();{var me;let Se;try{Se=await(0,p.DE)("/api/library/v3/project_upper/user_combo_groups")}catch(De){return await(0,u.FY)(De),{}}return{userComboGroupList:(me=Se)==null?void 0:me.user_combo_groups}}},Y=async()=>{var me;let Se;try{Se=await(0,p.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(De){return await(0,u.FY)(De),{}}return{userComboGroupList:(me=Se)==null?void 0:me.org_combo_groups}},O=async me=>{var Se;let{orgCid:De}=me,Ge;try{Ge=await(0,p.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+De)}catch(et){return await(0,u.FY)(et),{}}return{orgComboGroupList:(Se=Ge)==null?void 0:Se.org_combo_groups}},N=async me=>{const Se=await(0,s.Yk)(me.cid);if(!Se)return null;const{icon_group:De,market_template:Ge}=Se,{source:et,title:ft}=De||{},Pt=await(0,p.DE)(et),Qt=I.I1[ft]||ft||"svg",{iconGroupData:Zt}=(0,I.u2)(Pt,Qt);return{iconGroupData:Zt,marketTemplate:Ge}},b=async()=>{const me=MB.user.solo_org.cid;try{const{asset_groups:Se=[],assets:De}=await(0,p.Yo)("/api/library/v6/asset_groups?org_cid="+me);return{userAssetGroupList:Se,userAssets:De}}catch(Se){return(0,u.$r)(),{userAssetGroupList:[],userAssets:[]}}},w=async function(me){me===void 0&&(me="");const Se=me||MB.currentOrg.cid;try{const{asset_groups:De,assets:Ge}=await(0,p.Yo)("/api/library/v6/asset_groups?org_cid="+Se);return{orgAssetGroupList:De,orgAssets:Ge}}catch(De){return(0,u.$r)(),{orgAssetGroupList:[],orgAssets:[]}}},g=async me=>{if((0,B.Z)())return x(me);try{const{asset:Se,user_asset:De}=await(0,p.B7)("/api/library/v3/asset_data/me/search_by_url",{image_url:me});return{asset:Se,user_asset:De}}catch(Se){await(0,u.FY)(Se)}},x=async me=>{const Se=MB.user.solo_org.cid;try{const{asset:De,flat_asset:Ge}=await(0,p.B7)("/api/library/v6/assets/search_by_url",{image_url:me,org_cid:Se});return{asset:De,user_asset:Ge}}catch(De){await(0,u.FY)(De)}},h=async(me,Se)=>{try{const{asset:De,flat_asset:Ge}=await(0,p.B7)("/api/library/v6/assets/search_by_url",{image_url:me,org_cid:Se});return{asset:De,org_asset:Ge}}catch(De){await(0,u.FY)(De)}},v=async me=>{if((0,B.Z)())return U(me);try{const{user_asset_group:Se}=await(0,p.uP)("/api/library/v4/users/asset_groups/"+me.cid,{...me});return{user_asset_group:Se}}catch(Se){await(0,u.FY)(Se)}},j=async(me,Se)=>{const{name:De,parentCid:Ge=null,position:et}=Se,{asset_group:ft}=await(0,p.zi)("/api/library/v6/asset_groups",{org_cid:me,name:De,parent_cid:Ge,position:et});return{asset_group:ft}},U=async me=>{const{cid:Se,name:De,parent_cid:Ge,position:et}=me;try{const{asset_group:ft}=await(0,p.uP)("/api/library/v6/asset_groups/"+Se,{name:De,parent_cid:Ge,position:et});return{user_asset_group:ft}}catch(ft){await(0,u.FY)(ft)}},K=async me=>{const{cid:Se,name:De,parent_cid:Ge,position:et}=me;try{const{asset_group:ft}=await(0,p.uP)("/api/library/v6/asset_groups/"+Se,{name:De,parent_cid:Ge,position:et});return{org_asset_group:ft}}catch(ft){await(0,u.FY)(ft)}},c=async me=>{if((0,B.Z)())return se(me);try{return await(0,p.uP)("/api/library/v3/asset_data/me/assets/"+me.asset_cid,{...me})}catch(Se){await(0,u.FY)(Se)}},G=async me=>(await(0,p.SN)("/api/library/v6/asset_groups/",{asset_groups:me})).asset_groups,F=async(me,Se)=>{const{name:De,groupCid:Ge}=Se;return await(0,p.SN)("/api/library/v6/assets",{cids:me,name:De,group_cid:Ge})},se=async me=>{try{return await(0,p.uP)("/api/library/v6/assets",{...me})}catch(Se){await(0,u.FY)(Se)}},f=async me=>{let{cids:Se,...De}=me;try{return await(0,p.uP)("/api/library/v6/assets",{cids:Se,...De})}catch(Ge){await(0,u.FY)(Ge)}},_=async me=>{let{assetCid:Se,name:De,groupCid:Ge}=me;if((0,B.Z)())return A({assetCid:Se,name:De,groupCid:Ge});try{await(0,p.B7)("/api/library/v3/asset_data/me/assets",{cid,name:De,group_cid:Ge})}catch(et){await(0,u.FY)(et)}},A=async me=>{let{assetCid:Se,name:De,groupCid:Ge}=me;try{await(0,p.B7)("/api/library/v6/assets",{asset_cid:[Se],name:De,group_cid:Ge})}catch(et){await(0,u.FY)(et)}},M=async me=>{let{assetCid:Se,name:De,groupCid:Ge}=me;try{const et=await(0,p.B7)("/api/library/v6/assets",{asset_cid:[Se],name:De,group_cid:Ge});return et==null?void 0:et.cid}catch(et){await(0,u.FY)(et)}},k=async me=>{let{org_cid:Se,name:De,group_cid:Ge}=me;if((0,B.Z)())return P({org_cid:Se,name:De,group_cid:Ge});try{return(0,p.B7)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid,org_cid:Se,org_asset_group_cid})}catch(et){await(0,u.FY)(et)}},P=async me=>{let{org_cid:Se,name:De,group_cid:Ge}=me;try{return(0,p.B7)("/api/library/v6/asset_groups",{org_cid:Se,name:De,parent_cid:null,group_cid:Ge,position:-99})}catch(et){await(0,u.FY)(et)}},ne=async me=>{(0,B.Z)()?await fe(me):await(0,p.sM)("/api/library/v3/asset_data/me/assets/"+me.cid)},fe=async me=>{await(0,te.uz)("/api/library/v6/assets",{cids:[me.cid]})},Ie=async me=>{await(0,te.uz)("/api/library/v6/assets",{cids:[me.cid]})},xe=async me=>{(0,B.Z)()?await je(me):await(0,p.sM)("/api/library/v3/asset_data/me/asset_groups/"+me)},je=async me=>{await(0,p.sM)("/api/library/v6/asset_groups/"+me)},$e=async me=>{await(0,p.sM)("/api/library/v6/asset_groups/"+me)},Me=me=>(0,p.iv)("/preferences/update",{...me}),ue=async(me,Se)=>{if((0,B.Z)())return pe(me,Se);try{return await(0,p.uP)("/api/library/v4/users/asset_groups/"+me,{...Se})}catch(De){await(0,u.FY)(De)}},pe=async(me,Se)=>{const De=MB.user.solo_org.cid;try{return await(0,p.uP)("/api/library/v6/asset_groups/"+me,{...Se,org_cid:De})}catch(Ge){await(0,u.FY)(Ge)}},_e=me=>async(Se,De)=>{try{const Ge={...De,org_cid:me};return await(0,p.uP)("/api/library/v6/asset_groups/"+Se,{...Ge})}catch(Ge){await(0,u.FY)(Ge)}},ke=async(me,Se)=>{let De=null;try{const Ge=await fetchGetJSONWithHeader("/api/community/v1/workspace?category="+me+"&plabel="+Se);Ge!=null&&Ge.market_templates&&(De=Ge==null?void 0:Ge.market_templates)}catch(Ge){retryErrorNotice()}return De},Ae=async(me,Se)=>{let De=null,Ge=null;try{const et=await(0,p.DE)("/flpak/ww-p2wsearch?"+me);if(et!=null&&et.data){const ft=et.data,{user_flat_assets:Pt,user_flat_asset_groups:Qt,org_flat_assets:Zt,org_flat_asset_groups:ln}=ft.asset||{};return De={...ft,asset:{user_assets:Pt,user_asset_groups:Qt,org_assets:Zt,org_asset_groups:ln}},Ge=et.p2mMMap,{data:De,p2mMMap:Ge}}}catch(et){(0,u.$r)({onClick:ft=>ft({type:"entry:search-panel:search:from:keyword",payload:{from:Se}})})}},qe=async me=>{let Se=null;try{const De=await(0,p.DE)("/flpak/ww-p2meta/"+me);De!=null&&De.length&&(Se=De)}catch(De){(0,u.$r)()}return Se},ze=async me=>{let{currentComboPanel:Se,projectMetaCid:De}=me;try{await(0,p.zi)("/flpak/ww-migrate-"+Se+"-combo-group/"+De+"?mode=normal")}catch(Ge){await(0,u.FY)(Ge)}},Ke=async me=>{let{projectBasicCid:Se}=me;try{const{userId:De,flatKey:Ge}=await(0,p.DE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+Se);return{userId:De,flatKey:Ge}}catch(De){await(0,u.FY)(De)}},mt=async me=>{let{projectBasicCid:Se,accessToken:De,password:Ge}=me;try{const{userId:et,flatKey:ft}=await(0,p.DE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+Se+"&access_token="+De+"&password="+Ge);return{userId:et,flatKey:ft}}catch(et){await(0,u.FY)(et)}},gt=me=>(0,p.DE)("/api/dsh2/web_v1/org_entry/"+me),St=async me=>{const{project:Se}=await(0,p.DE)("/api/dashboard/v5/projects/"+me);return Se},Et=async(me,Se)=>{await(0,p.SN)("/api/dashboard/v5/projects/"+me+"/cover",{project:Se})},Ut=async me=>(0,p.DE)("/api/upper/web_v1/basics/statstics/"+me),Ot=async()=>{try{const{result:me}=await(0,p.DE)("/api/community/v1/community/scene_tag_labels?label_type=combo_group");return me}catch(me){console.log(me)}},r=async me=>{try{const{stickers:Se}=await(0,p.zi)("/api/community/v1/sticker_search_es",{q:me,page:1,page_size:200});return Se}catch(Se){return console.log(Se),[]}}},54844:(Ne,ie,n)=>{"use strict";n.d(ie,{ER:()=>b,J_:()=>de,Or:()=>Q,QC:()=>h,X0:()=>O,Y5:()=>Y,aX:()=>x,dJ:()=>ee,g:()=>E,l1:()=>g,wi:()=>Z,yq:()=>V});var s=n(70768),p=n(56193),I=n(18833),u=n(19249),B=n(47163),te=n(15515),$=n(72214);const Z=async v=>{let{projectCid:j}=v;return(0,u.DE)("/api/upper/web_v1/sharing/initial?cid="+j)},Q=async v=>{let{projectCid:j,sharing:U}=v;return(await(0,u.zi)("/api/flat/web_v1/project_share/"+j,{...U})).project_share},E=async v=>{let{projectCid:j,sharingCid:U}=v;try{return await(0,u.OD)("/api/flat/web_v1/project_share/"+U+"?project_cid="+j)}catch(K){await(0,I.FY)(K)}},V=async v=>{let{sharing:j}=v;try{return await(0,u.SN)("/api/flat/web_v1/project_share/"+j.cid,{project_share:j})}catch(U){await(0,I.FY)(U)}},ee=async v=>{try{return await(0,u.DE)("/api/flat/web_v1/preview/visit_count/"+v)}catch(j){console.error(j)}},J=()=>{const v=document.getElementById("workspace");(0,s.createRoot)(v).render((0,$.jsx)(p.A,{locale:(0,B.w)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}))},de=async v=>{try{if(!v.accessToken||v.project.access_token===v.accessToken)return Y(v.project);{const{project:j,accessToken:U}=v,{project_share:K}=await(0,u.DE)("/api/flat/web_v1/project_share/"+j.cid+"?access_token="+U);return{sharing:{...K,type:"advanced",view_mode:K.device_model}}}}catch(j){await J()}},Y=v=>{const{cid:j,access_token:U,access:K,building:c,comment_permission:G,password:F,visibility:se,wechat:f,is_first_canvas_open:_}=v,A=new URLSearchParams(location.search),M=A.get("screen"),k=A.get("canvasId"),P=A.get("view_mode")||(0,te.Yt)(j+"_default_sharing_view_mode","read_only",te.qW.String),ne=A.get("view_mode")||(0,te.Yt)(j+"_default_sharing_view_mode","read_only",te.qW.String),fe=!!A.get("selection"),Ie=fe?A.get("selection").split(","):[];return{sharing:{type:"default",project_cid:j,access_token:U,view_access:K,view_sticky:c,comment_permission:G,password:F,visibility:se,wechat:f,view_mode:P,screen_visible_switch:fe,screen_visible_list:Ie,page_begin:M,canvas_begin:k,device_model:ne,is_first_canvas_open:_}}},O=async v=>{let{projectCid:j}=v;try{const{project_shares:U}=await(0,u.DE)("/api/flat/web_v1/project_share/"+j+"/all");return U.sort((K,c)=>new Date(c.created_at).getTime()-new Date(K.created_at).getTime())}catch(U){return await(0,I.FY)(U),[]}},N=async v=>{try{const{result:j}=await fetchGetJSON("/api/accesses/v4/project/"+v+"/permission_check?permission=P:update");return j}catch(j){await apiErrorModals(j)}},b=async v=>{let j=null;try{j=await(0,u.DE)("/flpak/ww-p2meta/"+v)}catch(U){await(0,I.FY)(U)}return j},w={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1,enable_version_record:!1,view_sticky:!0,is_first_canvas_open:!1},g=()=>({sharing:w}),x=async v=>{let j,U;try{j=await(0,u.DE)("/api/upper/web_v1/basics/"+v+"/get_details"),j&&JSON.stringify(j)!=="{}"&&(U=!0)}catch(K){j=K,U=!1}return{result:j,statusOk:U}},h=async v=>{let j,U;try{j=await(0,u.DE)("/api/dsh2/web_v1/permissions/can_edit_check?cid="+v),j&&JSON.stringify(j)!=="{}"&&(U=!0)}catch(K){j=K,U=!1}return{result:j,statusOk:U}}},55244:(Ne,ie,n)=>{"use strict";n.d(ie,{JQ:()=>ee,kZ:()=>Y,tg:()=>O,zW:()=>J});var s=n(79287),p=n.n(s),I=n(89022),u=n.n(I),B=n(13076),te=n.n(B);if(n.j!=15)var $=n(47163);function Z(b){return b<10?"0"+b:b}function Q(b,w,g){const x=new Date(b),h=x.getFullYear(),v=Z(x.getMonth()+1),j=Z(x.getDate()),U=Z(x.getHours()),K=Z(x.getMinutes());return w==="time"?U+":"+K:w==="datetime"?""+v+g+j+" "+U+":"+K:""+h+g+v+g+j+" "+U+":"+K}const E=n.j!=15?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"]:null;function V(b,w){const g=new Date(b),x=g.getFullYear(),h=E[g.getMonth()],v=Z(g.getDate()),j=Z(g.getHours()),U=Z(g.getMinutes());return w==="time"?j+":"+U:w==="datetime"?h+" "+v+" "+j+":"+U:h+" "+v+", "+x+" "+j+":"+U}function ee(b,w,g){if(w===void 0&&(w="datetime"),g===void 0&&(g="."),!b)return"";let x=b;typeof b!="number"&&(x=parseInt(b,10)),x.length===10&&(x=x*1e3);let h="";const v=(0,$.w)();return v==="zh-CN"?h=Q(x,w,g):(v==="en-US"||v==="en")&&(h=V(x,w,g)),h}function J(b,w){w===void 0&&(w=de());const g=w-b;let x="";if(g<=3*1e3)x=I18N.Common.just_now||"\u521A\u521A";else if(g>3*1e3&&g<60*1e3)x=Math.floor(g/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(g>=60*1e3&&g<60*60*1e3)x=Math.floor(g/(60*1e3))+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{x=ee(b,"full");const h=new Date(new Date().setHours(0,0,0,0)).getTime(),v=new Date(new Date().getFullYear(),0,1).getTime();b>v&&(x=ee(b,"datetime")),b>h&&(x=ee(b,"time"))}return x}function de(){return new Date().getTime()}const Y=b=>{p().locale(b==="zh-CN"?"zh-cn":b),p().extend(u()),p().extend(te())},O=()=>p()().isBefore("2024-10-06"),N=b=>new Promise(w=>setTimeout(w,b))},55769:()=>{"use strict";const Ne={},ie={},n={},s={}},56193:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>v});var s=n(25582),p=n.n(s),I=n(38502),u=n(67787),B=n(60719);const te=u.Ay.div.withConfig({displayName:"styled__StyledCrashedPage",componentId:"sc-8goufi-0"})(["position:fixed;top:50%;left:50%;transform:translateX(-50%) translateY(-55%);text-align:center;color:#666;.logo{margin:0 auto 40px;height:320px;.logo-clickable{cursor:pointer;}.svg-icon{width:600px;fill:none;}}.mobile &{.logo{width:100%;transform:scale(0.8);}.content{.title{font-size:20px;line-height:24px;}.proposal{width:290px;font-size:14px;line-height:20px;}}}p{margin:0;}.content{margin:40px auto;.title{font-weight:600;font-size:24px;line-height:24px;color:#1f292e;}.proposal{width:max-content;margin:12px auto 40px;font-style:normal;font-weight:normal;font-size:16px;line-height:20px;color:#415058;.count-detail{color:#1684fc;}}.text-left{text-align:left;margin-bottom:-12px;}.text-list{margin:0;padding-left:24px;}}.btn-list{display:grid;grid-auto-flow:column;gap:20px;justify-content:center;.btn{width:200px;height:48px;display:inline-block;border-radius:6px;font-size:16px;font-weight:500;line-height:46px;cursor:pointer;transition:all 0.2s ease-out;}.primary{color:",";background:",";border:1px solid transparent;&:hover{background:",";border:1px solid transparent;}&:active{background:",";border:1px solid transparent;}}.regular{color:",";background:",";border:1px solid ",";&:hover{background:",";border:1px solid ",";}&:active{background:",";border:1px solid ",";}}}"],B.f.color_text_btn.value_light,B.f.color_btn_primary_normal.value_light,B.f.color_btn_primary_hover.value_light,B.f.color_btn_primary_clicked.value_light,B.f.color_text_L1.value_light,B.f.color_bg_white.value_light,B.f.color_bg_border_02.value_light,B.f.color_btn_secondary_hover.value_light,B.f.color_bg_border_02.value_light,B.f.color_btn_secondary_active.value_light,B.f.color_bg_border_02.value_light);var $=n(72214);const Z="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='M145 243h66a2 2 0 0 0 2-2V122.6a2 2 0 0 1 1.6-2L333 94l-101.6 32.6a2 2 0 0 0-1.4 1.9v139a2 2 0 0 0 2.5 2l54-13'/%3E%3Cpath fill='%231F292E' d='M213 121.5v122l17 26V127l100.5-32.5-117.5 27Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M455 243h-38'/%3E%3Ccircle cx='251' cy='198' r='4' fill='%231F292E'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M250.4 182.2Zm2.3-3.2a24.2 24.2 0 0 1 2.7-1c.9-.3 3 .2 4.4 1.1.6.6-.5.2-2 .4l-1.9.4a22.7 22.7 0 0 0-5 2.4 5.2 5.2 0 0 1-.7.3 1.8 1.8 0 0 1-.3.1 1.2 1.2 0 0 1-.3 0 1 1 0 0 1-.6-.2 1 1 0 0 1-.4-.8 1 1 0 0 1 0-.4l.3-.4.5-.5 1-1a2.2 2.2 0 0 0 .2-.3.7.7 0 0 0 0-.1.9.9 0 0 0-.1-.1c-.4-.2-1-.4-2.3-.6a3.2 3.2 0 0 1-.3 0 1.6 1.6 0 0 1-.5-.2 1 1 0 0 1-.5-.9c0-.4.2-.7.3-.8l.6-.4.6-.3.5-.2a13 13 0 0 0 2.7-1.2l.9-.7v-.4c-.1-.2-.4-.6-1.3-1-.8-.6-2-1.1-3.7-1.7a2.6 2.6 0 0 1-.8-.5 1 1 0 0 1-.5-.9c-.1-.5.2-1 .4-1.1.3-.2.6-.4.9-.4 1.6-.4 4-1 5.9-2.8 1.7-1.5 3-4.2 1.8-9.2a2.3 2.3 0 0 1 0-1.2l.2-.4a1 1 0 0 1 1.6-.2c.2.1.3.3.3.4l.5 1c.8 2 3.5 4.9 6.7 6.7 1.2.7 1.2.8 0 .4-2.2-.6-5.6-2-7.3-4.6 1.3 4.3-.8 7-2.4 8.6a13.1 13.1 0 0 1-5.3 2.8c1.2.4 2 .9 2.8 1.3a5 5 0 0 1 2 2c.4.8.3 1.6-.1 2.2-.4.6-1 1-1.6 1.4l-1.7.9.6.2c.7.4 1.2 1 1.2 1.9Zm-2 0Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M292 163.5c61.2 5.2 103.5 55.5 117 80l-115 14-4-12.5 2-8-3-11 3-10 3.5-4v-13l7.5-7c-25-2-35-4-36.5-14.5.5-3.6 3.1-15.9 25.5-14Z'/%3E%3Cpath fill='%231F292E' fill-rule='evenodd' d='M363 191.1a219 219 0 0 1 46.8 51.6 1 1 0 1 1-1.6 1 217 217 0 0 0-46.5-51c-21.7-17-48.6-29.9-78.3-27.4-10.1.8-15 6.3-15.4 11.4-.4 5 3.6 10.6 12.8 11.8l5.2.6c5.4.7 11.2 1.4 16.5 2.4a70 70 0 0 1 12.1 3.2c3.5 1.3 6.5 3 8.5 5.4a1 1 0 0 1-1.6 1.3c-1.6-2-4.2-3.5-7.6-4.8a66.7 66.7 0 0 0-11.3-3c-3.5 2.3-7 6.7-7 12.9-.1 6.3 3.7 14.7 16 24.7 4.7 3.7 9.5 5 13.4 4.5a1 1 0 0 1 1.3-.3 11.1 11.1 0 0 0 1.2-.3c2-.7 3.6-2 4.6-3.7.8-1.4 1-3.2.7-5.3-4.2.6-7.4.3-9.7-.7-2-.8-3.2-2-4-3.6a8.5 8.5 0 0 1-.6-5.2c.3-1.5.8-3 1.6-4.5a26.7 26.7 0 0 1-2.2-2.8 7 7 0 0 1-1.2-2c-.4-.8-.6-1.5-.6-2.2a1 1 0 1 1 2 0c0 .3.1.7.4 1.3.2.6.6 1.2 1 1.8a24.1 24.1 0 0 0 1.7 2.1 29.4 29.4 0 0 1 19.1-11.4 1 1 0 0 1 .4 2c-5.7.8-10.5 3.2-14 6.3a22.1 22.1 0 0 0-4.3 5 1 1 0 0 1-.4.6 13 13 0 0 0-1.5 4.1c-.3 1.6-.1 3 .4 4 .5 1.1 1.5 2 3 2.7 3 1.3 8.2 1.3 16.3-1.3 3.7-1.5 6.9-2.2 9.3-2.1 2.5 0 4.5.8 5.6 2.1a5 5 0 0 1 .7 5.1 12 12 0 0 1-4.3 5.3c-8 6-7.5 11.8-6.6 13.5a1 1 0 1 1-1.8 1c-1.4-3-1.4-9.6 7.2-16 2-1.5 3.1-3.1 3.6-4.4.5-1.4.3-2.4-.3-3.2-.7-.7-2-1.4-4.1-1.4-2.1 0-5 .5-8.6 2l-6.1 1.6c.4 2.5 0 4.7-1 6.6a10.2 10.2 0 0 1-5.6 4.6 12.3 12.3 0 0 1-1.1.3c.6 2.9.4 6-.7 8.6a9.4 9.4 0 0 1-6.1 5.4c5 4.5 6.4 10 5.1 14.4a8.7 8.7 0 0 1-3 4.6c3.2 2.3 9 5 15.8 5a1 1 0 0 1 1 0 28 28 0 0 0 12.1-3.5 1 1 0 1 1 1 1.8 30 30 0 0 1-11.8 3.6 51.8 51.8 0 0 1 3.2 8c1.2 3.9 2 8.2 1.3 12a1 1 0 1 1-2-.4c.6-3.3 0-7.3-1.2-11-1-3.4-2.4-6.5-3.5-8.5-8 0-14.4-3.3-17.8-6-2 .8-4.6.8-7.2-.3-13.4-5.2-19.9-12-22.4-18.3-2.4-6-1.2-11.6.7-15.1a21.2 21.2 0 0 1-2.8-15.1c.8-4.5 3-8.3 5.6-10.2A17.5 17.5 0 0 1 300 193l-14.1-1.9a765.9 765.9 0 0 1-5.2-.7c-10-1.2-15-7.4-14.6-13.9.5-6.4 6.5-12.3 17.2-13.2 30.4-2.5 57.8 10.7 79.7 27.8Zm-68 23.2c2.3 5.5 7 11.7 15.3 18.4 5 4 10.3 5.5 14.7 5 .5 2.5.4 5.2-.5 7.4a7.7 7.7 0 0 1-6.7 4.6c-3 .3-7.1-.5-12.5-3a28.2 28.2 0 0 1-11.7-9.7 19.2 19.2 0 0 1-3-14.2 15 15 0 0 1 4.4-8.5Zm-2.2 25.2c-1.4 3-2.1 7.6-.1 12.5 2.2 5.7 8.2 12 21.2 17.2 2.3.9 4.3.8 5.8.2a1 1 0 0 1 .7-.3 6.5 6.5 0 0 0 3-4c1-3.7-.3-9.1-5.8-13.4-3.5.3-7.8-.7-13.2-3.3-5.2-2.5-9-5.6-11.6-9Zm75.4 17.1a1 1 0 0 1-.5 1.4 7.7 7.7 0 0 0-3.8 4.5 1 1 0 1 1-2-.5 9.7 9.7 0 0 1 5-5.8 1 1 0 0 1 1.3.4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",Q="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjMyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjUwLjUgMjk1LjVsLTctMzYgNi41LS41IDguNS0yIDktNSAzNCAyLjUgOCAzOC41LTU5IDIuNXoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl83ODc4XzE1MjE3KSIvPjxwYXRoIG9wYWNpdHk9Ii42IiBkPSJNNDM2LjE1MiAxNTguNWM1NC40LTUuMiA1OS4zMzQgNTQuMTY2IDU1IDg0LjVoLTMwOGMtMjIuOC00NiAxNy42NjctNjkuMTY3IDQ0LTczLjUtNDkuMzMzLTE1LjUtMTkuNS04OCAyOC41LTExNiAxMjIuMjU0LTcxLjMxNSAxMTIuNSAxMTEuNSAxODAuNSAxMDV6IiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXJfNzg3OF8xNTIxNykiLz48cmVjdCB4PSIyNjcuNjQ4IiB5PSIxNDQiIHdpZHRoPSIzOCIgaGVpZ2h0PSI5OCIgcng9IjMiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMjI5LjY0OCIgeT0iMTE0IiB3aWR0aD0iMzgiIGhlaWdodD0iMTI4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzNzkuNjQ4IiB5PSIxMjgiIHdpZHRoPSIyMSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjQwMC42NDgiIHk9IjE0NCIgd2lkdGg9IjI5IiBoZWlnaHQ9Ijk4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzMDUuNjQ4IiB5PSIxMjgiIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjMyNS42NDgiIHk9IjEzMC4yMzIiIHdpZHRoPSIyMi4yODkiIGhlaWdodD0iMTE2IiByeD0iNCIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1LjcyMyAzMjUuNjQ4IDEzMC4yMzIpIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSIxIDgiLz48cGF0aCBkPSJNMTc3LjY0OCAyNDJoMzEwIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGZpbGw9IiMxRjI5MkUiIGQ9Ik0zODAuNjQ4IDIwMGgxOXYxN2gtMTl6Ii8+PHBhdGggZmlsbD0iIzE2ODRGQyIgZD0iTTQwMS42NDggMTY4aDI5djE5aC0yOXoiLz48cGF0aCBmaWxsPSIjMUYyOTJFIiBkPSJNMzgwLjY0OCAyMjFoMTl2NGgtMTl6TTI2OC42NDggMTU5aDM2djEzaC0zNnoiLz48cGF0aCBkPSJNMjk1LjE0OCAxODNjOC0uOCAxNCA4LjMzMyAxNiAxM2wtNTAgMjEtMjQuNS0xNCAyLTQuNSA0LjUtOCA5LTMuNSA5IC41IDYuNS00LjUgNi0xLjUgNiAxLjUgNCA0Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI0Mi4xNDggMjA0bDY4LTctMi41IDU3LTU4LTItNy41LTQ4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0zMTAuMTQ4IDE5N2wuOTk5LjA0NC4wNTEtMS4xNTctMS4xNTIuMTE4LjEwMi45OTV6bS02OCA3bC0uMTAyLS45OTUtMS4wNDguMTA4LjE2MiAxLjA0MS45ODgtLjE1NHptNy41IDQ4bC0uOTg4LjE1NC4xMjguODE3LjgyNi4wMjguMDM0LS45OTl6bTU4IDJsLS4wMzQuOTk5YTEgMSAwIDAgMCAxLjAzMy0uOTU1bC0uOTk5LS4wNDR6bTIuMzk4LTU3Ljk5NWwtNjggNyAuMjA1IDEuOTkgNjgtNy0uMjA1LTEuOTl6bS02OC44ODYgOC4xNDlsNy41IDQ4IDEuOTc2LS4zMDgtNy41LTQ4LTEuOTc2LjMwOHptOC40NTQgNDguODQ1bDU4IDIgLjA2OS0xLjk5OC01OC0yLS4wNjkgMS45OTh6bTU5LjAzMyAxLjA0NWwyLjUtNTctMS45OTgtLjA4OC0yLjUgNTcgMS45OTguMDg4eiIgZmlsbD0iIzFGMjkyRSIvPjxwYXRoIGQ9Ik0yOTQuMTQ4IDE4Mi41YzgtLjggMTQgOC4zMzMgMTYgMTNsLTI5LjUgMTAuNS02LjUtM3YtOC41bDguNS04Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTMxMC42NDggMTk2Yy0yLTctMTEuMjEyLTE5LjY4Ni0yOC41LTguNS0xNyAxMS03LjUgMjUuNSA5LjUgMTRtLTgtMTQuOTIzYy0zLjgzMy0zLjY2Ny0xMi4wNi0xMC43MjItMjQgMi45MjMtNyA4IDAgMTcuNSAxNCA5TTI2MS4xNDggMTg3LjVjLTYtMi4xNjctMTkuNi0xLjUtMjQgMTQuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTg4LjE0OCAyMDZsNTktNC41IDEuNSA1Ny41LTYzLjUtMy41IDMtNDkuNXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIwMy42NDkgMTk3LjAzMWM1LjYtLjggMTAuMzMzIDQuNjY2IDEyIDcuNUwyMDguNSAyMDcuNWwtNiA1LjUtNC41IDctMSAxMCAzLjUgMTUgMS41IDktNCAxMi0yLjUgNy41LS41IDE3LjUtNzIgNC41IDIuNS0zMC41LTExLjUtMTYuNS01LjUtMTUuNXYtMTRsNy0xNCA4LTcgNSAxIDQuNSA5LjUgNi41LTguNDY5IDEwLTguMDMxIDcuNS41IDQuNSAzLTQuNSA0LjUzMWMxNS41LTEzLjAzMSAyMi4wNTctMy41MzEgMTkuNSAwIDguNC0xMS42IDE2LjgxNS00LjMzNCAyMC42NDkgMC0uMTY3LS42NjcuOS0yLjIgNi41LTN6IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfNzg3OF8xNTIxNykiLz48cGF0aCBkPSJNMTg3LjE0OCAyMTEuNWMzLjE4Ni02LjYxNiA2LjU3Ny0xMC40OTIgOS44OTQtMTIuNW0wIDBjNy41MTItNC41NDggMTQuNjM4LjQ5MSAxOC4xMDYgNS02LjAzNSAyLjE2Ny0xOC4xMDYgOS44LTE4LjEwNiAyMyAwIDE2LjUgMTEuMTA2IDI0LjUtMS44OTQgNDZ2MThtMS44OTQtOTJjLTUuMjk4LTUuODMzLTE4LjE5NC0xMS41LTI3LjM5NCAxMi41bTgtMTQuNWMtNC42NjYtNS4zMzMtMTYuNS05LjUtMjYuNSAxNi41IiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xNjEuNjQ3IDE5NmMtNC44MzMtNi4xNjctMTYuMDEyLTEwLjI0NC0zMS41IDE4LTUuMjEgOS41LTYgMjYtMSAzMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTMyLjY0OCAyMTBjLTEuMTY3LTYuODM0LTUuNi0xOC4xLTE0LTguNS0xMC41IDEyLTIwIDMxLjUgNi41IDYzbC0yIDMxTTMwMS4xNDggMjU0bDcuNSAzOU0yNDMuNjQ4IDI1OGw2LjUgMzcuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTM0OS42NjcgMTAxLjM5NWwuMDAxLjAwMS0uMDAxLS4wMDF6bTEuNTc0IDMuNTQ1YTI0LjEyNCAyNC4xMjQgMCAwIDEtLjUwMSAyLjgzMWMtLjIyLjkwNS0xLjY1IDIuNTA2LTMuMjI0IDMuMjYxLS43NTkuMjMzLjA5NS0uNDg4LjY3My0xLjgzNi4yMDMtLjQ1OC40MTYtMS4xMDcuNjA3LTEuODk3LjM4Mi0xLjU3Ni42NTItMy42MDUuNjExLTUuNThhNS4yNCA1LjI0IDAgMCAxIC4wMjUtLjcxNWMuMDEyLS4wOTUuMDMyLS4yMjMuMDc1LS4zNTNhMS4yIDEuMiAwIDAgMSAuMTMzLS4yNzUgMS4wMyAxLjAzIDAgMCAxIDEuMzYxLS4zNDdjLjE4OS4xMDMuMzAxLjI0LjM1My4zMS4xMDYuMTQ0LjE2NS4yOTQuMTk1LjM3OC4wNjkuMTkxLjEyNS40MzMuMTczLjY5Ni4wODguNDg1LjE4OS45NDcuMzI2IDEuMzIxLjA2OC4xODUuMTM1LjMyMi4xOTYuNDE4YS43ODUuNzg1IDAgMCAwIC4wNjkuMDkxLjg1Mi44NTIgMCAwIDAgLjE5MS0uMDljLjMzNi0uMTk3Ljg2My0uNjcxIDEuNjA3LTEuNjUzLjA3OS0uMTA1LjE2MS0uMjA2LjI0Ny0uMjk1YTEuNTcgMS41NyAwIDAgMSAuMzY4LS4yOTFjLjE1NS0uMDg1LjU2LS4yNTQgMS4wMTEtLjAyOC40MS4yMDUuNTMxLjU4MS41NjUuNzA2LjA3NC4yNy4wNS41NjUuMDM3LjcyMi0uMDE5LjIwMy0uMDUyLjQzOS0uMDkuNjgxbC0uMDgxLjUwNWMtLjE1MS45MjEtLjMyNiAxLjk5NS0uMzEgMi45MjIuMDEuNTU0LjA4OS45MjYuMTk3IDEuMTM3LjA3NC4xNDQuMTMuMTc4LjI2NS4xOS4yMzEuMDIuNzItLjA1NiAxLjU4Ny0uNTE4Ljg0NS0uNDUxIDEuOTQ3LTEuMjEzIDMuMzY3LTIuMzk5LjIyLS4xODQuNDctLjM0OS43NDEtLjQ1MS4yNTQtLjA5NC42NjYtLjE4MiAxLjA5LjAxLjQ3Ny4yMTYuNjc4LjY0OS43MzIuOTk5LjA1MS4zMjctLjAwNi42NTItLjA4OC45MzEtLjQ3NCAxLjYwNi0xLjE5NiA0LjA2My0uNjcxIDYuNDcxLjQ5NiAyLjI3OSAyLjE2OCA0LjczIDcuMDE3IDYuMjEzLjQwNS4xMjQuODE0LjM4OSAxLjA2Ni42OTYuMDY4LjA4NC4xNTcuMjA5LjIyMS4zNzFhMS4wOTMgMS4wOTMgMCAwIDEtLjYyNiAxLjQzNWMtLjIwNi4wOC0uNC4wODgtLjUyOC4wODRhMTIuMjc1IDEyLjI3NSAwIDAgMS0xLjEyMS0uMTE1Yy0yLjA2LS4yNjgtNS45Ni41OTYtOS4xMzcgMi4zOTYtMS4xOTUuNjc3LTEuMzUuNjE3LS4zNTMtLjMyNiAxLjYyOS0xLjU0MSA0LjUwOS0zLjc0NyA3LjY4LTMuODY0LTQuMzQ1LTEuMDItNS42ODMtNC4yMTUtNi4xNzMtNi40NjQtLjQ3My0yLjE3LS4xMjQtNC4zMTguMjc3LTUuOTIyLS45NzIuNzQ4LTEuODE3IDEuMzA3LTIuNTU0IDEuNy0uOTkyLjUyOS0xLjg5OC44MTYtMi43MDIuNzQ1LS45MDEtLjA3OS0xLjUyMS0uNTktMS44Ny0xLjI3MS0uMzE1LS42MTYtLjQwNS0xLjM1MS0uNDE3LTIuMDEzLS4wMS0uNjE0LjA0OC0xLjI3OC4xMjctMS45MDFhNC4zMDUgNC4zMDUgMCAwIDEtLjQ3LjMyM2MtLjcyMy40MjQtMS41MzEuNTMyLTIuMjQ2LjA3OWwtLjAyOC0uMDE4em0xLjAyOS0xLjY5MXMuMDA5LS4wMDMuMDIyIDBjLS4wMTYuMDAzLS4wMjIgMC0uMDIyIDB6IiBmaWxsPSIjRkY2MTYxIi8+PHBhdGggZD0iTTI1MC42NDggMjIzLjVsLTcgOS41TTMxMS42NDggMjE4bC03IDkuNU0yNTIuNjQ4IDIzMGwtNyA5LjVNMzEzLjY0OCAyMjQuNWwtNyA5LjUiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzg3OF8xNTIxNyIgeDE9IjI3My41IiB5MT0iMjU0LjUiIHgyPSIyNjYuMDk3IiB5Mj0iMjkxLjMwNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9Ii43MzEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzc4NzhfMTUyMTciIHgxPSIyMTAuMTUyIiB5MT0iMTI1IiB4Mj0iMzc3LjE1MiIgeTI9IjI4OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNFREY4RkYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGQUVGRkYiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl83ODc4XzE1MjE3IiB4MT0iMTg4IiB5MT0iMjU2IiB4Mj0iMTg2LjkyNiIgeTI9IjI5Mi41MjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIuNjc2IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=",E="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cg clip-path='url(%23a)'%3E%3Cpath fill='url(%23b)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%23fff' d='M195.3 213c-7.5-17.5-7.5-20-7.5-20l38.8-39.8c15.9 23.6 45.6 71.5 37.6 74.6a46 46 0 0 0-17.5 13.4h-63.1s19.2-10.5 11.7-28.1Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='10' d='M378 221.6c-29.5-66-56.2-32.1-109.5-78.5-52.2-34.8-99.8-36-117.2-16-38.6 44.2 90.6 76.6 34.4 112.9'/%3E%3Cpath fill='%23fff' d='M306 149.4c-12.4 6.4-15.5 16.6-15.5 21 0 16.7 14 13.4 21 9.6l14.1 15.5a67.3 67.3 0 0 1-37.1 22.6 97.9 97.9 0 0 0-42.2 23l-26-23 12.2-35.2-26-9.2c15.5-15 27.6-23.9 40.2-54.9 2.9-11.3 10.7-33 20-32.6 9.4.3 5.3 20.5 2.1 30.5 10.5-4.1 13.4 4.7 15.5 3.8 7-3 13.9 2.5 15.8 5.9 5-3 14.8-4.3 18.8 0 10.4 11 11.2 29.8 3.8 35.2 0 0-13.7-5.8-14.6-6.7-.4-.4-1.1-.4-2.1-5.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M306 149c1.5 3.3 4.5 10.5 8.6 13 5.3 3.4 17.6-1.5 12.1-22.5-5.5-21-22.7-23.4-49.4 4.5'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M300.4 125.4c-2.7-2.3-6.8-7.8-16-5m-23.2 17.2c10.2-10.7 17.7-15.5 23.3-17.2m0 0c-2.3-3.2-7.7-6.4-15.7-3.9m-20 15.3c7.8-9 14.5-13.5 20-15.3m0 0c2.8-7 8.3-26-2.3-30.4-15.1-6.3-13.2 35.3-36 62.4a561.6 561.6 0 0 1-43.1 45'/%3E%3Cpath fill='%23fff' d='m330.3 165.8-5.9.5-5.8 6-7.5 7.4-11.5 6.9-11.5 6.9 28.7 11.6 11-11.5 6.8-13.5-.2-10.7-4-3.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M310.8 146.3c-7.5 3.2-24.2 14.2-19 29 3.8 10.8 16.5 10.6 26.5-3.1 10-13.8 20.8-3.9 15.5 10.2-12 31.4-47 34.1-60 40.4-9.7 4.7-16.6 8.7-27.8 18.7'/%3E%3Ccircle cx='383.5' cy='234.5' r='17.5' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='381.5' cy='229.5' r='18.5' fill='%231684FC'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M329.7 261.3a1 1 0 0 1 .7-.3h139a1 1 0 0 1 .7 1.7l-17.8 16a1 1 0 0 1-.7.3h-139a1 1 0 0 1-.7-1.7l17.8-16Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M313.7 285.5a1 1 0 0 0 .9.5h139.7a1 1 0 0 0 .8-1.5l-2.8-5a1 1 0 0 0-.9-.5H311.7a1 1 0 0 0-.8 1.5l2.8 5ZM472 269.1a1 1 0 0 1-.3.7L457 285a1 1 0 0 1-1.6-.2l-2.9-5.1a1 1 0 0 1 .2-1.2l17.7-16a1 1 0 0 1 1.7.7v5.9Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='square' stroke-linejoin='round' stroke-width='4' d='M466 277.5c16.3 6.3 39.2 21.6 0 32-39.2 10.4-45 32.7-43 42.5'/%3E%3Crect width='2' height='6' x='342' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 342 267)'/%3E%3Crect width='2' height='6' x='392' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 392 267)'/%3E%3Crect width='2' height='6' x='429.9' y='267.1' fill='%231F292E' rx='1' transform='rotate(-31 429.9 267)'/%3E%3Crect width='2' height='6' x='351.9' y='266.1' fill='%231F292E' rx='1' transform='rotate(31 352 266.1)'/%3E%3Crect width='2' height='6' x='402.2' y='266.2' fill='%231F292E' rx='1' transform='rotate(36 402.2 266.2)'/%3E%3Crect width='2' height='6' x='440.6' y='266.3' fill='%231F292E' rx='1' transform='rotate(43 440.6 266.3)'/%3E%3Crect width='4' height='10' x='374' y='225' fill='%231F292E' rx='2'/%3E%3Crect width='4' height='10' x='385' y='225' fill='%231F292E' rx='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M406 190.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7v.5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1 1 0 0 1-.6.6h-.5a12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='b' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E",V="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Ccircle cx='165' cy='141.3' r='2.2' fill='%23FF6161'/%3E%3Ccircle cx='172.7' cy='141.3' r='2.2' fill='%23FFD361'/%3E%3Ccircle cx='180.5' cy='141.3' r='2.2' fill='%237BECB6'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.8 244.2-107 25.4a2 2 0 0 1-1.7-.3c-38.9-29-36-119.8-36-119.8l142.4-.8s7 37.9 23.5 49.4c1 .7.5 3.8-.6 3.9l-5 .4a1 1 0 0 0-.8 1.5l3.2 5.9a1 1 0 0 1-1.2 1.4l-11.7-4a1 1 0 0 0-1.3 1.4l1.8 3.6a1 1 0 0 1-1 1.4l-19-1.3c-1 0-1.5 1.2-.7 1.8l10.7 7.8a1 1 0 0 1 0 1.7l-3.4 2a1 1 0 0 0-.3 1.5l3.8 4.7a1 1 0 0 1-.6 1.7l-7.2 1.2a1 1 0 0 0-.2 2l12.5 5.6a1 1 0 0 1-.2 1.9Z'/%3E%3Cpath fill='%23F33' d='m226.1 198.2-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .6a.3.3 0 0 1-.3-.3Zm12.3-1-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .5a.3.3 0 0 1-.3-.2Zm19.7-15.2a.3.3 0 0 1 .3.3l.9 10.4v3a22.2 22.2 0 0 1-11.2 18.1.3.3 0 0 1-.4-.1l-3.4-6.1a.3.3 0 0 1 .2-.4c4.7-2.8 7.7-8 7.2-13.9l-.8-10.4a.3.3 0 0 1 .2-.3l7-.6Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9s33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m6.5 29.4c-.7-15.3-3.3-24.2-6.5-29.4m0 0c4-1 10.3.2 14.9 7.6m5.3 25.7c0-12.5-2.2-20.6-5.3-25.7m0 0c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 .7-1.6l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.4-.1l9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-1.4.8Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M410 106.7Zm.9 3.8a24.1 24.1 0 0 1-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.5-5.4 5.4 5.4 0 0 1 .3-1l.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8 1 1 0 0 0 .2 0c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3 1.4 1.4 0 0 1-.5 0l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2a4.3 4.3 0 0 1-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",ee="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Cpath fill='%23FF6161' d='M165 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23FFD361' d='M172.7 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%237BECB6' d='M180.5 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.6 241.5-107 25.4a2 2 0 0 1-1.6-.3c-39-29-36-119.7-36-119.7l142.3-.9s7 37.9 23.6 49.5c1 .6.5 3.7-.7 3.8l-5 .5a1 1 0 0 0-.9 1l.1.4 3.2 6a1 1 0 0 1-1.2 1.3l-11.7-4a1 1 0 0 0-1.2 1.4l1.7 3.7a1 1 0 0 1-1 1.4l-19-1.4a1 1 0 0 0-.6 1.8l10.7 7.9a1 1 0 0 1-.1 1.6l-3.4 2.1a1 1 0 0 0-.4.7 1 1 0 0 0 .2.8l3.8 4.7a1 1 0 0 1-.6 1.6l-7.2 1.3a1 1 0 0 0-.3 1.9l12.5 5.6a1 1 0 0 1-.2 2Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9 18.5-12.7 33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m0 0c3.2 5.2 5.8 14 6.5 29.4m-6.5-29.4c4-1 10.3.2 14.9 7.6m0 0a49.3 49.3 0 0 1 5.3 25.7m-5.3-25.7c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 1-1.1c0-.2-.2-.4-.3-.5l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.1.1l.3-.2 9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-.5.8 1 1 0 0 1-1 0Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='m410.9 110.5-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.7-6.1l.1-.3.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8h.2c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3h-.5l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2l-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cmask id='b' fill='%23fff'%3E%3Cpath fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3C/mask%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M226.7 183h1.1v-1h-1.2v1.2Zm1.5 22.7v1.2h1.2v-1.2h-1.2Zm-8-22.5-.1-1.1h-1.2v1.2h1.2Zm1.4 22.7h-1.1v1.2h1.2v-1.2Zm5.8-23.6h1.2l-.1-1.2h-1.2v1.2Zm-8.1.2v-1.2H218l.1 1.2h1.2Zm1.6 24.2h-1.2l.1 1.2h1.2v-1.2Zm8-.2.2 1.2h1.1v-1.3H229Zm-3.4-23.4 1.5 22.7 2.3-.1-1.5-22.7-2.3.1Zm-5.3 1.3 6.5-.2-.1-2.3-6.5.2.1 2.3Zm2.6 21.5-1.5-22.7H219l1.5 22.7h2.3Zm5.3-1.3-6.5.1.1 2.4 6.5-.2-.1-2.3Zm-1.9-22.3 1.6 24.2h2.4l-1.6-24.3-2.4.1Zm-6.8 1.4 8-.3v-2.3l-8.2.2.2 2.4Zm2.7 23-1.6-24.2H218l1.6 24.2h2.4Zm6.8-1.4-8 .2v2.4l8.2-.2-.2-2.4Z' mask='url(%23b)'/%3E%3Cpath fill='%232E03A0' d='M225.2 210.6a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.3 4.3 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M221.7 206.7a3.4 3.4 0 0 0 3.5 3.1c1.8 0 3.1-1.5 3-3.3a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.8 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='m226.7 180.2 13.5 20.7-6.7 4.2-13.6-20.6 6.8-4.3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m239.1 200.6-12.6-19.3-5.5 3.4 12.7 19.3 5.4-3.4Zm-12.4-20.4-6.8 4.3 13.6 20.6 6.7-4.2-13.5-20.7Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M223.6 186.4a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.2 4.2 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M220 182.5a3.4 3.4 0 0 0 3.6 3.2c1.8 0 3.1-1.6 3-3.4a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.7 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2313C1FF' d='m243.5 181.9 1.6 24.2 8.1-.3-1.6-24.2-8 .3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m245.8 205.3-1.5-22.7 6.6-.2 1.5 22.7-6.6.2Zm-2.3-23.4 8.1-.3 1.6 24.2-8 .3-1.7-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2306CF13' d='M249.4 210c2.3 0 4-2 3.8-4.2-.1-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M252.4 205.9a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.8 0 3.4 1.4 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.2 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FA52D6' d='M244 179.8 233.2 201l7.3 3.8 10.7-21.3-7.2-3.8Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m234.3 200.8 10-20 5.9 3.1-10 20-6-3.1Zm9.7-21 7.2 3.8-10.7 21.3-7.3-3.8 10.8-21.3Z' clip-rule='evenodd'/%3E%3Cpath fill='red' d='M235 206.5c2 1.1 4.5.4 5.5-1.6s.1-4.4-1.9-5.5a4 4 0 0 0-5.4 1.7 4 4 0 0 0 1.9 5.4Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M239.8 204.5a3.2 3.2 0 0 1-4.4 1.4 3.3 3.3 0 0 1-1.5-4.5 3.2 3.2 0 0 1 4.4-1.3c1.6.9 2.3 2.9 1.5 4.4Zm.7.4a4 4 0 0 1-5.4 1.6c-2-1-2.9-3.5-1.9-5.4a4 4 0 0 1 5.4-1.7c2 1.1 2.9 3.6 1.9 5.5Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FFC400' d='M247.8 185.8c2.3 0 4-2 3.8-4.2-.2-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M250.8 181.7a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.9 0 3.4 1.3 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.1 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E";function J(j){const{className:U,source:K,rotate:c,width:G,height:F,onClick:se}=j,f={msTransform:"rotate("+c+"deg)",transform:"rotate("+c+"deg)",width:G,height:F};return(0,$.jsx)("img",{className:U,src:K,style:f,onClick:se})}J.propTypes={className:p().string,source:p().string.isRequired,width:p().number,height:p().number,rotate:p().number,onClick:p().func};const de=J,Y=403,O=404,N=[500,501,502,503,504,505],b="link_expired";var w=n(63938);function g(j,U,K){return(U=x(U))in j?Object.defineProperty(j,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):j[U]=K,j}function x(j){var U=h(j,"string");return typeof U=="symbol"?U:U+""}function h(j,U){if(typeof j!="object"||!j)return j;var K=j[Symbol.toPrimitive];if(K!==void 0){var c=K.call(j,U||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(j)}class v extends I.PureComponent{constructor(){super(...arguments),g(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":(0,$.jsx)($.Fragment,{children:(0,$.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,$.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650"]})}),en:(0,$.jsx)($.Fragment,{children:(0,$.jsxs)("p",{className:"proposal",children:["Current account ",(0,$.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied."]})}),jp:""},des_403_1:{"zh-CN":(0,$.jsx)($.Fragment,{children:(0,$.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,$.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u4FEE\u6539\u8BBF\u95EE\u6743\u9650"]})}),en:(0,$.jsx)($.Fragment,{children:(0,$.jsxs)("p",{className:"proposal",children:["Current account ",(0,$.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied. Please contact administrator."]})}),jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"You are not logged in. Please log in and try again.",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u6587\u4EF6\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u627E\u4E0D\u5230\u6587\u4EF6",en:"Sorry, there is no visible page.",jp:""},des_404:{"zh-CN":"\u6587\u4EF6\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u65B0\u7684\u5206\u4EAB\u94FE\u63A5",en:"The page may have been deleted. Please contact the sharer to inquire about the link status.",jp:""},title_link_expired:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u94FE\u63A5\u5931\u6548",en:"Sorry, the link is invalid",jp:""},des_link_expired:{"zh-CN":"\u94FE\u63A5\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\u6216\u8005\u8BBE\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"The link may have been deleted or set incorrectly. Please contact the sharer to obtain the latest link.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,$.jsxs)("div",{className:"proposal text-left",children:[(0,$.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,$.jsxs)("ul",{className:"text-list",children:[(0,$.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,$.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,$.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,$.jsxs)("div",{className:"proposal text-left",children:[(0,$.jsx)("p",{children:"Please try the following methods:"}),(0,$.jsxs)("ul",{className:"text-list",children:[(0,$.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,$.jsx)("li",{children:"If not, please switch to another network."})]}),(0,$.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},previewFile:{"zh-CN":"\u9884\u89C8\u6587\u4EF6",en:"Preview File",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),g(this,"clickGoHome",()=>{let U="",{locale:K,homeUrl:c}=this.props;K==="zh-CN"?U=c:K==="jp"?U="https://mockitt.wondershare.jp":U="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(U):location.replace(U)}),g(this,"clickReloadPage",()=>{window.location.reload()}),g(this,"clickContactUs",()=>{let U="",{locale:K}=this.props;if(K==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else K==="jp"?U="https://support.wondershare.jp":U="https://support.wondershare.com/product/mockitt.html";window.open(U)}),g(this,"getErrorConfig",()=>{const{errorType:U,primaryBtnText:K,primaryBtnClick:c,secondaryBtnText:G,secondaryBtnClick:F,locale:se}=this.props,{typeText:f,clickGoHome:_,clickContactUs:A,clickReloadPage:M}=this;let k,P,ne="",fe=null,Ie;const xe={text:f.goHome[se],click:_},je={text:f.reloadPage[se],click:M},$e={text:f.contactUs[se],click:A};switch(!0){case U===Y:k=xe.text,P=xe.click,Ie=Z;break;case U===O:k=xe.text,P=xe.click,Ie=Q;break;case U===b:k=xe.text,P=xe.click,Ie=Q;break;case N.includes(U):k=je.text,P=je.click,ne=$e.text,fe=$e.click,Ie=E;break;default:k=je.text,P=je.click,ne=$e.text,fe=$e.click,Ie=se==="en"?ee:V;break}return K&&(k=K),c&&(P=c),G&&(ne=G),F&&(fe=F),{svgBg:Ie,primaryText:k,primaryClick:P,secondaryText:ne,secondaryClick:fe}}),g(this,"getErrorInfo",()=>{const{errorType:U,identity:K,locale:c,customTitle:G,customDes:F,account:se}=this.props,{typeText:f}=this;let _,A;if(G)_=G;else{const M=N.includes(U)?"title_5XX":"title_"+U;_=f[M]?f[M][c]:f.title_0[c]}if(F)A=F;else{let M="des_"+U;U===Y?M=se?"des_"+U+"_"+K:"des_"+U+"_2":N.includes(U)?M="des_5xx":U===b&&(M="des_link_expired"),A=f[M]?f[M][c]:f.des_link_expired[c]}return{title:_,desc:A}}),g(this,"handleClickLogo",()=>{let{isLogoClickable:U,logoUrl:K}=this.props;U&&(window.top!==window.self?window.top.location.href=K:window.location.href=K)})}render(){const{locale:U,isShowPrimaryBtn:K,isShowSecondaryBtn:c,isLogoClickable:G,previewFileBtnClick:F}=this.props,{typeText:se}=this,{svgBg:f,primaryText:_,primaryClick:A,secondaryText:M,secondaryClick:k}=this.getErrorConfig(),{title:P,desc:ne}=this.getErrorInfo();return(0,$.jsxs)(te,{children:[(0,$.jsx)("div",{className:"logo",children:(0,$.jsx)("span",{className:G?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,$.jsx)(de,{source:f})})}),(0,$.jsxs)("div",{className:"content",children:[(0,$.jsx)("p",{className:"title",children:P}),typeof ne=="string"?(0,$.jsx)("p",{className:"proposal",children:ne}):ne]}),(0,$.jsxs)("div",{className:"btn-list",children:[c&&k&&M&&(0,$.jsx)("a",{className:"btn regular",onClick:k,children:M}),F&&(0,$.jsx)("a",{className:"btn regular",onClick:F,children:se.previewFile[U]}),K&&A&&_&&(0,$.jsx)("a",{className:"btn primary",onClick:A,children:_}),M===se.contactUs[U]&&(0,$.jsx)(w.A,{})]})]})}}g(v,"propTypes",{locale:p().oneOf(["zh-CN","en","jp"]),identity:p().oneOf([0,1]),customTitle:p().string,customDes:p().string,isShowPrimaryBtn:p().bool,primaryBtnText:p().string,primaryBtnClick:p().func,isShowSecondaryBtn:p().bool,secondaryBtnText:p().string,secondaryBtnClick:p().func,errorType:p().oneOf([0,403,404,500,501,502,503,504,505,b]).isRequired,account:p().string,isLogoClickable:p().bool,logoUrl:p().string,homeUrl:p().string}),g(v,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/",homeUrl:"/workspace/home"})},58315:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>de});var s=n(94586),p=n(8509),I=n(18941);function u(Y,O){return Y.classList?!!O&&Y.classList.contains(O):(" "+(Y.className.baseVal||Y.className)+" ").indexOf(" "+O+" ")!==-1}function B(Y,O){Y.classList?Y.classList.add(O):u(Y,O)||(typeof Y.className=="string"?Y.className=Y.className+" "+O:Y.setAttribute("class",(Y.className&&Y.className.baseVal||"")+" "+O))}function te(Y,O){return Y.replace(new RegExp("(^|\\s)"+O+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function $(Y,O){Y.classList?Y.classList.remove(O):typeof Y.className=="string"?Y.className=te(Y.className,O):Y.setAttribute("class",te(Y.className&&Y.className.baseVal||"",O))}var Z=n(38502),Q=n(96582),E=n(99129),V=function(O,N){return O&&N&&N.split(" ").forEach(function(b){return B(O,b)})},ee=function(O,N){return O&&N&&N.split(" ").forEach(function(b){return $(O,b)})},J=function(Y){(0,I.A)(O,Y);function O(){for(var b,w=arguments.length,g=new Array(w),x=0;x<w;x++)g[x]=arguments[x];return b=Y.call.apply(Y,[this].concat(g))||this,b.appliedClasses={appear:{},enter:{},exit:{}},b.onEnter=function(h,v){var j=b.resolveArguments(h,v),U=j[0],K=j[1];b.removeClasses(U,"exit"),b.addClass(U,K?"appear":"enter","base"),b.props.onEnter&&b.props.onEnter(h,v)},b.onEntering=function(h,v){var j=b.resolveArguments(h,v),U=j[0],K=j[1],c=K?"appear":"enter";b.addClass(U,c,"active"),b.props.onEntering&&b.props.onEntering(h,v)},b.onEntered=function(h,v){var j=b.resolveArguments(h,v),U=j[0],K=j[1],c=K?"appear":"enter";b.removeClasses(U,c),b.addClass(U,c,"done"),b.props.onEntered&&b.props.onEntered(h,v)},b.onExit=function(h){var v=b.resolveArguments(h),j=v[0];b.removeClasses(j,"appear"),b.removeClasses(j,"enter"),b.addClass(j,"exit","base"),b.props.onExit&&b.props.onExit(h)},b.onExiting=function(h){var v=b.resolveArguments(h),j=v[0];b.addClass(j,"exit","active"),b.props.onExiting&&b.props.onExiting(h)},b.onExited=function(h){var v=b.resolveArguments(h),j=v[0];b.removeClasses(j,"exit"),b.addClass(j,"exit","done"),b.props.onExited&&b.props.onExited(h)},b.resolveArguments=function(h,v){return b.props.nodeRef?[b.props.nodeRef.current,h]:[h,v]},b.getClassNames=function(h){var v=b.props.classNames,j=typeof v=="string",U=j&&v?v+"-":"",K=j?""+U+h:v[h],c=j?K+"-active":v[h+"Active"],G=j?K+"-done":v[h+"Done"];return{baseClassName:K,activeClassName:c,doneClassName:G}},b}var N=O.prototype;return N.addClass=function(w,g,x){var h=this.getClassNames(g)[x+"ClassName"],v=this.getClassNames("enter"),j=v.doneClassName;g==="appear"&&x==="done"&&j&&(h+=" "+j),x==="active"&&w&&(0,E.F)(w),h&&(this.appliedClasses[g][x]=h,V(w,h))},N.removeClasses=function(w,g){var x=this.appliedClasses[g],h=x.base,v=x.active,j=x.done;this.appliedClasses[g]={},h&&ee(w,h),v&&ee(w,v),j&&ee(w,j)},N.render=function(){var w=this.props,g=w.classNames,x=(0,p.A)(w,["classNames"]);return Z.createElement(Q.Ay,(0,s.A)({},x,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},O}(Z.Component);J.defaultProps={classNames:""},J.propTypes={};const de=J},59316:Ne=>{function ie(n,s,p,I){var u=-1,B=n==null?0:n.length;for(I&&B&&(p=n[++u]);++u<B;)p=s(p,n[u],u,n);return p}Ne.exports=ie},60690:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>N});var s=n(18654),p=n(12456);const I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII=",B=Object.entries(p.fm).reduce((b,w)=>{const g=w[0];return{...b,[g]:[p.fm[g].value_light,p.fm[g].value_dark||p.fm[g].value_light]}},{}),te=Object.entries(p.$B).reduce((b,w)=>{const g=w[0];return{...b,[g]:[p.$B[g].value_light,p.$B[g].value_dark||p.$B[g].value_light]}},{}),$=Object.entries(s.af).reduce((b,w)=>{var g;const x=w[0];return{...b,[x]:[s.af[x].value,((g=s.qY[x])==null?void 0:g.value)||s.af[x].value]}},{}),Z=b=>{let w;const[g,x,h]=b,v=h!=null?h:g;return x==="light"?w=s.af[v].value:w=s.qY[v].value,{[g]:[w,w]}},E=[["color_tips_black","dark","color_ruler_shadow_color"]].reduce((w,g)=>{const x=Z(g);return{...w,...x}},{}),Y={...$,...E,...{loading_styles_bg:["linear-gradient(90deg, #F7F7F9 25%, rgba(0,0,0, 0.05) 37%, #F7F7F9 63%)","linear-gradient(270deg, rgba(255, 255, 255, 0.02) 0%, rgba(255, 255, 255, 0.06) 100%)"],float_nav_box_shadow:["0 4px 8px 0 rgba(39, 54, 78, 0.08), 0 4px 12px 0 rgba(39, 54, 78, 0.06)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],menu_content_shadow:["0 6px 16px -8px rgba(0,0,0,0.08), 0 9px 28px 0 rgba(0,0,0,0.05)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],shadow_1:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626"],shadow_2:["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],shadow_4:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 11px 15 px rgba(0, 0, 0, 0.2), 0 9 px 46px 0 rgba(0, 0, 0, 0.12)"],shadow_5:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2)"],shadow_hover:["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)"],miss_font_box_shadow:["0 3px 10px rgba(0, 0, 0, 0.1)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],export_bar_box_shadow:["0 -4px 8px rgba(219, 219, 219, 0.4)","0 -4px 8px rgba(0, 0, 0, 0.35)"],sidebar_box_shadow:["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)",""],interation_active_box_shadow:["0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)"],modal_bg1:["linear-gradient(to bottom,#fafafa,#f5f5f5)","#4f5052"],modal_shadow:["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)",""],comment_layer_box_shadow:["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],workspace_dropdown_menu_shadow:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],drag_sort_box_shadow:["0 1px 4px 0 rgba(0, 0, 0, 0.15)","0px 2px 4px rgba(0, 0, 0, 0.15)"],annotate_btn_shadow:["0 2px 6px rgba(39, 54, 78, 0.08)"," 0 6px 10px rgba(0, 0, 0, 0.22), 0px 13px 30px rgba(0, 0, 0, 0.146744)"],color_var_bind_point:["#DEDFE0","#4B4B4B"],ai_agent_bg:["linear-gradient(91.4deg, #BCEFFF 1.4%, #ABA3FF 29.45%, rgba(255, 178, 233, 0.7) 82.86%, rgba(255, 192, 31, 0.15) 111.94%)","linear-gradient(91.4deg, #6FC7E2 1.4%, #ABA3FF 29.45%, rgba(255, 178, 233, 0.9) 82.86%, rgba(255, 192, 31, 0.6) 111.94%)"],ai_agent_bg_hov:["#F2F6FF","#222937"],ai_agent_bg2:["linear-gradient(91.38deg, #8CE4FF -4.54%, #9DBEFF 23.44%, #A299FF 51.73%, rgba(255, 178, 255, 0.9) 84.57%, rgba(255, 192, 31, 0.3) 120.52%)","linear-gradient(91.4deg, #6FC7E2 1.4%, #ABA3FF 29.45%, rgba(255, 178, 233, 0.9) 82.86%, rgba(255, 192, 31, 0.6) 111.94%)"],ai_agent_bg_hov2:["linear-gradient(71.93deg, rgba(141, 218, 255, 0.08) 26.93%, rgba(24, 61, 255, 0.08) 50.34%, rgba(158, 97, 255, 0.08) 76.7%)","#222937"],ai_menu_bg:["url(/mb-proto2/images/workspace/design/ai-menu-bg.svg)","none"],bg_base64:[I,u],img_wrap_border_width:[1,2],fontPosition:["73px",0],disabled_opacity:[1,.5],footer_disabled_opacity:[1,.6]},...B,...te,...{color_literal_number:["#015CC5","#218BFF"],color_literal_string:["#002155","#80CCFF"],color_literal_boolean:["#8250DF","#A475F9"],color_literal_operator:["#F23DD1","#E85AAD"]},...{expr_editor_string:["#002155","#80CCFF"],expr_editor_number:["#015CC5","#218BFF"],expr_editor_boolean:["#8250DF","#A475F9"],expr_editor_func:["#23863A","#2DA44E"],expr_editor_builtinVar:["#8250DF","#A475F9"]}},O=(b,w)=>{const g={};return Object.entries(b).forEach(x=>{let[h,v]=x;Array.isArray(v)?g[h]=v[w]:typeof v=="object"?g[h]=O(v,w):g[h]=v}),g},N={light:O(Y,0),dark:O(Y,1)}},60719:(Ne,ie,n)=>{"use strict";n.d(ie,{f:()=>s.f});var s=n(29523);const u={...{border_modal:{description:"\u5F39\u7A97 border",value_light:"none",value_dark:"1px solid #4F5052"}},...{shadow_xs:{description:"\u5149\u6807\u9634\u5F71",value_light:"0px 1px 2px 0px rgba(0, 18, 38, 0.40)",value_dark:"0px 1px 2px 0px rgba(0, 18, 38, 0.40)"},shadow_s:{description:"\u6ED1\u5757\u6309\u94AE\u9634\u5F71",value_light:"0px 3px 6px 0px rgba(0, 18, 38, 0.10)",value_dark:"0px 3px 6px 0px rgba(0, 18, 38, 0.10)"},shadow_m:{description:"\u83DC\u5355/\u60AC\u6D6E\u7F16\u8F91\u680F\u200D\u6295\u5F71",value_light:"0px 4px 10px 0px rgba(0, 18, 38, 0.10)",value_dark:"0px 4px 10px 0px rgba(0, 18, 38, 0.10)"},shadow_l:{description:"\u5F39\u7A97/\u60AC\u6D6E\u9762\u677F/\u5168\u5C40\u63D0\u793A\u6295\u5F71",value_light:"2px 8px 20px 0px rgba(0, 0, 0, 0.10)",value_dark:"2px 8px 20px 0px rgba(0, 0, 0, 0.10)"},shadow_left:{description:"\u5DE6\u4FA7\u9762\u677F\u5206\u9694\u7EBF",value_light:"-1px 0px 0px 0px #E8EAEC inset",value_dark:"-1px 0px 0px 0px #E8EAEC inset"},shadow_right:{description:"\u53F3\u4FA7\u9762\u677F\u5206\u9694\u7EBF",value_light:"1px 0px 0px 0px #E8EAEC inset",value_dark:"1px 0px 0px 0px #E8EAEC inset"},shadow_bottom:{description:"\u5E95\u90E8\u5206\u9694\u7EBF\uFF08\u9876\u680F\u3001\u6807\u5C3A\u3001\u5F39\u7A97\u6807\u9898\u680F\u7B49\uFF09",value_light:"0px -1px 0px 0px #E8EAEC inset",value_dark:"0px -1px 0px 0px #E8EAEC inset"}}}},60820:Ne=>{var ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function n(s){return ie.test(s)}Ne.exports=n},61068:(Ne,ie,n)=>{"use strict";n.d(ie,{p:()=>V,A:()=>de});var s=n(95549),p=n(38502),I=n(25582),u=n.n(I),B=n(63986),te=n.n(B),$=n(17307),Z=n(53732),Q=n.n(Z),E=n(67787);const V="checkbox-has-box",ee=E.Ay.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-gd8gcf-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";flex-shrink:0;.icon{position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}&.","{input,.Check-state{margin:6px;transition:none;}.Check-label{margin-left:4px;}}"],Y=>Y.theme.color_text_L2,Y=>Y.theme.color_text_disabled01,Y=>Y.theme.color_bg_white,Y=>Y.theme.color_text_L2,Y=>Y.theme.color_proto,Y=>Y.theme.color_proto,Y=>Y.theme.color_btn_secondary_active,Y=>Y.theme.color_btn_secondary_active,Y=>Y.theme.color_text_disabled01,V);var J=n(72214);class de extends p.PureComponent{constructor(){super(...arguments),(0,s.A)(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),(0,s.A)(this,"onToggle",O=>{const{name:N,value:b,label:w,onChange:g,onToggle:x,isDisabled:h,readOnly:v,attr:j}=this.props,{isChecked:U}=this.state,K=!h&&!v,c=K?U==="mixed"?!0:!U:U;this.setState({isChecked:c}),x(c,N,b||w,O),g(c,j,O)})}static getDerivedStateFromProps(O,N){let{prevProps:b}=N;return te()(b,O)?null:{prevProps:O,isChecked:O.isChecked}}render(){const{className:O,label:N,name:b,isDisabled:w,readOnly:g}=this.props,{isChecked:x}=this.state,h=Q()(O,{"is-checked":!!x,"is-disabled":w,readonly:g});return(0,J.jsxs)(ee,{className:h,children:[(0,J.jsx)("input",{type:"checkbox",defaultChecked:!!x,disabled:w,name:b,onChange:this.onToggle}),(0,J.jsx)("span",{className:"Check-state",children:(0,J.jsx)($.C,{name:x==="mixed"?"new_replace/box_check_mixed":"new_replace/box_check"})}),N&&(0,J.jsx)("span",{className:"Check-label",children:N})]})}}(0,s.A)(de,"propTypes",{isChecked:u().bool||"mixed",isDisabled:u().bool,readOnly:u().bool,onChange:u().func.isRequired,onToggle:u().func.isRequired,label:u().any,name:u().string,attr:u().string,value:u().any,className:u().string}),(0,s.A)(de,"defaultProps",{isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null})},63172:(Ne,ie,n)=>{"use strict";n.d(ie,{s:()=>V});var s=n(19249);const p=async(ee,J)=>{const{project:de}=await(0,s.zi)("/api/dashboard/v5/projects/"+ee+"/invite",J);return de},I=async(ee,J)=>(0,s.SN)("/api/dashboard/v5/permissions/projects/"+ee,J),u=async(ee,J)=>{await(0,s.uz)("/api/dashboard/v5/permissions/projects/"+ee,J)};var B=n(50159),te=n(29152),$=n(1076);const Z=async(ee,J)=>await(0,s.DE)("/api/dashboard/v5/spaces/"+ee+"?org_cid="+J),Q={project_manager:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u7BA1\u7406\u5458\u300D",project_member:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u53EF\u7F16\u8F91\u300D",project_viewer:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u4EC5\u67E5\u770B\u300D",project_ban_viewer:"\u7684\u6743\u9650\u53D8\u66F4\u4E3A\u300C\u7981\u6B62\u67E5\u770B\u300D"};let E=function(ee){return ee.Org="org",ee.OrgSpace="space",ee.Folder="folder",ee.Project="project",ee}({});const V={"entry:projectAccess:initProjectData":async(ee,J)=>{let{getState:de,dispatch:Y}=ee,{payload:O}=J;try{const{initData:N,members:b}=O,w=N==null?void 0:N.org,{user:g,space:x,project:h,team:v,top_parent_team:j,lang:U}=N||{},K=new Map,c=new Map;return K.set(v==null?void 0:v.cid,v),K.set(j==null?void 0:j.cid,j),v!=null&&v.parent_cid&&(v==null?void 0:v.parent_cid)!==j.cid&&K.set(v==null?void 0:v.parent_cid,j),c.set(h==null?void 0:h.cid,h),Y({type:$.X2.UpdateState,payload:{user:g,org:{...w,members:b},space:x,folderListMap:K,projectListMap:c,lang:U}}),!0}catch(N){return console.error(N.message),!1}},"entry:projectAccess:inviteOrgMemberToProject":async(ee,J)=>{let{getState:de,dispatch:Y}=ee,{payload:O}=J;const{projectCid:N,userCid:b,roleName:w,userName:g}=O;if(!N||!b)return;const x=de(),h=(0,te.IE)(x),v=(0,te.M0)(x),j=(0,te._B)(x);try{const U=await p(N,{user_cid:b,role:w}),{space:K}=await Z(v,h);j.set(U.cid,U),await Y({type:$.X2.UpdateProjectListMap,payload:new Map(j)}),await Y({type:$.X2.UpdateSpace,payload:K}),window.top.postMessage({type:"updateApp",data:{newApp:(0,B.A)(U)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:g,other:Q[w]}}},"*")}catch(U){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:updateMemberProjectPermission":async(ee,J)=>{let{getState:de,dispatch:Y}=ee,{payload:O}=J;const{projectCid:N,userId:b,roleName:w,userName:g}=O,x=de();try{const{permission:h}=await I(N,{target_role:w,target_user_id:b}),v=(0,te._B)(x),j=v.get(N),U=(j==null?void 0:j.permissions)||[],K=U.find(F=>Number(F.user_id)===Number(b));let c=[];K?c=U.map(F=>Number(F.user_id)===Number(b)?h:F):c=[...U,h];const G={...j,permissions:c};v.set(N,G),await Y({type:$.X2.UpdateProjectListMap,payload:new Map(v)}),window.top.postMessage({type:"updateApp",data:{newApp:(0,B.A)(G)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:g,other:Q[w]}}},"*")}catch(h){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:removeProjectMemberPermission":async(ee,J)=>{let{getState:de,dispatch:Y}=ee,{payload:O}=J;const{projectCid:N,userId:b,roleName:w,userName:g}=O,x=de();try{await u(N,{target_role:w,target_user_id:b});const h=(0,te._B)(x),v=h.get(N),j=(v==null?void 0:v.permissions)||[];if(j.find(K=>Number(K.user_id)===Number(b))){const K=j.filter(G=>Number(G.user_id)!==Number(b)),c={...v,permissions:K};h.set(N,c),await Y({type:$.X2.UpdateProjectListMap,payload:new Map(h)}),window.top.postMessage({type:"successMsg",data:{msg:{name:g,other:"\u7684\u6743\u9650\u5DF2\u79FB\u9664"}}},"*"),window.top.postMessage({type:"updateApp",data:{newApp:(0,B.A)(c)}},"*")}}catch(h){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}}}},63938:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>B});var s=n(38502),p=n(25582),I=n.n(p),u=n(72214);B.propTypes={className:I().string,children:I().oneOfType([I().array,I().string]),isWonderShare:I().bool,id:I().string,onClick:I().func,disabled:I().bool,canClick:I().bool};function B(te){let{className:$,children:Z,isWonderShare:Q=!1,id:E="mdOnlineSupport",onClick:V,disabled:ee,canClick:J}=te;const de="qd30090468111af7daaf09a6395b687fc3becd624cf3",Y=Q?"https://support.wondershare.com/":"";(0,s.useEffect)(()=>{if(!ee)return!Q&&O(),()=>{const b=document.getElementById(de);b&&b.remove()}},[]);const O=()=>{n.g?(n.g.wpaShowItemId=window.wpaShowItemId="123",n.g.qidian_ex1=window.qidian_ex1="12"):(window.wpaShowItemId="123",window.qidian_ex1="12");let b=document.createElement("script");b.id=de,b.src="https://wp.qiye.qq.com/qidian/3009046811/1af7daaf09a6395b687fc3becd624cf3",b.charset="utf-8",b.async=!0,b.defer=!0,document.body.appendChild(b)},N=b=>{if(ee){J&&V&&V();return}if(V&&V(),Q){window.open(Y);return}if(E!=="mdOnlineSupport"){b.preventDefault();const w=document.getElementById("mdOnlineSupport");w&&w.click()}};return(0,u.jsx)("div",{style:{cursor:"pointer"},id:E,className:$,onClick:N,children:Z})}},65609:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>$});var s=n(95549),p=n(38502),I=n(53732),u=n.n(I),B=n(22460),te=n(72214);class $ extends p.PureComponent{constructor(){super(...arguments),(0,s.A)(this,"getClassName",()=>{const{className:Q,type:E,size:V,corner:ee,disabled:J}=this.props;return u()(Q,"button-root",{["type-"+E]:E,["size-"+V]:V,["corner-"+ee]:ee,"is-disabled":J})}),(0,s.A)(this,"onButtonClick",Q=>{if(this.props.disabled){Q.preventDefault();return}const{onClick:E}=this.props;E&&E(Q)}),(0,s.A)(this,"onButtonMouseDown",Q=>{if(this.props.disabled){Q.preventDefault();return}const{onMouseDown:E}=this.props;E&&E(Q)}),(0,s.A)(this,"getChildrenNode",()=>(0,te.jsx)("span",{className:"btn-text",children:this.props.children}))}render(){const Q=this.getClassName(),E=this.getChildrenNode();return(0,te.jsx)(B.O,{className:Q,onClick:this.onButtonClick,onMouseDown:this.onButtonMouseDown,children:(0,te.jsx)("div",{className:"btn-icon-text-container",children:E})})}}(0,s.A)($,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},65825:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>$});var s=n(38502),p=n(39303),I=n(67787);const u=I.Ay.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-iidm8l-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]);var B=n(72214);const $=(0,s.memo)(()=>(0,B.jsx)(u,{className:"sharing-loading",children:(0,B.jsx)(p.A,{className:"loading"})}))},67914:(Ne,ie,n)=>{"use strict";n.d(ie,{Gq:()=>p,Z0:()=>I});const s=()=>typeof window<"u"&&!!window.ReactNativeWebView,p=()=>{const u=navigator.userAgent;return s()&&u.includes("isExpoApp")},I=u=>{if(s()){var B;(B=window.ReactNativeWebView)==null||B.postMessage(JSON.stringify(u))}}},68677:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>ee});var s=n(38502),p=n(25582),I=n.n(p),u=n(46219),B=n(69368),te=n(67787);const $=te.Ay.span.withConfig({displayName:"styled__StyledEllipsis",componentId:"sc-z4nkzm-0"})(["null"]);var Z=n(72214);function Q(J,de,Y){return(de=E(de))in J?Object.defineProperty(J,de,{value:Y,enumerable:!0,configurable:!0,writable:!0}):J[de]=Y,J}function E(J){var de=V(J,"string");return typeof de=="symbol"?de:de+""}function V(J,de){if(typeof J!="object"||!J)return J;var Y=J[Symbol.toPrimitive];if(Y!==void 0){var O=Y.call(J,de||"default");if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(de==="string"?String:Number)(J)}class ee extends s.PureComponent{constructor(){var de;super(...arguments),de=this,Q(this,"state",{isTruncated:!1,isDetected:!1}),Q(this,"set$ellipsis",Y=>Object.assign(this,{$ellipsis:Y.current})),Q(this,"detectTruncation",function(Y){return Y===void 0&&(Y=de.$ellipsis),Y.offsetWidth<Y.scrollWidth})}componentDidMount(){return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}componentDidUpdate(de){let{children:Y}=de;const{children:O}=this.props,{isDetected:N}=this.state;if(Y!==O)return this.setState({isDetected:!1});if(!N)return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}render(){const{className:de,to:Y,type:O,max:N,display:b,lang:w,theme:g,noTooltip:x,withTooltip:h,withQuote:v,withPeriod:j,withComma:U,withQuestionMark:K,children:c,...G}=this.props,{isTruncated:F,isDetected:se}=this.state,f={children:c},_=se&&(F?"is-truncated":"isnt-truncated"),A={type:Y?"link":"inline",theme:g,className:(0,B.Hn)(["Ellipsis",_,de,(v||j||U||K)&&"Punctuation",v&&"with-quote",j&&"with-period",U&&"with-comma",K&&"with-question-mark"]),href:Y,"data-type":O,"data-max":N,style:{display:b,maxWidth:isFinite(N)?N+"em":N},content:(h||F)&&!x&&(0,Z.jsx)("div",{lang:w,className:"EllipsisTip",...f}),children:c,setRef:this.set$ellipsis,...G},M=(0,Z.jsx)(u.A,{...A});return v||j||U||K?(0,Z.jsx)($,{className:(0,B.Hn)(["Punctuation",v&&"with-quote",j&&"with-period",U&&"with-comma",K&&"with-question-mark",_]),children:M}):M}}Q(ee,"propTypes",{className:I().string,theme:I().oneOf(["core","plain"]),type:I().oneOf(["user","id","email","org","team","app","widget"]),max:I().oneOfType([I().string,I().number]),display:I().oneOf(["inline-block","block"]),lang:I().string,to:I().string,children:I().node,noTooltip:I().bool,withTooltip:I().bool,withQuote:I().bool,withComma:I().bool,withPeriod:I().bool,withQuestionMark:I().bool}),Q(ee,"defaultProps",{lang:"en",theme:"core"})},70812:(Ne,ie,n)=>{"use strict";n.d(ie,{U:()=>Q,j:()=>E});var s=n(16615),p=n(49612),I=n(40486),u=n(78257),B=n(14861);const te={[p.SR.PageV9]:"\u751F\u6210\u539F\u578B\u9875\u9762",[p.SR.Component]:"\u751F\u6210\u7EC4\u4EF6",[p.SR.Flow]:"\u751F\u6210\u6D41\u7A0B\u56FE",[p.SR.Mind]:"\u751F\u6210\u601D\u7EF4\u5BFC\u56FE",[p.SR.Table]:"\u751F\u6210\u8868\u683C",[p.SR.Chart]:"\u751F\u6210\u56FE\u8868",[p.SR.Semantic]:"AI\u6307\u4EE4",[p.SR.Chat]:"AI\u5BF9\u8BDD",[p.SR.AutoFill]:"\u667A\u80FD\u586B\u5145",[p.SR.AIHTML]:"\u751F\u6210\u539F\u578B\u9875\u9762v2_\u539F\u578B\u5185"},$={[u.lS.Directory]:"\u76EE\u5F55\u9762\u677F",[u.lS.Builtin]:"\u7EC4\u4EF6\u9762\u677F",[u.lS.Icon]:"\u56FE\u6807\u9762\u677F",[u.lS.Page]:"\u9875\u9762\u9762\u677F",[u.lS.Asset]:"\u56FE\u7247\u9762\u677F",[u.lS.Template]:"\u6BCD\u7248\u9762\u677F",[u.lS.AI]:"AI\u9762\u677F"},Z={color:"\u989C\u8272\u6837\u5F0F",appear:"\u5916\u89C2\u6837\u5F0F",text:"\u6587\u672C\u6837\u5F0F"};let Q;(function(V){const ee=V.AIOpenSourceTrack=M=>{const k=te[M];k&&(0,s.ZI)("proto_ai_entrance",{ai_func_name:k})},J=V.AIUseTrack=(M,k)=>{const P=te[M];!P||!k||(0,s.ZI)("proto_ai_use",{ai_func:P,ai_input:k})},de=V.addShapeToCanvasTrackSourceMap={quickCreate:"\u5FEB\u6377\u952E",topToolbar:"\u9876\u90E8\u64CD\u4F5C\u680F"},Y=V.addShapeToCanvasTrack=(M,k)=>{M&&k&&(0,s.ZI)("proto_shape_add",{name:M,source:k})},O=V.addDrawIOToCanvasTrack=M=>{M&&(0,s.ZI)("proto_draw_add",{type:M})},N=V.addAnimationTrack=M=>{M&&I18N.dConst.ani[M]&&(0,s.ZI)("proto_animation_add",{type:I18N.dConst.ani[M]})},b=V.updateInteractionTrack=M=>{var k;const{type:P,interactionTrigger:ne,interactionType:fe,value:Ie=""}=M;if(!ne||!fe)return;const xe=(0,I.Oz)(ne);if(!xe)return;const $e=(k=(0,I.gu)().find(Me=>Me.value===fe))==null?void 0:k.label;$e&&(0,s.ZI)("proto_interaction_set",{type:P,trigger:xe,action:$e,value:Ie})},w=V.searchResultTrack=(M,k,P)=>{const ne=$[k];!M||!ne||(0,s.ZI)("proto_search_result",{keyword:M,source:ne,count:P})},g=V.watermarkExposureTrack=M=>{if(!M)return;const k=!!MB.currentOrg;(0,s.ZI)("proto_watermark_show",{watermark_type:M,workspace_type:k?"org":"solo"})},x=V.protoEditorLoadSuccessTrack=M=>{M&&(0,s.ZI)("proto_load_success",{uid:M})},h=V.protoEditorShareTrack=(M,k)=>{M&&(0,s.ZI)("proto_share",{uid:M,source:k})},v=V.protoEditorPresentTrack=(M,k,P)=>{M&&(0,s.ZI)("proto_present",P?{uid:M,source:k,type:(0,B.d0)({model:P})}:{uid:M,source:k})},j=V.protoDownloadTrack=(M,k,P)=>{!M||!k||!P||(0,s.ZI)("proto_download",{uid:M,type:k,source:P})},U=V.protoStyleTrack=(M,k,P)=>{!M||!k||!P||(0,s.ZI)("proto_style_set",{uid:M,type:k,source:Z[P]})},K=V.protoMasterClickTrack=M=>{M&&(0,s.ZI)("proto_master_click",{uid:M})},c=V.protoMasterPublishTrack=(M,k)=>{!M||!k||(0,s.ZI)("proto_master_publish",{uid:M,type:k})},G=V.protoMasterUseTrack=(M,k,P)=>{!M||!k||!P||(0,s.ZI)("proto_master_use",{uid:M,source:k,type:P})},F=V.protoScrollbarSetTrack=(M,k)=>{!M||!k||(0,s.ZI)("proto_scrollbar_set",{uid:M,type:k})},se=V.protoPageAddTrack=(M,k,P,ne,fe,Ie)=>{M&&(0,s.ZI)("proto_page_add",{uid:M,source:k,template_type:P,template_paytype:ne,template_name:fe,template_cid:Ie})},f=V.protoTemplatePopupClick=(M,k)=>{var P;M&&(0,s.ZI)("proto_template_popup_click",{uid:M,source:k,workspace_type:(P=MB.getRootProject())!=null&&P.is_org_project?"org":"solo"})},_=V.protoComponentAddTrack=M=>{let{source:k,component_type:P,component_paytype:ne,component_name:fe,component_cid:Ie}=M;Ie&&(0,s.ZI)("proto_component_add",{source:k,component_type:P,component_paytype:ne,component_name:fe,component_cid:Ie})},A=V.protoDeviceCreate=function(M,k,P){P===void 0&&(P=!1),(0,s.ZI)("proto_device_create",{source:M,type:(0,B.d0)({model:k,isPageSize:P})})}})(Q||(Q={}));const E=V=>{let{source:ee,type:J,status:de}=V;console.log("\u{1F7E6}[blue]->source, type, status: ",ee,J,de),(0,s.ZI)("proto_html2proto",{source:ee,type:J,status:de})}},71272:(Ne,ie,n)=>{"use strict";n.d(ie,{wy:()=>s,xG:()=>I});const s=400,p=800,I=300},72274:(Ne,ie,n)=>{"use strict";n.d(ie,{HY:()=>N,Tw:()=>x,Yl:()=>J,Zz:()=>g,y$:()=>ee});var s=n(76241);function p(h){return"Minified Redux error #"+h+"; visit https://redux.js.org/Errors?code="+h+" for the full message or use the non-minified dev environment for full errors. "}var I=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),u=function(){return Math.random().toString(36).substring(7).split("").join(".")},B={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function te(h){if(typeof h!="object"||h===null)return!1;for(var v=h;Object.getPrototypeOf(v)!==null;)v=Object.getPrototypeOf(v);return Object.getPrototypeOf(h)===v}function $(h){if(h===void 0)return"undefined";if(h===null)return"null";var v=typeof h;switch(v){case"boolean":case"string":case"number":case"symbol":case"function":return v}if(Array.isArray(h))return"array";if(E(h))return"date";if(Q(h))return"error";var j=Z(h);switch(j){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return j}return v.slice(8,-1).toLowerCase().replace(/\s/g,"")}function Z(h){return typeof h.constructor=="function"?h.constructor.name:null}function Q(h){return h instanceof Error||typeof h.message=="string"&&h.constructor&&typeof h.constructor.stackTraceLimit=="number"}function E(h){return h instanceof Date?!0:typeof h.toDateString=="function"&&typeof h.getDate=="function"&&typeof h.setDate=="function"}function V(h){var v=typeof h;return v}function ee(h,v,j){var U;if(typeof v=="function"&&typeof j=="function"||typeof j=="function"&&typeof arguments[3]=="function")throw new Error(p(0));if(typeof v=="function"&&typeof j>"u"&&(j=v,v=void 0),typeof j<"u"){if(typeof j!="function")throw new Error(p(1));return j(ee)(h,v)}if(typeof h!="function")throw new Error(p(2));var K=h,c=v,G=[],F=G,se=!1;function f(){F===G&&(F=G.slice())}function _(){if(se)throw new Error(p(3));return c}function A(ne){if(typeof ne!="function")throw new Error(p(4));if(se)throw new Error(p(5));var fe=!0;return f(),F.push(ne),function(){if(fe){if(se)throw new Error(p(6));fe=!1,f();var xe=F.indexOf(ne);F.splice(xe,1),G=null}}}function M(ne){if(!te(ne))throw new Error(p(7));if(typeof ne.type>"u")throw new Error(p(8));if(se)throw new Error(p(9));try{se=!0,c=K(c,ne)}finally{se=!1}for(var fe=G=F,Ie=0;Ie<fe.length;Ie++){var xe=fe[Ie];xe()}return ne}function k(ne){if(typeof ne!="function")throw new Error(p(10));K=ne,M({type:B.REPLACE})}function P(){var ne,fe=A;return ne={subscribe:function(xe){if(typeof xe!="object"||xe===null)throw new Error(p(11));function je(){xe.next&&xe.next(_())}je();var $e=fe(je);return{unsubscribe:$e}}},ne[I]=function(){return this},ne}return M({type:B.INIT}),U={dispatch:M,subscribe:A,getState:_,replaceReducer:k},U[I]=P,U}var J=n.j!=15?ee:null;function de(h){typeof console<"u"&&typeof console.error=="function"&&console.error(h);try{throw new Error(h)}catch(v){}}function Y(h,v,j,U){var K=Object.keys(v),c=j&&j.type===B.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(K.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!te(h))return"The "+c+' has unexpected type of "'+V(h)+'". Expected argument to be an object with the following '+('keys: "'+K.join('", "')+'"');var G=Object.keys(h).filter(function(F){return!v.hasOwnProperty(F)&&!U[F]});if(G.forEach(function(F){U[F]=!0}),!(j&&j.type===B.REPLACE)&&G.length>0)return"Unexpected "+(G.length>1?"keys":"key")+" "+('"'+G.join('", "')+'" found in '+c+". ")+"Expected to find one of the known reducer keys instead: "+('"'+K.join('", "')+'". Unexpected keys will be ignored.')}function O(h){Object.keys(h).forEach(function(v){var j=h[v],U=j(void 0,{type:B.INIT});if(typeof U>"u")throw new Error(p(12));if(typeof j(void 0,{type:B.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(p(13))})}function N(h){for(var v=Object.keys(h),j={},U=0;U<v.length;U++){var K=v[U];typeof h[K]=="function"&&(j[K]=h[K])}var c=Object.keys(j),G,F;try{O(j)}catch(se){F=se}return function(f,_){if(f===void 0&&(f={}),F)throw F;if(0)var A;for(var M=!1,k={},P=0;P<c.length;P++){var ne=c[P],fe=j[ne],Ie=f[ne],xe=fe(Ie,_);if(typeof xe>"u"){var je=_&&_.type;throw new Error(p(14))}k[ne]=xe,M=M||xe!==Ie}return M=M||c.length!==Object.keys(f).length,M?k:f}}function b(h,v){return function(){return v(h.apply(this,arguments))}}function w(h,v){if(typeof h=="function")return b(h,v);if(typeof h!="object"||h===null)throw new Error(p(16));var j={};for(var U in h){var K=h[U];typeof K=="function"&&(j[U]=b(K,v))}return j}function g(){for(var h=arguments.length,v=new Array(h),j=0;j<h;j++)v[j]=arguments[j];return v.length===0?function(U){return U}:v.length===1?v[0]:v.reduce(function(U,K){return function(){return U(K.apply(void 0,arguments))}})}function x(){for(var h=arguments.length,v=new Array(h),j=0;j<h;j++)v[j]=arguments[j];return function(U){return function(){var K=U.apply(void 0,arguments),c=function(){throw new Error(p(15))},G={getState:K.getState,dispatch:function(){return c.apply(void 0,arguments)}},F=v.map(function(se){return se(G)});return c=g.apply(void 0,F)(K.dispatch),(0,s.A)((0,s.A)({},K),{},{dispatch:c})}}}},73597:(Ne,ie,n)=>{var s=n(59316),p=n(84934),I=n(19631),u="['\u2019]",B=RegExp(u,"g");function te($){return function(Z){return s(I(p(Z).replace(B,"")),$,"")}}Ne.exports=te},76844:(Ne,ie,n)=>{"use strict";n.d(ie,{CF:()=>N,CZ:()=>u,Cj:()=>E,Rc:()=>O,Sc:()=>$,oE:()=>V,ox:()=>te,pf:()=>Y,sq:()=>ee});var s=n(19481),p=n(12603);const I=function(b,w,g){return g===void 0&&(g=!1),{level:b,roleName:w,isInherited:g,isOwner:b>=s.zB.OWNER,isSuperManager:b>=s.zB.SUPERMANAGER,isManager:b>=s.zB.MANAGER,isMember:b>=s.zB.MEMBER,isViewer:b>=s.zB.VIEWER,isLimiter:b===s.zB.LIMITER,isBanned:b===s.zB.BANNED,isUnknown:b===s.zB.UNKNOWN}},u=I(s.zB.UNKNOWN),B=I(s.zB.UNJOINED),te=(b,w)=>{if(!w||w.length<=0)return null;const g=w.find(x=>{let{user_id:h,unsign_remark:v}=x;return Number(h)===Number(b)||v===b});return g||null},$=b=>b?I(s.p_[b.role],b.role):I(s.zB.UNKNOWN),Z=(b,w)=>{if(!b)return[];let g=[],x=b,h=w.get(x);for(;h&&!h.root_project;)g=g.concat(h.permissions),x=h.parent_cid,h=w.get(x);return g},Q=(b,w,g)=>{let x=Z(b,w);return x=x.concat(g).reverse(),x=x.filter(h=>h.role!=="space_limiter"),x.map(h=>{const v=folderInheritePermissionRoleFixMap[h.role];return v?{...h,role:v,inherited:!0}:{...h,inherited:!0}})},E=(b,w,g)=>{let x=Z(b,w);return x=x.concat(g).reverse(),x=x.filter(h=>h.role!=="space_limiter"),x.map(h=>{const v=s.OO[h.role];return v?{...h,role:v,inherited:!0}:{...h,inherited:!0}})},V=b=>{const{orgPermissions:w,userId:g}=b;if(!g||!w||w.length<1)return I(s.zB.UNKNOWN);const x=te(g,w);return x?I(s.p_[x.role],x.role):I(s.zB.UNKNOWN)},ee=b=>{const{spacePermissions:w,userId:g}=b;if(!g||!w||w.length<1)return I(s.zB.UNKNOWN);const x=te(g,w);return x?I(s.FU[x.role],x.role):I(s.zB.UNKNOWN)},J=b=>{const{userId:w,orgPermissions:g,spacePermissions:x,currentFolder:h,folderListMap:v}=b;if(!w||!h)return I(permissionLevels.UNKNOWN);const{org_cid:j,space_cid:U}=h;if(!j&&!U)return I(permissionLevels.OWNER,"team_owner");if(!x||x.length<1)return I(permissionLevels.UNKNOWN);const{isRoot:K,root_project:c}=h;if(K||c){const _=ee({spacePermissions:x,userId:w});return _.roleName==="space_limiter"?{...V({orgPermissions:g,userId:w}),isLimiter:!0}:_}const G=h.permissions||[],F=Q(h.parent_cid,v,x),se=Object.values(Object.fromEntries([...F,...G].map(_=>[_.user_id,_]))),f=te(w,se);return f?I(folderPermissionLevelsMap[f.role],f.role,f.inherited):I(permissionLevels.UNKNOWN)},de=b=>{const{userId:w,spacePermissions:g,currentProject:x,folderListMap:h}=b;if(!w||!x)return I(permissionLevels.UNKNOWN);const{space_cid:v}=x;if(!v)return I(permissionLevels.OWNER,"project_owner");if(!g||g.length<1)return I(permissionLevels.UNKNOWN);const j=x.permissions||[],U=E(x.team_cid,h,g),K=Object.values(Object.fromEntries([...U,...j].map(G=>[G.user_id,G]))),c=te(w,K);return c?I(projectPermissionLevelsMap[c.role],c.role,c.inherited):I(permissionLevels.UNKNOWN)},Y=function(b,w,g){return g===void 0&&(g=!1),w?typeof w[b]<"u"?I(w[b],b,g):I(s.zB.UNJOINED):I(s.zB.UNKNOWN)},O=b=>!b||b.length<1?new Map:b.reduce((w,g)=>w.set(Number(g.user_id),g),new Map),N=b=>{const{permissionsMap:w,userId:g,permissionScope:x}=b;if(!g||!w||w.size<1)return I(s.zB.UNKNOWN);const{role:h,inherited:v}=w.get(Number(g))||{};if(!h)return I(s.zB.UNKNOWN);let j=null;switch(x){case p.W.Org:j=s.p_;break;case p.W.OrgSpace:j=s.FU;break;case p.W.Folder:j=s.lY;break;case p.W.Project:j=s.au;break;default:break}return Y(h,j,v)}},79186:(Ne,ie,n)=>{"use strict";n.d(ie,{eB:()=>f,Ay:()=>se});var s=n(38502),p=n(69623),I=n(25582),u=n.n(I),B=n(27992),te=n(28322),$=n.n(te),Z=n(89775),Q=n.n(Z),E=n(63986),V=n.n(E),ee=n(37862),J=n.n(ee),de=n(51582),Y=n(68677),O=n(69368),N=n(35603),b=n(67787);const w=b.Ay.label.withConfig({displayName:"styles__StyledSelectLabel",componentId:"sc-grbgid-0"})(["display:inline-flex;justify-content:space-between;align-items:center;max-width:100%;min-width:3em;height:34px;color:#5b6b73;cursor:pointer;transition:all 0.2s ease-out;button{flex:1;width:calc(100% - 2em);height:100%;text-align:start;cursor:inherit;}.caret{margin:0 0.75em 0 1em;line-height:0;color:#8d9ea7;svg{display:block;width:6px;height:4px;fill:currentColor;fill-rule:evenodd;transform:rotate(180deg);transition:all 0.3s ease-out;}}&:not(.unstyled){padding-left:.5em;background-color:#f6f7f8;border:1px solid #f2f2f3;border-radius:2px;}&.small{height:22px;font-size:12px;.caret{margin-right:0.5em;}}&:not(.is-disabled):not(.readonly):not(.unstyled):hover,&:not(.unstyled).is-open{border-color:#298df8;}&.is-open{&:not(.unstyled){background-color:#fff;box-shadow:0 0 6px 0 rgba(41,141,248,.5);}.caret svg{transform:rotate(0deg);}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default}&.CoreSelect:not(.unstyled){background-color:#fff;border:1px solid #c8cdd1;}"]),g=b.Ay.div.withConfig({displayName:"styles__StyledSelectMenuBase",componentId:"sc-grbgid-1"})(["position:fixed;pointer-events:none;z-index:1100;"]),x=b.Ay.ul.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-grbgid-2"})(["position:absolute;margin:2px 0;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;pointer-events:none;font-size:12px;list-style:none;background-color:#fff;border-radius:3px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#5b6b73;transition:0.2s ease-out;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(255,255,255,0.5);}&.is-empty{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.x-center{left:50%;transform:translateX(-50%);&:not(.is-open){transform:scale(0.8) translateX(-50%);}}&.x-right{right:0;}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}&.cant-select .SelectOption{cursor:default;}.SelectGroup{> .title{padding:0 0.75em;width:100%;height:30px;line-height:30px;font-weight:bold;}> ul{margin:0;padding:0;}}.SelectOption{display:flex;align-items:center;height:30px;line-height:30px;cursor:pointer;> .Ellipsis{padding:0 0.75em;}> .svg-icon{margin-left:auto;margin-right:0.75em;&.check path{fill:#5b6b73;}}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#298df8;}&:not(.empty-msg):not(.is-disabled):hover,&.is-active{background-color:#f6f7f8;}&.empty-msg{padding:0 0.5em;color:#8d9ea7;cursor:not-allowed;}}&.CheckSelectMenu{&:not(.is-empty){padding:6px 0;}.SelectOption{height:32px;.Ellipsis{padding:0 16px;}.Ellipsis + .icon{margin-right:10px;}&:hover,&.is-active:hover{color:#298df8;}&.is-active{background:none;color:inherit;}}}&.CoreSelectMenu{margin:4px 0;&:not(.is-empty){padding:8px;min-height:48px;max-height:336px;}.SelectGroup > .title,.SelectOption{height:32px;line-height:32px;border-radius:2px;}}"]);var h=n(72214);function v(M,k,P){return(k=j(k))in M?Object.defineProperty(M,k,{value:P,enumerable:!0,configurable:!0,writable:!0}):M[k]=P,M}function j(M){var k=U(M,"string");return typeof k=="symbol"?k:k+""}function U(M,k){if(typeof M!="object"||!M)return M;var P=M[Symbol.toPrimitive];if(P!==void 0){var ne=P.call(M,k||"default");if(typeof ne!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(M)}const K="IBOT_SELECT_MENU_ROOT",c={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},G=document.getElementById(K)||Object.assign(document.createElement("div"),{id:K}),F=document.body;F.contains(G)||F.appendChild(G);class se extends s.PureComponent{constructor(){super(...arguments),v(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),v(this,"set$select",k=>this.setState({$select:k})),v(this,"open",()=>this.setState({isOpen:!0})),v(this,"close",()=>this.setState({isOpen:!1})),v(this,"toggle",()=>this.setState({isOpen:!this.state.isOpen})),v(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),v(this,"onChange",async k=>{const{onChange:P,beforeOnChange:ne}=this.props,fe=()=>{this.close(),P(k)};if(!ne){this.setState({value:k},fe);return}if(await ne(k)){this.setState({value:k},fe);return}fe()}),v(this,"onSelect",async k=>{let{currentTarget:P}=k;const{value:ne}=this.props,{canSelect:fe}=this;await this.onChange(fe?P.dataset.value:ne)})}static getDerivedStateFromProps(k,P){let{prevProps:ne,value:fe}=P;return V()(ne,k)?null:{prevProps:k,value:k.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}componentWillUnmount(){window.removeEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:k,disabled:P}=this.props;return k||P}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:k,readOnly:P}=this;return!k&&!P}get displayText(){const{optionList:k,placeholder:P,optionLabelProp:ne}=this.props,{value:fe}=this.state,xe=(k.find(je=>Q()(je)&&je.slice(0).some($e=>(0,O.o3)($e,fe)))||k).find(je=>!Q()(je)&&(0,O.o3)(je,fe));return xe?(0,O.Oi)(xe,ne):P||c[this.props.lang].select_placeholder}render(){const{size:k,theme:P,unstyled:ne,className:fe,menuX:Ie}=this.props,{isOpen:xe,$select:je,value:$e}=this.state,{isDisabled:Me,readOnly:ue,canSelect:pe}=this,_e=(0,O.Hn)([P==="core"?"CoreSelect":"Select",k,ne&&"unstyled",fe,xe&&"is-open",Me&&"is-disabled",ue&&"readonly"]);return(0,h.jsxs)(w,{className:_e,role:"listbox",ref:this.set$select,children:[(0,h.jsx)("button",{type:"button",onClick:this.toggle,disabled:Me,children:(0,h.jsx)(Y.A,{children:this.displayText})}),typeof this.props.arrowSvg=="string"?(0,h.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:this.props.arrowSvg}}):(0,h.jsx)("span",{className:"caret",children:this.props.arrowSvg}),(0,h.jsx)(f,{isOpen:xe,...this.props,value:$e,$select:je,canSelect:pe,onChange:this.onSelect,onClose:this.close,menuX:Ie})]})}}v(se,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),menuTheme:u().oneOf(["core","plain","check"]),unstyled:u().bool,className:u().string,menuClassName:u().string,lang:u().string,placeholder:u().string,optionList:u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,value:u().any,isDisabled:u().bool}),u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,value:u().any,isDisabled:u().bool})]))])).isRequired,value:u().oneOfType([u().number,u().string]),isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func,menuX:u().oneOf(["left","center","right"]),optionLabelProp:u().string,arrowSvg:u().oneOfType([u().string,u().node])}),v(se,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:()=>null,menuX:"left",arrowSvg:O.t4.rH});class f extends s.PureComponent{constructor(){super(...arguments),v(this,"state",{isDownward:!0}),v(this,"portal",(0,O.ep)(G,"SelectMenuPortal")),v(this,"menuBaseRef",(0,s.createRef)()),v(this,"position",k=>{const{$select:P,menuX:ne}=this.props,{menuBaseRef:{current:fe}}=this;if(k){const xe=$()(k,"target");if(xe&&J()(xe)&&xe.matches(".SelectMenu"))return}const{isDownward:Ie}=(0,N.d)({$menuBase:fe,$opener:P,menuX:ne,shouldSetMaxHeight:!0});this.setState({isDownward:Ie})}),v(this,"onChange",k=>{const{onChange:P}=this.props,{isDownward:ne}=this.state,fe=k.currentTarget,Ie=fe.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!fe||!Ie)return this.onlose();const{top:xe,bottom:je}=fe.getBoundingClientRect(),{top:$e,bottom:Me}=Ie.getBoundingClientRect();return ne&&xe>=$e||!ne&&je<=Me?fe.classList.contains("title")?void 0:P(k):this.onClose()}),v(this,"onClose",()=>{const{onClose:k}=this.props;k()}),v(this,"scrollIntoActive",()=>{const{menuBaseRef:{current:k}}=this,P=(0,O.$)("li[role=option].is-active",k);P&&P.scrollIntoView({block:"start"})}),v(this,"onClickOutside",k=>{let{target:P}=k;const{$select:ne}=this.props,fe=!G.contains(P),Ie=P.closest("label"),xe=Ie&&Ie.contains(ne);fe&&!xe&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:k}}=this;(0,O.sA)((0,O.$)(".SelectMenu",k))}componentDidUpdate(k){let{isOpen:P}=k;const{isOpen:ne}=this.props;!P&&ne&&(this.position(),this.scrollIntoActive())}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,p.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:k,isDisabled:P,menuTheme:ne,menuClassName:fe,menuX:Ie,optionList:xe,lang:je,emptyMsg:$e,value:Me,canSelect:ue}=this.props,{isDownward:pe}=this.state,_e=xe.length===0,ke=(0,O.Hn)([ne==="core"?"CoreSelectMenu":ne==="check"?"CheckSelectMenu":"SelectMenu",fe,"x-"+Ie,k&&"is-open",pe?"is-downward":"is-upward",P&&"is-disabled",_e&&"is-empty",ue?"can-select":"cant-select"]);return(0,h.jsx)(g,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,h.jsxs)(x,{className:ke,onTransitionEnd:this.onTransitionEnd,children:[_e?(0,h.jsx)("li",{className:"SelectOption empty-msg",children:$e||c[je].select_empty_msg}):xe.map((Ae,qe)=>Q()(Ae)?(0,h.jsx)(_,{menuTheme:ne,optionList:Ae,value:Me,onChange:this.onChange},qe):(0,h.jsx)(A,{menuTheme:ne,isActive:(0,O.o3)(Ae,Me),option:Ae,isDisabled:Ae.isDisabled,onChange:this.onChange},qe)),k&&(0,h.jsx)(B.A,{target:document,onClick:(0,B.t)(this.onClickOutside,{capture:!0})}),k&&(0,h.jsx)(B.A,{target:document,onScroll:(0,B.t)(this.position,{capture:!0})})]})})}}v(f,"propTypes",{...se.propTypes,isOpen:u().bool,canSelect:u().bool,onChange:u().func,onClose:u().func,$select:u().instanceOf(Element)}),v(f,"defaultProps",{isOpen:!1});function _(M){let{value:k,optionList:[P,...ne],menuTheme:fe,onChange:Ie}=M;return(0,h.jsxs)("li",{className:"SelectGroup",children:[(0,h.jsx)(Y.A,{className:"title",onClick:Ie,children:P}),(0,h.jsx)("ul",{children:ne.map((xe,je)=>(0,h.jsx)(A,{menuTheme:fe,option:xe,isActive:(0,O.o3)(xe,k),isDisabled:xe.isDisabled,onChange:Ie},je))})]})}_.propTypes={optionList:u().array,onChange:u().func,menuTheme:u().string,value:u().string};function A(M){let{option:k,isActive:P,isDisabled:ne,menuTheme:fe,onChange:Ie}=M;const xe=(0,O.Hn)(["SelectOption",P&&"is-active",ne&&"is-disabled"]),je=(0,O.Oi)(k),$e=(0,O.nE)(k);return(0,h.jsxs)("li",{role:"option","data-value":$e,className:xe,onClick:ne?void 0:Ie,children:[(0,h.jsx)(Y.A,{children:je}),fe==="check"&&P&&(0,h.jsx)(de.A,{name:"check"})]})}A.propTypes={option:u().oneOfType([u().node,u().object]),isActive:u().bool,isDisabled:u().bool,menuTheme:u().string,onChange:u().func}},83414:(Ne,ie,n)=>{"use strict";n.d(ie,{gE:()=>p,nM:()=>s,nQ:()=>I});const s="local_sharing_copy_url_v8_1",p=50,I={public:"share_anyone_view",restricted:"org_members_only"}},83557:(Ne,ie,n)=>{"use strict";n.d(ie,{GT:()=>B,Nc:()=>I,lq:()=>u});var s=n(62732),p=n(55338);const I=async(te,$,Z,Q)=>{const[E,V]=await(0,s.Vz)(p.r,te),ee=Object.assign({upperType:"project-basic",type:"proto2",treLen:String(V.byteLength),treRawLen:String(E)},$&&{teamCid:$},Q&&{spaceCid:Q}),J="/flpak/w-paknewft?"+new URLSearchParams(ee),de=await fetch(J,{method:"POST",body:V,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(Z))}});if(!de.ok)throw Object.assign(new Error("failed to create new flpak: "+J),{message:await de.text(),status:de.status});return de.json()},u=async(te,$,Z)=>{const[Q,E]=await(0,s.Vz)(p.r,te),V="/flpak/w-pakfcgmkt?"+new URLSearchParams({upperType:"combo-group",upperAction:"create-reviewable-project",type:"proto2",teamCid:$,treLen:String(E.byteLength),treRawLen:String(Q)}),ee=await fetch(V,{method:"POST",body:E,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(Z))}});if(!ee.ok)throw Object.assign(new Error("failed to create new fcgmkt: "+V),{message:await ee.text(),status:ee.status});return ee.json()},B=async(te,$,Z)=>{const[Q,E]=await(0,s.Vz)(p.r,te),V="/flpak/w-paksclibft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:$,upperCid:Z,treLen:String(E.byteLength),treRawLen:String(Q)}),ee=await fetch(V,{method:"POST",body:E,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify({}))}});if(!ee.ok)throw Object.assign(new Error("failed to create new sclib: "+V),{message:await ee.text(),status:ee.status});return ee.json()}},84934:(Ne,ie,n)=>{var s=n(24469),p=n(59696),I=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,u="\\u0300-\\u036f",B="\\ufe20-\\ufe2f",te="\\u20d0-\\u20ff",$=u+B+te,Z="["+$+"]",Q=RegExp(Z,"g");function E(V){return V=p(V),V&&V.replace(I,s).replace(Q,"")}Ne.exports=E},84957:(Ne,ie,n)=>{"use strict";n.d(ie,{_:()=>s});const s=I=>encodeURIComponent(JSON.stringify(I)),p=I=>JSON.parse(decodeURIComponent(I))},85378:(Ne,ie,n)=>{var s=n(45308),p=n(62783),I=n(59483);function u(B){return I(p(B,void 0,s),B+"")}Ne.exports=u},88856:(Ne,ie,n)=>{"use strict";n.d(ie,{eY:()=>j,At:()=>h,pU:()=>v,DV:()=>U,Ay:()=>x});var s=n(95549),p=n(38502);if(n.j!=15)var I=n(37342);var u=n(18381),B=n(67787);const te=(0,B.DU)(["div.notice-tips-container{z-index:9999;.notice-tips{min-height:38px;p{color:",";}:not(.pure-svg-icon).svg-icon{fill:",";}&.success{.tip-svg{path:nth-child(1){fill:",";}}}&.warning{.tip-svg{path:nth-child(1){fill:",";}}}&.error{.tip-svg{circle{fill:",";}}.button-a{cursor:pointer;}.button-p{margin-left:0;}}&.super{background-color:",";p{margin:0 16px 0 4px;}.times-icon{path{fill:",";}}}}}"],K=>K.theme.color_text_btn,K=>K.theme.color_text_btn,K=>K.theme.color_success,K=>K.theme.color_warning,K=>K.theme.color_error,K=>K.theme.color_error,K=>K.theme.color_text_btn),$=(0,B.DU)(["div.notice-tips-container{max-width:90%;.notice-tips{background-color:#ffffff !important;p{white-space:nowrap;color:#403F3D;font-size:13px;font-weight:500;}}}"]);var Z=n(58315),Q=n(51582),E=n(29523);const V=B.Ay.div.withConfig({displayName:"styles__StyledNoticeTips",componentId:"sc-1ehf3rt-0"})([".notice-tips{width:100%;height:100%;min-height:38px;padding:8px 16px;display:flex;align-items:center;font-size:14px;color:",";box-shadow:0 2px 8px 0 rgba(0,0,0,0.05),0 4px 12px 0 rgba(0,0,0,0.15);border-radius:6px;p{margin:0 0 0 4px;}&.info{background-color:",";p{margin:0 4px;}a{margin-left:12px;color:#80BCFF;&:hover{color:#A6D2FF;}}}&.success{background:",";box-shadow:0 3px 6px -4px rgba(0,0,0,0.12),0 6px 16px rgba(0,0,0,0.08),0 9px 28px 8px rgba(0,0,0,0.05);border-radius:6px;}&.warning{background-color:",";}&.error{background-color:",";}&.super{background-color:",";}&.loading{background-color:",";.tip-svg{animation:design-ani-spinning 1s infinite linear;fill:rgb(69,70,71);}}@keyframes design-ani-spinning{0%{transform:rotate(0deg);}100%{transform:rotate(359deg);}}.times-icon{width:20px;display:flex;flex-shrink:0;opacity:1;cursor:pointer;transition:opacity 0.15s ease-out;margin-left:16px;align-self:center;&:hover{opacity:1;}}.tip-svg{width:20px;height:20px;}}a{text-decoration:underline;color:",";&:hover{color:",";}}.fade{&-enter{transform:translateY(-50%);opacity:0;}&-enter-active{opacity:1;transform:translateY(0);transition:all 0.15s ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 0.25s ease-in-out;}&-exit-done{opacity:0;}}"],E.f.color_bg_white.value_light,E.f.color_btn_secondary_active.value_dark,E.f.color_btn_secondary_active.value_dark,E.f.color_btn_secondary_active.value_dark,E.f.color_btn_secondary_active.value_dark,E.f.color_error.value_light,E.f.color_btn_secondary_active.value_dark,E.f.color_text_link_normal.value_dark,E.f.color_text_link_hover.value_dark);var ee=n(72214);const J={success:"design/toast/success",error:"design/toast/error",warning:"design/toast/warning",super:"design/toast/offline",loading:"design/toast/loading"};class de extends p.PureComponent{render(){const{isShow:c,type:G,text:F,showClose:se,isReactDom:f,CustomChildComponent:_,svgName:A,onDisappear:M}=this.props;return(0,ee.jsx)(V,{children:(0,ee.jsx)(Z.A,{in:c,timeout:2500,classNames:"fade",unmountOnExit:!0,children:(0,ee.jsxs)("div",{className:"notice-tips "+G,children:[A&&(0,ee.jsx)(Q.C,{name:A,className:"tip-svg",isColorPure:!0}),!A&&G&&J[G]&&(0,ee.jsx)(Q.C,{name:J[G],className:"tip-svg",isColorPure:!0}),(0,ee.jsxs)(p.Fragment,{children:[f?F:(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("p",{dangerouslySetInnerHTML:{__html:F}}),(typeof _=="function"||typeof _=="object")&&(0,ee.jsx)(_,{})]}),se&&(0,ee.jsx)(Q.C,{className:"times-icon",name:"general/times",onClick:M})]})]})})})}}(0,s.A)(de,"defaultProps",{isShow:!1,type:"info",showClose:!1,isReactDom:!1,svgName:""});const Y=B.Ay.div.withConfig({displayName:"styles__StyledNoticeTipsContainer",componentId:"sc-1ewb7bf-0"})(["position:fixed;left:50%;top:56px;max-width:480px;transform:translateX(-50%);z-index:1052;"]);var O=n(69623);class N extends p.PureComponent{constructor(c){super(c),(0,s.A)(this,"timerId",null),(0,s.A)(this,"handleDisappear",()=>{typeof this.props.closeCallback=="function"&&this.props.closeCallback()}),this.el=document.createElement("div")}componentDidMount(){document.body.appendChild(this.el),this.props.isShow&&this.updateTimer()}componentDidUpdate(c,G,F){const{isShow:se,id:f}=this.props,{isShow:_,id:A}=c;(f!==A&&se||se&&se!==_)&&this.updateTimer()}updateTimer(){this.timerId&&clearTimeout(this.timerId);const{duration:c}=this.props;this.timerId=c&&setTimeout(this.handleDisappear,c)}componentWillUnmount(){this.el&&document.body.contains(this.el)&&document.body.removeChild(this.el),this.timerId&&clearTimeout(this.timerId)}render(){const{isShow:c,type:G,text:F,showClose:se,isReactDom:f,CustomChildComponent:_,svgName:A,className:M}=this.props;return(0,O.createPortal)(c&&(0,ee.jsx)(Y,{className:M,children:(0,ee.jsx)(de,{isShow:c,type:G,showClose:se,onDisappear:this.handleDisappear,isReactDom:f,text:F,CustomChildComponent:_,svgName:A})}),this.el)}}(0,s.A)(N,"defaultProps",{text:"",isShow:!1,type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",id:"",duration:2e3,closeCallback:()=>null});const b=N;var w=n(28932);const g={isShow:!1,text:"",type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",duration:2e3,id:""};class x extends p.PureComponent{constructor(c){super(c),(0,s.A)(this,"closeCallback",null),(0,s.A)(this,"handleDisappear",()=>{this.setState({isShow:!1}),typeof this.closeCallback=="function"&&this.closeCallback(),this.priority=0}),this.state=g,this.priority=0}componentDidMount(){MB.notice&&(this.prevNotice=MB.notice),MB.notice=c=>{let{text:G,type:F="info",CustomChildComponent:se=void 0,duration:f=2e3,showClose:_=!1,isReactDom:A=!1,closeCallback:M=null,priority:k=0,svgName:P="",id:ne=Math.random().toString(36).slice(2),isShow:fe=!0}=c;this.priority>k||(clearTimeout(this.timer),this.setState({isShow:fe,text:G,type:F,showClose:_,id:ne,isReactDom:A,CustomChildComponent:se,svgName:P,duration:f}),this.closeCallback=M,this.priority=k)}}componentWillUnmount(){this.setState({isShow:!1}),this.prevNotice&&(MB.notice=this.prevNotice)}render(){const{isShow:c,type:G,duration:F,text:se,showClose:f,id:_,isReactDom:A,CustomChildComponent:M,svgName:k}=this.state;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(b,{className:"notice-tips-container",isShow:c,type:G,text:se,id:_,duration:F,showClose:f,isReactDom:A,CustomChildComponent:M,svgName:k,closeCallback:this.handleDisappear}),(0,ee.jsx)(te,{}),(0,w.Gq)()&&(0,ee.jsx)($,{})]})}}const h=K=>(0,p.memo)(()=>{const c=()=>(0,I.JW)("/hc/articles/393","_blank","noreferrer");return(0,ee.jsx)("a",{style:{cursor:"pointer"},onClick:c,children:K})}),v=n.j!=15?(0,p.memo)(()=>{const K=(0,u.wA)(),c=()=>K({type:"toolbar:sharingManager:open"});return(0,ee.jsx)("a",{onClick:c,children:I18N.ScreenPanel.share_panel})}):null,j=K=>(0,p.memo)(()=>{const c=()=>(0,I.JW)(I18N.link.link_article_business_font_state,"_blank","noreferrer");return(0,ee.jsx)("a",{className:"button-a",onClick:c,children:K})}),U=K=>{let{onClick:c}=K;return(0,p.memo)(()=>{const G=(0,u.wA)(),F=()=>{c&&c(G)};return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("a",{className:"button-a",onClick:F,children:I18N.dModule.network_api_error_2}),(0,ee.jsx)("p",{className:"button-p",children:I18N.dModule.network_api_error_3})]})})}},89022:function(Ne){(function(ie,n){Ne.exports=n()})(this,function(){"use strict";return function(ie,n,s){n.prototype.isBetween=function(p,I,u,B){var te=s(p),$=s(I),Z=(B=B||"()")[0]==="(",Q=B[1]===")";return(Z?this.isAfter(te,u):!this.isBefore(te,u))&&(Q?this.isBefore($,u):!this.isAfter($,u))||(Z?this.isBefore(te,u):!this.isAfter(te,u))&&(Q?this.isAfter($,u):!this.isBefore($,u))}}})},89208:(Ne,ie,n)=>{"use strict";n.d(ie,{n:()=>V,A:()=>ee});var s=n(38502),p=n(53732),I=n.n(p),u=n(17307),B=n(83199),te=n(71272),$=n(67787);const Z=$.Ay.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"sc-17e9w47-0"})(["display:flex;height:48px;.nav-label{position:relative;height:100%;padding:0 3px;display:flex;align-items:center;justify-content:center;white-space:nowrap;}.nav-item{position:relative;display:flex;flex:none;justify-content:center;align-items:center;color:",";padding:0 3px;cursor:pointer;.nav-underline{position:absolute;display:none;bottom:0;width:70%;border-bottom:2px solid ",";}&:lang(ja){font-size:10px;}&.active{color:",";&:not(:first-child:nth-last-child(1)){.nav-underline{display:inline;}}&.background_active{background-color:transparent;}&.line_active::after{content:'';position:absolute;bottom:0;width:30px;height:2px;background:",";}}&.disabled{color:",";cursor:not-allowed;}&:not(:first-child){}.tabNewIcon{position:absolute;width:30px;top:0;right:3px;path:first-child{fill:#1684fc;}path:last-child{fill:#fff;}}}.nav-item-small:lang(en){font-size:10px;}min-height:48px;padding:0 6px;.nav-item{font-size:13px;&.active{font-weight:bold;}}"],J=>J.theme.color_text_L3,J=>J.theme.color_text_L1,J=>J.theme.color_text_L1,J=>J.theme.color_text_L1,J=>J.theme.color_text_disabled01);var Q=n(72214);const E=(0,s.memo)(J=>{let{activeIndex:de=0,className:Y,children:O,onTabChange:N}=J;return(0,Q.jsx)(Z,{className:I()(Y),children:s.Children.map(O,(b,w)=>{const g={index:w,active:w===de,onClick:N};return s.cloneElement(b,g)})})}),V=(0,s.memo)(J=>{let{className:de,index:Y,active:O,onClick:N,label:b,tooltip:w,isNew:g,disabled:x,tempDisabled:h,canMouseEnterChange:v=!1,children:j}=J;const U=(0,s.useRef)(null),K=()=>{if(x)return h&&MB.notice({text:I18N.Common.feature_is_not_available,type:"warning"}),null;N(Y)},c=()=>{v&&(U.current&&clearTimeout(U.current),U.current=setTimeout(()=>{K==null||K()},te.wy))},G=()=>{v&&U.current&&(clearTimeout(U.current),U.current=null)},F=(0,Q.jsxs)("li",{className:I()("nav-item",{active:O},{disabled:x},de),onClick:K,onMouseEnter:c,onMouseLeave:G,children:[b&&(0,Q.jsxs)("span",{className:"nav-label",title:b,children:[b,w&&w]}),g&&(0,Q.jsx)(u.C,{name:"design/tab/new",className:"tabNewIcon"}),j]});return x?(0,Q.jsx)(B.A,{content:"\u6682\u4E0D\u5F00\u653E",direction:"down",children:F}):F}),ee=E},90108:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>b});var s=n(38502),p=n(67787),I=n(25582),u=n.n(I),B=n(63986),te=n.n(B),$=n(69368);const Z=p.Ay.label.withConfig({displayName:"styled__StyledLabel",componentId:"sc-1pwp3tx-0"})(["position:relative;display:inline-flex;align-items:baseline;line-height:1.5;cursor:pointer;color:#5b6b73;> input[type=radio]{position:absolute;opacity:0;}&.regular{font-size:14px;}&.small{font-size:12px;.Check-state{transform:translateY(2px);}}&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}.Check-state{position:relative;flex:0 0 1em;margin-right:0.33333em;width:1em;height:1em;transform:translateY(1px);font-size:12px;background-color:#f6f7f8;border:1px solid #8d9ea7;border-radius:2px;color:#fff;.svg-icon.check{position:absolute;top:-1px;left:-1px;opacity:0;}}&.small .Check-state{transform:translateY(2px);}&.CoreRadio,&.Radio{&.is-checked{.Check-state{background-color:#298df8;border-color:transparent;color:#fff;.svg-icon.check{transform:scale(0.833);}}}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.CoreRadio{.Check-state{background-color:#fff;border-color:#bacdd6;}&.is-checked .Check-state{background-color:#eb5648;}}"]),Q=(0,p.Ay)(Z).withConfig({displayName:"styled__StyledRadio",componentId:"sc-1pwp3tx-1"})([".Check-state{padding:1px;border-radius:50%;&:after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:4px;height:4px;background-color:#fff;border-radius:50%;}}.is-checked .Check-state{position:relative;}"]),E=p.Ay.span.withConfig({displayName:"styled__StyledRadioGroup",componentId:"sc-1pwp3tx-2"})(["position:relative;display:flex;flex-wrap:wrap;&.is-disabled{cursor:not-allowed;}.Radio,.CoreRadio{margin-right:.5em;min-height:2em;}"]);var V=n(72214);function ee(w,g,x){return(g=J(g))in w?Object.defineProperty(w,g,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[g]=x,w}function J(w){var g=de(w,"string");return typeof g=="symbol"?g:g+""}function de(w,g){if(typeof w!="object"||!w)return w;var x=w[Symbol.toPrimitive];if(x!==void 0){var h=x.call(w,g||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(w)}class Y extends s.PureComponent{constructor(){super(...arguments),ee(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),ee(this,"onToggle",()=>{const{name:g,value:x,label:h,onToggle:v,onChange:j}=this.props,{isChecked:U}=this.state,{canToggle:K}=this,c=K?!0:U;this.setState({isChecked:c}),v(c,g,x||h),j(g,x||h,c)})}static getDerivedStateFromProps(g,x){let{prevProps:h,isChecked:v}=x;return te()(h,g)?null:{prevProps:g,isChecked:g.isChecked}}get isDisabled(){const{isDisabled:g,disabled:x}=this.props;return g||x}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:g,readOnly:x}=this;return!g&&!x}render(){const{size:g,theme:x,className:h,label:v,name:j}=this.props,{isChecked:U}=this.state,{isDisabled:K,readOnly:c}=this;return(0,V.jsxs)(Q,{className:(0,$.Hn)([x==="core"?"CoreRadio":"Radio",g,h,U&&"is-checked",K&&"is-disabled",c&&"readonly"]),children:[(0,V.jsx)("input",{type:"radio",defaultChecked:U,disabled:K,name:j,onClick:this.onToggle}),(0,V.jsx)("span",{className:"Check-state"}),(0,V.jsx)("span",{className:"Check-label",children:v})]})}}ee(Y,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),className:u().string,label:u().any,name:u().string,value:u().any,isChecked:u().bool,isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func.isRequired,onToggle:u().func.isRequired}),ee(Y,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null});class O extends s.PureComponent{constructor(){super(...arguments),ee(this,"name",this.props.name||Math.random().toString(36).substring(2,15)),ee(this,"state",{prevProps:this.props,value:this.props.value}),ee(this,"createOnChangeHandler",(g,x,h)=>()=>{const{onToggle:v,onChange:j}=this.props,{value:U}=this.state,{canToggle:K}=this,c=K?x:U;this.setState({value:c}),v(c,g),j({name:g,value:c,idx:h})})}static getDerivedStateFromProps(g,x){let{prevProps:h,value:v}=x;return te()(h,g)?null:{prevProps:g,value:g.value}}get isDisabled(){const{isDisabled:g,disabled:x}=this.props;return g||x}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:g,readOnly:x}=this;return!g&&!x}render(){const{size:g,theme:x,className:h,optionList:v}=this.props,{value:j}=this.state,{name:U,isDisabled:K,readOnly:c}=this,G=(0,$.Hn)([x==="core"?"CoreRadioGroup":"RadioGroup",g,h,K&&"is-disabled",c&&"readonly"]);return(0,V.jsx)(E,{className:G,children:v.map((F,se)=>F&&(0,V.jsx)(Y,{name:U,size:g,theme:x,label:(0,$.Oi)(F),type:"radio",isChecked:(0,$.o3)(F,j),isDisabled:K||F.isDisabled,readOnly:c,onChange:K||F.isDisabled?void 0:this.createOnChangeHandler(U,(0,$.nE)(F),se)},se))})}}ee(O,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),className:u().string,name:u().string,optionList:u().arrayOf(u().oneOfType([u().string,u().number,u().shape({label:u().any,value:u().any,isDisabled:u().bool})])).isRequired,value:u().oneOfType([u().number,u().string]),isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func.isRequired,onToggle:u().func.isRequired}),ee(O,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:()=>null,onToggle:()=>null});const N=(0,p.Ay)(O).withConfig({displayName:"styles__StyledRadioGroup",componentId:"sc-1x96wso-0"})([".Radio{color:",';input[type="radio"]{cursor:pointer;}&.is-checked{color:',";.Check-state{background:",";&::after{background:#fff;}}}&:not(.is-checked){.Check-state{background:",";border:1px solid ",";&::after{background:",";}}}&.is-disabled::after{background-color:",";opacity:0.5;}}"],w=>w.theme.color_text_L2,w=>w.theme.color_text_L1,w=>w.theme.color_proto,w=>w.theme.color_bg_white,w=>w.theme.color_text_disabled01,w=>w.theme.color_bg_white,w=>w.theme.color_bg_white);class b extends s.PureComponent{render(){return(0,V.jsx)(N,{...this.props})}}},91752:(Ne,ie,n)=>{"use strict";n.d(ie,{Ay:()=>Y});var s=n(38502),p=n(25582),I=n.n(p),u=n(45525),B=n.n(u),te=n(51582),$=n(69368),Z=n(67787);const Q=Z.Ay.button.withConfig({displayName:"styled__StyledButton",componentId:"sc-1p06iev-0"})(["&.RegularButton,&.PrimaryButton,&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 0.5em;height:2.125rem;font-size:0.875rem;border:1px solid;border-radius:2px;cursor:pointer;transition:all 0.2s ease-out;&:not(button){display:inline-flex;justify-content:center;align-items:center;}&:disabled{cursor:not-allowed;opacity:0.6;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}.svg-icon.loading{margin-right:0.5em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}}&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 1em;height:2.375rem;&.small{height:2em;}&:disabled{background-color:#f6f7f8;border-color:#dedee4;color:#c8cdd1;opacity:1;}}&.PrimaryCoreButton{background-color:#eb5648;&,&:link,&:visited{border-color:transparent;color:#fff;}&:enabled:hover,a&:hover{background-color:#ef776c;color:#fff;}&:enabled:active,a&:active{background-color:#bc4439;color:#e4b4b0;}}&.RegularCoreButton,&.SecondaryCoreButton{background-color:#fff;&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{border-color:#ffa39e;color:#ef776c;}&:enabled:active,a&:active{border-color:#e84030;color:#bc4439;}}&.TertiaryCoreButton{background-color:#fff;border-color:#c8cdd1;&,&:link,&:visited{color:#415058;}&:enabled:hover,a&:hover{background-color:#8d9ea7;border-color:#7d8694;color:#fff;}&:enabled:active,a&:active{background-color:#5b6b73;border-color:#415058;}}&.RegularButton{&,&:link,&:visited{color:#8d9ea7;}&:enabled:hover,a&:hover{color:#5b6b73;}&:disabled{opacity:0.6;}}&.PrimaryButton{background-color:#8d9ea7;border-color:transparent;&,&:link,&:visited{color:#fff;}&:enabled:hover,a&:hover{background-color:#5b6b73;color:#fff;}&:enabled:active,a&:active{color:rgba(255,255,255,0.6);}}&.TextButton,&.TextCoreButton{transition:all 0.1s ease-out;&,&:link,&:visited{color:#298df8;}&:disabled{cursor:not-allowed;opacity:0.6;}&:enabled:hover,a&:hover{color:#0d7ef7;text-decoration:underline;}.svg-icon.loading{margin-right:0.25em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}}&.TextCoreButton{&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{color:#ef776c;text-decoration:none;}&:enabled:active,a&:active{color:#bc4439;}}"]);var E=n(72214);function V(w,g,x){return(g=ee(g))in w?Object.defineProperty(w,g,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[g]=x,w}function ee(w){var g=J(w,"string");return typeof g=="symbol"?g:g+""}function J(w,g){if(typeof w!="object"||!w)return w;var x=w[Symbol.toPrimitive];if(x!==void 0){var h=x.call(w,g||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(w)}const de={primary:"Primary",regular:"Regular",secondary:"Regular",tertiary:"Tertiary",text:"Text"};class Y extends s.PureComponent{get className(){const{type:g,theme:x,size:h,className:v}=this.props,{isDisabled:j,isLoading:U}=this;return(0,$.Hn)(["Button",""+de[g]+(x==="core"?"CoreButton":"Button"),h!=="regular"&&h,U&&"is-loading",j&&"is-disabled",v])}get isDisabled(){const{isDisabled:g,disabled:x}=this.props;return g||x}get isLoading(){const{isLoading:g,loading:x}=this.props;return g||x}render(){const{className:g,isLoading:x,isDisabled:h}=this,{iconType:v,icon:j,children:U,...K}=this.props;return(0,E.jsx)(Q,{className:g,disabled:h,onClick:c=>h&&c.preventDefault(),type:"button",...B()(K,["className","type","theme","isDisabled","disabled","isLoading","loading"]),children:(0,E.jsxs)(E.Fragment,{children:[x&&(0,E.jsx)(te.A,{name:"loading"}),j&&v==="svg"&&(0,E.jsx)(te.A,{name:j}),U]})})}}V(Y,"propTypes",{type:I().oneOf(["primary","regular","secondary","tertiary","text"]),size:I().oneOf(["regular","small"]),theme:I().oneOf(["core","plain"]),iconType:I().oneOf(["svg","dora","mb","icon","fa","md"]),icon:I().string,className:I().string,isDisabled:I().bool,disabled:I().bool,isLoading:I().bool,loading:I().bool,children:I().any,html:I().string}),V(Y,"defaultProps",{type:"regular",size:"regular",theme:"plain",icon:"",className:"",isDisabled:!1});function O(w){return _jsx(Y,{...w,theme:"core"})}function N(w){return _jsx(O,{...w,type:"primary"})}function b(w){return _jsx(O,{...w,type:"tertiary"})}},92114:(Ne,ie,n)=>{"use strict";n.d(ie,{A:()=>Y});var s=n(38502),p=n(67787),I=n(25582),u=n.n(I),B=n(63986),te=n.n(B),$=n(69368);const Z=p.Ay.label.withConfig({displayName:"styled__StyledSwitch",componentId:"sc-16h4tgy-0"})(["position:relative;display:inline-block;margin:0 10px;width:28px;height:10px;vertical-align:text-bottom;background:rgba(22,132,252,0.4);border-radius:100px;cursor:pointer;transform:matrix(-1,0,0,1,0,0);transition:all 0.2s ease-in;transition-delay:0.15s;&.readonly{cursor:default;}> button{position:absolute;top:-20%;left:0;display:flex;justify-content:center;align-items:center;width:14px;height:14px;font-size:14px;border-radius:50%;background:#1684FC;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);transform:matrix(-1,0,0,1,0,0);cursor:inherit;transition:all 0.2s cubic-bezier(0.55,0.06,0.68,0.19);}&.small{width:28px;height:10px;vertical-align:baseline;> button{width:14px;height:14px;border-width:1px;}}&.is-checked{background:#dbdbdb;> button{transform:translate(14px,0%);cursor:inherit;background-color:#fff;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);}&.small > button{transform:translate(14px,0);background-color:#999;}&.small{background-color:#59515c;}}&.is-disabled{background-color:#dedee4;cursor:not-allowed;&.is-checked{background-color:rgba(22,132,252,0.4);}button{background-color:#f6f7f8;}}&.Switch-IOS{background:#1684fc;transform:matrix(1,0,0,1,0,0);transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}&.Switch-IOS-NoTransform{background:#1684fc;transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}"]);var Q=n(72214);function E(O,N,b){return(N=V(N))in O?Object.defineProperty(O,N,{value:b,enumerable:!0,configurable:!0,writable:!0}):O[N]=b,O}function V(O){var N=ee(O,"string");return typeof N=="symbol"?N:N+""}function ee(O,N){if(typeof O!="object"||!O)return O;var b=O[Symbol.toPrimitive];if(b!==void 0){var w=b.call(O,N||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(O)}class J extends s.PureComponent{constructor(){super(...arguments),E(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),E(this,"toggle",N=>{let{target:b}=N;const{onChange:w}=this.props,{isChecked:g}=this.state,{isDisabled:x,canToggle:h}=this,v=h?!g:g;return b.blur(),this.setState({isChecked:v}),!x&&w(v)})}static getDerivedStateFromProps(N,b){let{prevProps:w}=b;return te()(w,N)?null:{prevProps:N,isChecked:N.isChecked}}get isDisabled(){const{isDisabled:N,disabled:b}=this.props;return N||b}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:N,readOnly:b}=this;return!N&&!b}render(){const{size:N,readOnly:b,className:w,children:g,isIOS:x,isIOSReverse:h}=this.props,{isChecked:v}=this.state,{isDisabled:j}=this;return(0,Q.jsxs)(Z,{className:(0,$.Hn)(["Switch",x&&"Switch-IOS",h&&"Switch-IOS-NoTransform",N,v?"is-checked":"isnt-checked",j&&"is-disabled",b&&"readonly",w]),children:[(0,Q.jsx)("button",{type:"button",disabled:j,onClick:this.toggle}),g]})}}E(J,"propTypes",{className:u().string,size:u().oneOf(["regular","small"]),isChecked:u().bool,isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,isIOS:u().bool,isIOSReverse:u().bool,onChange:u().func,children:u().any}),E(J,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,isIOS:!1,isIOSReverse:!1,onChange:()=>null});const de=(0,p.Ay)(J).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-1wltq4q-0"})(["&.Switch-IOS{background:",";transform:matrix(1,0,0,-1,0,0);margin:0;button{border:unset;background:",";}&.regular{width:30px;height:14px;button{height:12px;width:12px;}}&.is-checked{&.small,&.regular{background:",";button{background:",";}}&.regular  button{transform:translate(15px,0);}}}"],O=>O.theme.color_text_disabled01,O=>O.theme.color_text_btn,O=>O.theme.color_proto,O=>O.theme.color_text_btn);class Y extends s.PureComponent{render(){return(0,Q.jsx)(de,{...this.props})}}},96411:Ne=>{var ie="\\ud800-\\udfff",n="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",p="\\u20d0-\\u20ff",I=n+s+p,u="\\u2700-\\u27bf",B="a-z\\xdf-\\xf6\\xf8-\\xff",te="\\xac\\xb1\\xd7\\xf7",$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Z="\\u2000-\\u206f",Q=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",E="A-Z\\xc0-\\xd6\\xd8-\\xde",V="\\ufe0e\\ufe0f",ee=te+$+Z+Q,J="['\u2019]",de="["+ee+"]",Y="["+I+"]",O="\\d+",N="["+u+"]",b="["+B+"]",w="[^"+ie+ee+O+u+B+E+"]",g="\\ud83c[\\udffb-\\udfff]",x="(?:"+Y+"|"+g+")",h="[^"+ie+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",j="[\\ud800-\\udbff][\\udc00-\\udfff]",U="["+E+"]",K="\\u200d",c="(?:"+b+"|"+w+")",G="(?:"+U+"|"+w+")",F="(?:"+J+"(?:d|ll|m|re|s|t|ve))?",se="(?:"+J+"(?:D|LL|M|RE|S|T|VE))?",f=x+"?",_="["+V+"]?",A="(?:"+K+"(?:"+[h,v,j].join("|")+")"+_+f+")*",M="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",k="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",P=_+f+A,ne="(?:"+[N,v,j].join("|")+")"+P,fe=RegExp([U+"?"+b+"+"+F+"(?="+[de,U,"$"].join("|")+")",G+"+"+se+"(?="+[de,U+c,"$"].join("|")+")",U+"?"+c+"+"+F,U+"+"+se,k,M,O,ne].join("|"),"g");function Ie(xe){return xe.match(fe)||[]}Ne.exports=Ie},96582:(Ne,ie,n)=>{"use strict";n.d(ie,{Ay:()=>Y});var s=n(8509),p=n(18941),I=n(38502),u=n(69623);const B={disabled:!1},te=I.createContext(null);var $=n(99129),Z="unmounted",Q="exited",E="entering",V="entered",ee="exiting",J=function(O){(0,p.A)(N,O);function N(w,g){var x;x=O.call(this,w,g)||this;var h=g,v=h&&!h.isMounting?w.enter:w.appear,j;return x.appearStatus=null,w.in?v?(j=Q,x.appearStatus=E):j=V:w.unmountOnExit||w.mountOnEnter?j=Z:j=Q,x.state={status:j},x.nextCallback=null,x}N.getDerivedStateFromProps=function(g,x){var h=g.in;return h&&x.status===Z?{status:Q}:null};var b=N.prototype;return b.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},b.componentDidUpdate=function(g){var x=null;if(g!==this.props){var h=this.state.status;this.props.in?h!==E&&h!==V&&(x=E):(h===E||h===V)&&(x=ee)}this.updateStatus(!1,x)},b.componentWillUnmount=function(){this.cancelNextCallback()},b.getTimeouts=function(){var g=this.props.timeout,x,h,v;return x=h=v=g,g!=null&&typeof g!="number"&&(x=g.exit,h=g.enter,v=g.appear!==void 0?g.appear:h),{exit:x,enter:h,appear:v}},b.updateStatus=function(g,x){if(g===void 0&&(g=!1),x!==null)if(this.cancelNextCallback(),x===E){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this);h&&(0,$.F)(h)}this.performEnter(g)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Q&&this.setState({status:Z})},b.performEnter=function(g){var x=this,h=this.props.enter,v=this.context?this.context.isMounting:g,j=this.props.nodeRef?[v]:[u.findDOMNode(this),v],U=j[0],K=j[1],c=this.getTimeouts(),G=v?c.appear:c.enter;if(!g&&!h||B.disabled){this.safeSetState({status:V},function(){x.props.onEntered(U)});return}this.props.onEnter(U,K),this.safeSetState({status:E},function(){x.props.onEntering(U,K),x.onTransitionEnd(G,function(){x.safeSetState({status:V},function(){x.props.onEntered(U,K)})})})},b.performExit=function(){var g=this,x=this.props.exit,h=this.getTimeouts(),v=this.props.nodeRef?void 0:u.findDOMNode(this);if(!x||B.disabled){this.safeSetState({status:Q},function(){g.props.onExited(v)});return}this.props.onExit(v),this.safeSetState({status:ee},function(){g.props.onExiting(v),g.onTransitionEnd(h.exit,function(){g.safeSetState({status:Q},function(){g.props.onExited(v)})})})},b.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},b.safeSetState=function(g,x){x=this.setNextCallback(x),this.setState(g,x)},b.setNextCallback=function(g){var x=this,h=!0;return this.nextCallback=function(v){h&&(h=!1,x.nextCallback=null,g(v))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},b.onTransitionEnd=function(g,x){this.setNextCallback(x);var h=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this),v=g==null&&!this.props.addEndListener;if(!h||v){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var j=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],U=j[0],K=j[1];this.props.addEndListener(U,K)}g!=null&&setTimeout(this.nextCallback,g)},b.render=function(){var g=this.state.status;if(g===Z)return null;var x=this.props,h=x.children,v=x.in,j=x.mountOnEnter,U=x.unmountOnExit,K=x.appear,c=x.enter,G=x.exit,F=x.timeout,se=x.addEndListener,f=x.onEnter,_=x.onEntering,A=x.onEntered,M=x.onExit,k=x.onExiting,P=x.onExited,ne=x.nodeRef,fe=(0,s.A)(x,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return I.createElement(te.Provider,{value:null},typeof h=="function"?h(g,fe):I.cloneElement(I.Children.only(h),fe))},N}(I.Component);J.contextType=te,J.propTypes={};function de(){}J.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:de,onEntering:de,onEntered:de,onExit:de,onExiting:de,onExited:de},J.UNMOUNTED=Z,J.EXITED=Q,J.ENTERING=E,J.ENTERED=V,J.EXITING=ee;const Y=J},97974:(Ne,ie,n)=>{"use strict";n.d(ie,{in:()=>de,Yr:()=>Y,hE:()=>O});var s=n(67787),p=n(65609),I=n(95549),u=n(38502),B=n(53732),te=n.n(B),$=n(72214);function Z(N){let{className:b,renderIconList:w}=N;return(0,$.jsx)("span",{className:te()("btn-icon",b),children:w.map((g,x)=>(0,$.jsx)("span",{className:"btn-icon-container",children:(0,$.jsx)($.Fragment,{children:g})},x))})}const Q=Z;var E=n(22460);class V extends u.PureComponent{constructor(b){super(b),(0,I.A)(this,"getClassName",()=>{const{className:w,type:g,size:x,corner:h,disabled:v,icon:j,children:U}=this.props;return te()(w,"button-root",{["type-"+g]:g,["size-"+x]:x,["corner-"+h]:h,"is-disabled":v,"has-icon":j&&U,"only-icon":j&&U===void 0})}),(0,I.A)(this,"onButtonClick",w=>{if(this.props.disabled){w.preventDefault();return}const{onClick:g}=this.props;g&&g(w)}),(0,I.A)(this,"getIconNode",()=>(0,$.jsx)(Q,{renderIconList:this.state.iconList,className:this.props.className})),(0,I.A)(this,"getChildrenNode",()=>(0,$.jsx)("span",{className:"btn-text",children:this.props.children})),this.state={iconList:this.props.icon?[this.props.icon]:[]}}componentDidUpdate(b){let{icon:w}=b;const{icon:g}=this.props;w!==g&&this.setState({iconList:g?[this.props.icon]:[]})}render(){const b=this.getClassName(),w=this.getIconNode(),g=this.getChildrenNode();return(0,$.jsx)(E.O,{className:b,onClick:this.onButtonClick,children:(0,$.jsxs)("div",{className:te()("btn-icon-text-container"),children:[w,g]})})}}(0,I.A)(V,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"});var ee=n(12456);const J=(N,b)=>{const w=N.forceTheme;return w?ee.fm[b]["value_"+w]:N.theme[b]},de=(0,s.AH)(["line-height:18px;&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid ",";}&[class*='is-disabled']{color:",";background:",";border:1px solid ",";}}&[class*='type-danger']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-text']{color:",";background:transparent;border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:transparent;border:1px solid transparent;}}&[class*='size-tiny']{max-height:28px;font-size:12px;line-height:14px;padding:6px 8px;.btn-icon-text-container{min-width:46px;}}&[class*='size-common']{max-height:32px;font-size:13px;padding:6px 10px;.btn-icon-text-container{min-width:58px;}}&[class*='size-medium']{max-height:32px;font-size:13px;padding:6px 12px;.btn-icon-text-container{min-width:70px;}}&[class*='is-disabled']{opacity:1;}"],N=>J(N,"color_text_btn"),N=>J(N,"color_btn_primary_normal"),N=>J(N,"color_btn_primary_hover"),N=>J(N,"color_btn_primary_clicked"),N=>J(N,"color_text_disabled02"),N=>J(N,"color_btn_primary_disabled"),N=>J(N,"color_text_L1"),N=>J(N,"color_bg_white"),N=>J(N,"color_bg_border_02"),N=>J(N,"color_btn_secondary_hover"),N=>J(N,"color_bg_border_02"),N=>J(N,"color_btn_secondary_active"),N=>J(N,"color_bg_border_02"),N=>J(N,"color_text_disabled01"),N=>J(N,"color_bg_white"),N=>J(N,"color_bg_border_02"),N=>J(N,"color_text_btn"),N=>J(N,"color_btn_danger_normal"),N=>J(N,"color_btn_danger_hover"),N=>J(N,"color_btn_danger_clicked"),N=>J(N,"color_text_disabled02"),N=>J(N,"color_btn_danger_disabled"),N=>J(N,"color_text_L1"),N=>J(N,"color_btn_secondary_hover"),N=>J(N,"color_btn_secondary_active"),N=>J(N,"color_text_disabled01")),Y=(0,s.Ay)(p.A).withConfig({displayName:"styles__StyledProtoButton",componentId:"sc-1pmgkeq-0"})(["",";"],de),O=(0,s.Ay)(V).withConfig({displayName:"styles__StyledProtoIconButton",componentId:"sc-1pmgkeq-1"})(["",";"],de)},99129:(Ne,ie,n)=>{"use strict";n.d(ie,{F:()=>s});var s=function(I){return I.scrollTop}}}]);

//# sourceMappingURL=4.n9fxu-vendor-307622d94dfa4b3e95bd.js.map